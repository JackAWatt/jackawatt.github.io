if (self.CavalryLogger) { CavalryLogger.start_js(["j1S3k"]); }

__d("BOFSellerLoggingSources",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADD_SECTION:"AddSection",FINISH_SETUP_BANNER:"FinishSetupBanner",PAGE_COMPOSER:"PageComposer",PUBLISHING_TOOLS:"PublishingTools",QP:"QP",SHOP_TAB:"ShopTab",STRIPE_REDIRECT:"StripeRedirect"};}),null);
__d("BrandedContentTaggerNuxAction",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={LOG_VIEW:"log_view",DISMISS:"dismiss"};}),null);
__d("CarouselPagesComposerSource",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CAROUSEL_CAMERA_ICON:"carousel_camera_icon"};}),null);
__d("CommerceProductTaggerType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:"none",SHOP_PAGE:"shop_page",NON_SHOP_PAGE:"non_shop_page"};}),null);
__d("CommerceProductVariantType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SIZE:"Size",COLOR:"Color",MATERIAL:"Material",LENGTH:"Length",FIT:"Fit",WIDTH:"Width",SCENT:"Scent",FLAVOR:"Flavor",MODEL:"Model",FORMAT:"Format",PLATFORM:"Platform",EDITION:"Edition"};}),null);
__d("CommerceSelfServeProductTaxCategories",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:0,TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD:4900000,TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION:4.9e+07,TAX_ITEM_CODE_COMMERCE_CLOTHING:53100000,TAX_ITEM_CODE_COMMERCE_SHOES:53110000,TAX_ITEM_CODE_COMMERCE_LUGGAGE_BAGS:53120000,TAX_ITME_CODE_COMMERCE_PERSONAL_CARE:53130000,TAX_ITEM_CODE_COMMERCE_JEWELRY:54100000,TAX_ITEM_CODE_COMMERCE_WATCHES:54111500,TAX_ITEM_CODE_COMMERCE_OTHERS:-1};}),null);
__d("CommerceSelfServeSection",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CHECKOUT_URL:"checkout_url",COMMERCE_INSIGHTS:"commerce_insights",FEATURED_PRODUCT_TOGGLE:"featured_product_toggle",INVENTORY:"inventory",PRODUCT_VISIBILITY:"product_visibility",SHIPPING_OPTIONS:"shipping_options",TAX_CATEGORY:"tax_category",TAX_TABLE:"tax_table",VARIANTS:"variants",MINIMUM_PRICE_ERROR:"minimum_price_error",SALE_PRICE:"sale_price"};}),null);
__d("CommerceSelfServeUI",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MIN_SHIPPING_OPTIONS:1,MAX_SHIPPING_OPTIONS:5};}),null);
__d("ComposerPerfEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CLIENT_BOOTSTRAPPED:"client_bootstrapped",CLIENT_BOOTLOADED:"client_bootloaded",CLIENT_POST_SUCCEEDED:"client_post_succeeded",CLIENT_POST_FAILED:"client_post_failed"};}),null);
__d("FacerecWaterfallEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={RECOGNITION_RECEIVED_BY_CLIENT:"recognition_received_by_client",CLIENT_RECOGNITION_POLLER_TIMEOUT:"client_recognition_poller_timeout",CLIENT_RECOGNITION_POLLER_GIVE_UP:"client_recognition_poller_give_up",SERVER_PHOTO_PUBLISHED:"server_photo_published",SERVER_PHOTO_TAG_ADDED:"sever_photo_tag_added",SERVER_RECOGNITION_OF_PHOTO_POLLED:"server_recognition_of_photo_polled",SERVER_RECOGNITION_OF_FACE_BOX_RETURNED:"server_recognition_of_face_box_returned",CLIENT_PHOTO_PUBLISHED:"client_photo_published"};}),null);
__d("PagesComposerCarouselPostChildAttachmentAttributes",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PICTURE:"picture",NAME:"name",DESCRIPTION:"description",LINK:"link",SELECTED:"selected",SCRAPED:"scraped",IMAGE_FBID:"image_fbid",IMAGE_SOURCE:"image_source",ORIGINAL_DIMENSION_HEIGHT:"original_dimensions_height",ORIGINAL_DIMENSION_WIDTH:"original_dimensions_width",CROPPING_START_POINT_X:"cropping_startPoint_x",CROPPING_START_POINT_Y:"cropping_startPoint_y",CROPPING_SOURCE_DIMENSION_HEIGHT:"cropping_source_dimension_height",CROPPING_SOURCE_DIMENSION_WIDTH:"cropping_source_dimension_width",VIDEO_ID:"video_id",CTA_TYPE:"cta_type"};}),null);
__d("PagesComposerCarouselPostLogAttributes",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={USE_CAROUSEL_COMPOSER:"use_carousel_composer",CAROUSEL_INCOMPATIBLE:"carousel_incompatible",CAROUSEL_INCOMPATIBLE_TYPE:"carousel_incompatible_type",SCRAPED_IMAGE_NUM_OLD:"scraped_image_num_old",SCRAPED_URL:"scraped_url",SCRAPED_TIME:"scraped_time",COMPOSER_LOCATION:"composer_location",HIDE_END_CARD:"hide_end_card",SOURCE_ATTACHMENT:"source_attachment",PREFILL_SCRAPE_URL:"prefill_scrape_url"};}),null);
__d("PagesComposerCarouselPostNuxType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MEDIA_ATTACHEMENT_URL_INPUT_AREA_NUX:"media_attachment_url_input_area_nux"};}),null);
__d("PagesComposerExtraAttachmentIcons",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BOOK_TRAVEL_ICON:"BOOK_TRAVEL_ICON",CAUSE_ICON:"CAUSE_ICON",COUPONS_ICON:"COUPONS_ICON",EVENTS_ICON:"EVENTS_ICON",FINCH_COUPONS_ICON:"FINCH_COUPONS_ICON",FINCH_EVENTS_ICON:"FINCH_EVENTS_ICON",LEARN_MORE_ICON:"LEARN_MORE_ICON",MORE_ICON:"MORE_ICON",OFFERS_ICON:"OFFERS_ICON",PRODUCT_ICON:"PRODUCT_ICON",Q_AND_A_ICON:"Q_AND_A_ICON",SHOP_NOW_ICON:"SHOP_NOW_ICON",SIGN_UP_ICON:"SIGN_UP_ICON"};}),null);
__d("PagesManagerProductToolsConstants",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MAX_FEATURED_ITEM_COUNT:10};}),null);
__d("PaymentsTypeEnum",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BOF:"BOF",NMOR:"NMOR"};}),null);
__d("PhotoEditorLoggingConstants",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSER_IMAGE_STICKER:"composer_sticker",COMPOSER_IMAGE_TEXT_OVERLAY:"composer_text_overlay",COMPOSER_IMAGE_HAS_CROP:"composer_has_crop",COMPOSER_IMAGE_HAS_FILTER:"composer_has_filter"};}),null);
__d("PlaceAttachmentSetting",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={HIDE_ATTACHMENT:1,SHOW_ATTACHMENT:2};}),null);
__d("ProductVisibility",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={LEGACY_PUBLIC:"",STAGING:"staging",PUBLISHED:"published"};}),null);
__d("PUWUploaders",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={HTML5:"html5",FLASH:"flash"};}),null);
__d("StorySurfaces",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={HOMEPAGE:1,TIMELINE:2,PERMALINK:3,ENTSTREAM:4,GROUP:5};}),null);
__d("TaggingLimits",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MAX_WITH_TAGS:100,MAX_SPONSOR_TAGS:1};}),null);
__d("XCommerceSelfServeParam",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={EXPLANATION:"explanation",PAGE_ID:"page_id",AMOUNT:"amount",ADDRESS:"address",STREET_1:"street1",CITY:"city",STATE:"region",ZIP:"postalCode",ALERT_EMAIL:"alert_email",COLLECTION_NAME:"collection_name",CONTACT_EMAIL:"contact_email",SECONDARY_CTA:"secondary_product_cta",PAYMENT_PROVIDER:"payment_provider",PAYPAL_MERCHANT_EMAIL:"paypal_merchant_email",RETURN_POLICY_TIME:"return_policy_time",SETTINGS_ID:"settings_id",SHIPPING_POLICY_TIME:"shipping_policy_time",STRIPE_DEFERRED_EMAIL:"stripe_deferred_email",TAX_NEXUS_LOCATIONS:"tax_nexus_locations",VISIBILITY:"visibility",CHECKOUT_URL:"checkout_url",COLLECTION_ID:"collection_id",CURRENCY_CODE:"currency_code",DEFAULT_SHIPPING_OPTIONS_JSON:"default_shipping_options_json",FEATURED_PRODUCT:"featured_product",INVENTORY:"inventory",IS_ON_SALE:"is_on_sale",PRODUCT_DESCRIPTION:"product_desc",PRODUCT_ID:"product_id",PRODUCT_PHOTO_IDS:"photo_ids",PRODUCT_VIDEO_IDS:"video_ids",PRODUCT_PRICE:"product_price",PRODUCT_SALE_PRICE:"product_sale_price",PRODUCT_TITLE:"product_title",SHARE_TO_TIMELINE:"share_to_timeline",SHIPPING_OPTION_NAMES:"shipping_option_names",SHIPPING_OPTION_VALUES:"shipping_option_values",TAX_APPLIED_TO_SHIPPING_MAP:"tax_applied_to_shipping_map",TAX_CATEGORY:"tax_category",TAX_LOCATIONS:"tax_locations",TAX_PERCENT_MAP:"tax_percent_map",VARIANT_NAMES:"variant_names",VARIANT_INVENTORY:"variant_inventory_map",VARIANT_PRICE:"variant_price_map",VARIANT_SALE_PRICE:"variant_sale_price_map",VARIANT_DATA:"variant_serial_data_map",VARIANT_PRODUCT_ID:"variant_product_id_map"};}),null);
__d('AdsAbstractCurrencyInput.react',['fbt','AdsCurrencyFormatter','Keys','React','NumberFormatConfig','escapeRegex'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('NumberFormatConfig').decimalSeparator,l=c('NumberFormatConfig').numberDelimiter,m=c('React').PropTypes,n=new RegExp('^\\D*['+c('escapeRegex')(l)+'\\d]*'+c('escapeRegex')(k)+'?\\d{0,8}\\D*$'),o=500;i=babelHelpers.inherits(p,c('React').Component);j=i&&i.prototype;function p(){var q,r;'use strict';for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=j.constructor).call.apply(q,[this].concat(t)),this.state={dirtyValue:null,pasteTime:null,xuiError:this.props.xuiError},this.$AdsAbstractCurrencyInput1=function(){var v=this.state.dirtyValue;if(v===null){v=this.props.value;if(v!=null){v=c('AdsCurrencyFormatter').formatCurrencyFullFormat(this.props.currency,v,this.props.withISO,this.props.withNumberDelimiters,this.props.withDecimals);}else v='';}return v;}.bind(this),this.focusInput=function(){this.refs.textInput.focusInput();}.bind(this),this.updateValue=function(event){var v=this.$AdsAbstractCurrencyInput6(event.target.value),w=this.$AdsAbstractCurrencyInput7(v);this.props.onDataUpdate(v);this.setState({dirtyValue:null,xuiError:w});}.bind(this),this.$AdsAbstractCurrencyInput8=function(v){if(v==null)return false;return n.test(v);},this.$AdsAbstractCurrencyInput7=function(v){var w=this.props.xuiError;if(!this.$AdsAbstractCurrencyInput8(v))w=h._("Your budget must be a valid number.");return w;}.bind(this),this.$AdsAbstractCurrencyInput2=function(event){var v=event.target.value,w=this.$AdsAbstractCurrencyInput7(v);this.setState({dirtyValue:v,xuiError:w});if(this.props.eventType==='change')this.props.onDataUpdate(this.$AdsAbstractCurrencyInput6(v));this.props.onUnderlyingValueChange&&this.props.onUnderlyingValueChange(this.$AdsAbstractCurrencyInput6(v),v);}.bind(this),this.$AdsAbstractCurrencyInput3=function(event){if(this.state.dirtyValue!==null)this.updateValue(event);this.props.onBlur&&this.props.onBlur(event);}.bind(this),this.$AdsAbstractCurrencyInput6=function(v){var w=c('AdsCurrencyFormatter').parseOptionalCurrency(this.props.currency,v);if(!this.props.invalidInputIsNull)w=w||0;if(w&&this.props.nonnegative)w=Math.abs(w);return w;}.bind(this),this.$AdsAbstractCurrencyInput5=function(event){if(!this.props.onMultiplePaste)return;if(this.state.pasteTime===null){this.setState({pasteTime:Date.now()});}else{if(Date.now()-this.state.pasteTime<o)this.props.onMultiplePaste();this.setState({pasteTime:null});}}.bind(this),this.$AdsAbstractCurrencyInput4=function(event){if(event.keyCode===c('Keys').RETURN)this.updateValue(event);this.props.onKeyUp&&this.props.onKeyUp(event);}.bind(this),r;}p.prototype.componentWillReceiveProps=function(q){'use strict';if(this.props.xuiError!==q.xuiError)this.setState({xuiError:q.xuiError});};p.prototype.render=function(){'use strict';var q=this.$AdsAbstractCurrencyInput1(),r=this.props.textInputClass;return c('React').createElement(r,babelHelpers['extends']({},this.props,{onChange:this.$AdsAbstractCurrencyInput2,onBlur:this.$AdsAbstractCurrencyInput3,onKeyUp:this.$AdsAbstractCurrencyInput4,onPaste:this.$AdsAbstractCurrencyInput5,ref:'textInput',value:q,xuiError:this.state.xuiError}));};p.propTypes={currency:m.string.isRequired,value:m.number,withDecimals:m.bool,withISO:m.bool,withNumberDelimiters:m.bool,nonnegative:m.bool,invalidInputIsNull:m.bool,onDataUpdate:m.func.isRequired,onUnderlyingValueChange:m.func,onKeyUp:m.func,eventType:m.oneOf(['change','blur']),textInputClass:m.func.isRequired,onMultiplePaste:m.func};p.defaultProps={eventType:'blur',withDecimals:true,withNumberDelimiters:false};f.exports=p;}),null);
__d('AdsCurrencyInput.react',['AdsAbstractCurrencyInput.react','React','BUITextInput.react','ifRequired'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.focusInput=function(){this.refs.input.focusInput();}.bind(this),this.onUnderlyingValueChange=function(q,r){c('ifRequired')('AdsCMLoggerInternal',function(s){s.log('ADS_CM_CURRENCY_INPUT_CHANGE',null,{old_value:r,new_value:q});});this.props.onUnderlyingValueChange&&this.props.onUnderlyingValueChange(q,r);}.bind(this),m;}k.prototype.render=function(){'use strict';return c('React').createElement(c('AdsAbstractCurrencyInput.react'),babelHelpers['extends']({},this.props,{ref:'input',textInputClass:c('BUITextInput.react'),onUnderlyingValueChange:this.onUnderlyingValueChange}));};k.propTypes={currency:j.string.isRequired,value:j.number,withDecimals:j.bool,withISO:j.bool,nonnegative:j.bool,invalidInputIsNull:j.bool,onDataUpdate:j.func.isRequired,onUnderlyingValueChange:j.func,eventType:j.oneOf(['change','blur']),onMultiplePaste:j.func};f.exports=k;}),null);
__d('AdsNumberInput.react',['cx','fbt','AdsTextInput.react','React','intlNumUtils','joinClasses','mergeDeep'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={focused:false,formatError:false},this.$AdsNumberInput1=function(){this.setState({focused:false,formatError:false});}.bind(this),this.$AdsNumberInput2=function(s){var t=this.$AdsNumberInput5(s);if(t>=0)s=s.substring(0,t);this.props.onChange(c('intlNumUtils').parseNumber(s));}.bind(this),this.$AdsNumberInput3=function(){this.setState({focused:true});}.bind(this),this.$AdsNumberInput4=function(s){var t=this.$AdsNumberInput5(s),u=t>=0;this.setState({formatError:u});}.bind(this),this.$AdsNumberInput5=function(s){return s.search(/[^0-9\,\.\ ]/);},o;}m.prototype.render=function(){var n=this.props.errors||{};if(this.state.formatError)n=c('mergeDeep')(n,{NON_NUMERIC_INPUT:i._("This input can only contain numbers")});var o=this.props.value;if(o!=null)o=c('intlNumUtils').formatNumber(o);if(o&&!this.state.focused){var p=this.props.prefix||'',q=this.props.suffix||'';o=p+o+q;}var r="_x62";return c('React').createElement(c('AdsTextInput.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,r),errors:n,value:o,onBlur:this.$AdsNumberInput1,onChange:this.$AdsNumberInput2,onFocus:this.$AdsNumberInput3,onImmediateChange:this.$AdsNumberInput4}));};m.propTypes={errors:l.object,prefix:l.string,suffix:l.string,value:l.number,onChange:l.func.isRequired};f.exports=m;}),null);
__d('LoadingImageBox.react',['cssVar','BUIAdoptionXUISpinner.react','CenteredContainer.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.className,n=l.height,o=l.width;return (c('React').createElement(c('CenteredContainer.react'),{className:m,style:{backgroundColor:"#000000",height:n,width:o},vertical:true},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{background:'dark',size:'large'})));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('SUIAtlasConstants',['cssVar','SUITypeStyle'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={black:"#000",blackOpacity40:"rgba(0, 0, 0, .4)",neutral80:"#394E5D",neutral72:"#466072",neutral50:"#788F9F",neutral30:"#A0B0BB",neutral15:"#D0DAE0",neutral06:"#EEEEEE",neutral03:"#F6F6F6",neutral02:"#F9F9F9",white:"#fff",green:"#4EC099",greenTint85:"#E4F5EF",greenTint50:"#A6DFCC",greenShade10:"#46AC89",greenShade25:"#3A8F72",greenStatus:"#9FD356",blue:"#27A9E1",blueTint85:"#DEF2FA",blueTint50:"#93D4F0",blueShade10:"#2397CA",blueShade25:"#1D7EA8",red:"#F55D5D",redTint85:"#FDE6E6",redTint50:"#FAAEAE",redShade10:"#DC5353",redShade25:"#B74545",yellow:"#FFA933",yellowTint85:"#FFF2E0",yellowTint50:"#FFD499",yellowShade10:"#E5972D",yellowShade25:"#BF7E26"},j={type40:new (c('SUITypeStyle'))({color:"#466072",fontFamily:"Freight Sans Bold, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:'40px',letterSpacing:'normal',textRendering:'optimizelegibility'}),type32:new (c('SUITypeStyle'))({color:"#788F9F",fontFamily:"Freight Sans Bold, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:'32px',letterSpacing:'normal',textRendering:'optimizelegibility'}),type32Value:new (c('SUITypeStyle'))({color:"#466072",fontFamily:"Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:'32px',fontWeight:'200'}),type24:new (c('SUITypeStyle'))({color:"#788F9F",fontFamily:"Freight Sans Bold, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:'24px',letterSpacing:'normal',textRendering:'optimizelegibility'}),type24Bold:new (c('SUITypeStyle'))({color:"#466072",fontFamily:"Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:'24px',fontWeight:'bold'}),type24Value:new (c('SUITypeStyle'))({color:"#466072",fontFamily:"Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:'24px',fontWeight:'200'}),type16:new (c('SUITypeStyle'))({color:"#466072",fontFamily:"Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:'16px'}),type12:new (c('SUITypeStyle'))({color:"#466072",fontFamily:"Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:'12px'}),type12Bold:new (c('SUITypeStyle'))({color:"#466072",fontFamily:"Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:'12px',fontWeight:'bold'}),type12Form:new (c('SUITypeStyle'))({color:"#000",fontFamily:"Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:'12px'}),type12Toast:new (c('SUITypeStyle'))({color:"#fff",fontFamily:"Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:'12px',fontWeight:'normal'}),type11:new (c('SUITypeStyle'))({color:"#466072",fontFamily:"Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:'11px'}),type11Bold:new (c('SUITypeStyle'))({color:"#466072",fontFamily:"Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:'11px',fontWeight:'700'})};f.exports={COLORS:i,TYPOGRAPHY:j};}),null);
__d('IconConfig.atlas',['cx'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports={addItem:"_2dev",ads:"_382x",advertisers:"_382y",allDocuments:"_2bs-",assets:"_256d",assign:"_42mq",assignment:"_2dew",associationsFile:"_5bvf",atlasLogo:"_3bw3",backwardArrow:"_10rf",blockedItem:"_2dex",brandSafety:"_2dez",calendar:"_3fzc",calendarDay:"_3bw4",calendarMonth:"_3bw5",campaigns:"_382z",chart:"_3bw6",check:"_2de-",chevronDown:"_42mr",chevronLeft:"_42ms",chevronRight:"_42mt",chevronUp:"_42mu",clickThru:"_382-",clock:"_2_bn",connect:"_2de_",copy:"_3bw8",create:"_pif",creativeConcept:"_382_",dash:"_1z18",decisionGroups:"_qpt",defaultAd:"_3830",'delete':"_3bw9",disconnect:"_2df0",document:"_2bt0",downArrow:"_2n8m",download:"_3bwa",edit:"_1cdu",encryptionFile:"_2bt1",evenCreditModel:"_sbd",exclude:"_3sbg",'export':"_3bwb",favorite:"_42mv",file:"_1cdv",filter:"_3bwc",flashDark:"_1cdw",flashLight:"_1cdx",folder:"_1_nt",folderZIP:"_5ymd",forwardArrow:"_2n8n",gauge:"_3bwd",generate:"_42mw",health:"_3bwe",help:"_3m7e",hierarchy:"_3fzd",html:"_1cdy",htmlFile:"_3m7f",'import':"_3bwf",information:"_3bwg",'information-open':"_2df1",intersection:"_3sbh",lastClickModel:"_sbe",liverailLogo:"_5ymr",menu:"_3e67",metadata:"_256j",metadataFile:"_5bvg",money:"_42mx",more:"_10rg",notification:"_3bwh",notificationActive:"_3832",packages:"_3833",percent:"_42my",photo:"_1cdz",placement:"_2df2",placements:"_3834",positionalModel:"_sbf",prioritize:"_42mz",privateInventory:"_5yms",removeItem:"_2df3",replace:"_3fze",reports:"_3835",review:"_3bwi",rtb:"_3836",search:"_42m-",segments:"_3837",settings:"_3bwj",sharingFrom:"_5ymt",sharingTo:"_5ym_",statisticalModel:"_sbg",success:"_3bwk",targeting:"_3838",timeDecayModel:"_sbh",timer:"_3839",tracking:"_383a",trackingNav:"_5mde",trackingPixel:"_383b",traffic:"_3bwl",union:"_3sbi",universalTag:"_4fd5",upArrow:"_2n8o",user:"_3bwm",users:"_3bwn",video:"_4ndo",warning:"_3bwo",weighting:"_256l",x1:"_1cd-"};}),null);
__d('Typography.atlas',['cx'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=['xs','s','m','l','xl'],j=['regular','bold'],k=['blue','dark','darkBlue','green','light','lightBlue','medium','orange','red','white'],l={Colors:k,Sizes:i,Weights:j,getClassName:function m(n,o,p){return "_4vo9"+(n==='l'?' '+"_4vod":'')+(n==='xl'?' '+"_4voe":'')+(o==='bold'?' '+"_4voh":'')+(n==='m'?' '+"_4voc":'')+(p==='light'?' '+"_4von":'')+(p==='medium'?' '+"_4voo":'')+(p==='dark'?' '+"_4vop":'')+(p==='orange'?' '+"_5k1o":'')+(p==='red'?' '+"_4voq":'')+(p==='blue'?' '+"_4vor":'')+(p==='darkBlue'?' '+"_mo-":'')+(p==='lightBlue'?' '+"_4_0z":'')+(n==='s'?' '+"_4vob":'')+(p==='white'?' '+"_4vos":'')+(n==='xs'?' '+"_4voa":'')+(p==='green'?' '+"_43jm":'')+(o==='regular'?' '+"_4vom":'');}};f.exports=l;}),null);
__d('Icon.atlas',['cx','IconConfig.atlas','React','Typography.atlas','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').Element,l=c('React').PureComponent;i=babelHelpers.inherits(m,l);j=i&&i.prototype;m.prototype.render=function(){var n=c('IconConfig.atlas')[this.props.name],o=this.props.style;if(this.props.height)o=babelHelpers['extends']({fontSize:this.props.height+'px',lineHeight:this.props.height+'px'},o);var p=null;if(this.props.color)p=c('Typography.atlas').getClassName(null,null,this.props.color);return (c('React').createElement('span',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_3bwp",p,n),style:o})));};function m(){i.apply(this,arguments);}f.exports=m;}),null);
__d('SUIAtlasIcon.react',['Icon.atlas','React'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=i.colorDefault,k=i.colorDisabled,l=i.colorFocused,m=i.colorHover,n=i.disabled,o=i.focused,p=i.hover,q=i.size,r=i.style,s=babelHelpers.objectWithoutProperties(i,['colorDefault','colorDisabled','colorFocused','colorHover','disabled','focused','hover','size','style']),t=j;if(n&&k){t=k;}else if(o&&l){t=l;}else if(p&&m)t=m;return c('React').createElement(c('Icon.atlas'),babelHelpers['extends']({},s,{height:q,style:babelHelpers['extends']({color:t},r)}));}f.exports=h;}),null);
__d('SUIAtlasTheme',['cssVar','Icon.atlas','React','SUIAtlasConstants','SUIAtlasIcon.react','SUITheme','SUITypeStyle'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('SUIAtlasConstants').COLORS,j=c('SUIAtlasConstants').TYPOGRAPHY,k=c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral50,colorDisabled:i.neutral15,colorHover:i.neutral72,name:'delete'}),l=c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral15,colorDisabled:i.neutral30,colorHover:i.neutral06,name:'delete'}),m={SUIButton:{height:{normal:32,short:32,tall:48},padding:{normal:{button:'16px',icon:'6px',onlyIcon:'19px'},short:{button:'16px',icon:'6px',onlyIcon:'19px'},tall:{button:'16px',icon:'6px',onlyIcon:'19px'}},typeStyle:j.type12,use:{confirm:{active:{background:i.blueShade25,borderColor:i.blueShade25,color:i.white},disabled:{background:i.neutral15,borderColor:i.neutral15,color:i.white},hover:{background:i.blueShade10,borderColor:i.blueShade10,color:i.white},normal:{background:i.blue,borderColor:i.blue,color:i.white}},'default':{active:{background:i.neutral06,borderColor:i.neutral15,color:i.neutral72},disabled:{background:i.neutral15,borderColor:i.neutral15,color:i.white},hover:{background:i.neutral03,borderColor:i.neutral15,color:i.neutral72},normal:{background:i.white,borderColor:i.neutral15,color:i.neutral72}},special:{active:{background:i.greenShade25,borderColor:i.greenShade25,color:i.white},disabled:{background:i.neutral15,borderColor:i.neutral15,color:i.white},hover:{background:i.greenShade10,borderColor:i.greenShade10,color:i.white},normal:{background:i.green,borderColor:i.green,color:i.white}}}},SUIButtonIcon:{colorConfirm:i.blueTint50,colorDefault:i.neutral50,colorDisabled:i.white,colorSpecial:i.greenTint50,defaultSize:18,iconComponent:c('SUIAtlasIcon.react')},SUICard:{colors:{background:i.white,border:i.neutral06,footerBackground:i.neutral02,innerBorder:i.neutral15},typeStyles:{content:j.type12,footer:j.type12,header:j.type24}},SUIThreeStateCheckboxInput:{activeCheckboxBackgroundColor:i.white,activeCheckboxBorderColor:i.blueTint50,checkboxBackgroundColor:i.white,checkboxBorderColor:i.neutral15,checkedIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral72,name:'check',size:14}),disabledLabelColor:i.neutral30,labelColor:i.neutral72,partiallyCheckedIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral72,name:'dash',size:14}),typeStyle:j.type12},SUICloseButton:{dark:{large:k,small:k},light:{large:l,small:l},iconSize:{large:18,small:14}},SUICustomPopover:{backgroundColor:i.white,borderColor:i.neutral15,borderHighlightColor:i.green,color:i.neutral72},SUITooltip:{backgroundColor:i.black,color:i.white,typeStyle:babelHelpers['extends']({},j.type12,{WebkitFontSmoothing:'auto'})},SUIDateInput:{inputIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral30,name:'calendarMonth',size:24}),layerBackgroundColor:i.white,layerBorderColor:i.neutral15},SUICalendarPager:{dayColor:i.neutral72,dayDisabledColor:i.neutral30,dayNameColor:i.neutral30,gridBorderColor:i.neutral15,pagerBackgroundColor:i.neutral03,pagerBorderColor:i.neutral06,rangeBackgroundColor:i.neutral06,selectedBackgroundColor:i.blueTint50,typeStyle:j.type12},SUIDateTimeRangePicker:{backgroundColor:i.white,borderColor:i.neutral15,typeStyle:j.type12},SUIDecisionModal:{decisionOption:{backgroundColor:"#fff",borderColor:"#D0DAE0",hoverBackgroundColor:"#EEEEEE",titleStyle:babelHelpers['extends']({},j.type16,{color:"#2397CA"}),descriptionStyle:j.type12}},SUIError:{error:{borderColor:i.red,icon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.red,name:'warning',size:24})},warning:{borderColor:i.yellow,icon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.yellow,name:'warning',size:24})}},SUIFileSelector:{backgroundColor:{'default':i.white,hovering:i.neutral03},borderColor:{'default':i.neutral15,error:i.red},typeStyles:{content:j.type12,header:j.type24Bold}},SUIFixedTable:{cellPaddingForFirstLastInRow:24,cellPadding:12,colors:{cell:i.neutral72,cellBorder:i.neutral03,cellErrorBackground:i.redTint85,cellHoverBackground:i.neutral06,cellModifiedBackground:i.neutral15,cellSelectedBackground:i.blueTint85,cellWarningBackground:i.yellowTint85,error:i.red,heading:i.neutral30,headingBackground:i.white,headingRule:i.neutral15,highlight:i.blue,loading:i.neutral30,loadingBackground:i.neutral03,noItemsMessage:i.neutral72,rowBackground:i.white,rowStripe:i.neutral02,text:i.neutral72,warning:i.yellow},textStyles:{cell:j.type12,heading:j.type12,table:j.type12}},SUIFormRow:{childrenText:j.type12,emphasizedBackgroundColor:i.neutral06,labelText:j.type12,positions:{helpPosition:'13px',requiredPosition:'16px',requiredPositionWithHelp:'32px'},requiredColor:i.red},SUIHelpMessage:{icon:c('React').createElement(c('SUIAtlasIcon.react'),{name:'information'}),textColor:i.neutral30},SUIHighlightedText:{backgroundColor:i.greenTint50},SUIInlineNux:{borderColor:i.blueTint50,icon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.blue,name:'information',size:20}),titleTypeStyle:j.type12Bold},SUIInlineTypeahead:{dividerBorderColor:i.neutral15,searchIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral50,name:'search'})},SUIItemListScopeHeader:{favorite:{color:i.yellow,enabledColor:i.white,iconName:'favorite'},iconComponent:c('Icon.atlas')},SUILoadingBar:{backgroundColor:i.blue,movingColor:i.blueTint50},SUILink:{hoverColor:i.blueShade25,normalColor:i.blue},SUIMessageBox:{filled:{backgroundColor:i.blueTint85,border:'1px solid',borderColor:i.neutral30,color:i.neutral72},outline:{backgroundColor:i.white,border:'1px solid',borderColor:i.neutral30,color:i.black}},SUIModal:{margin:64},SUIModalBackground:{backgroundColor:i.blackOpacity40},SUIModalCard:{boxShadow:"0px 1px 0px 0px rgba(0, 0, 0, 0.10)",colors:{background:i.neutral02,border:i.neutral06,footerBackground:i.white,headerBackground:i.white,innerBorder:i.neutral15},fullWidthFooterDivider:true,padding:{contentLightPadding:{paddingBottom:'8px',paddingLeft:'24px',paddingRight:'24px',paddingTop:'8px'},contentNormalPadding:{paddingBottom:'24px',paddingLeft:'24px',paddingRight:'24px',paddingTop:'24px'},footer:{paddingBottom:'0',paddingLeft:'24px',paddingRight:'8px',paddingTop:'0'},header:{paddingBottom:'0',paddingLeft:'24px',paddingRight:'8px',paddingTop:'0'}},typeStyles:{content:j.type12,footer:j.type16,header:j.type16}},SUINameCell:{description:{color:i.neutral72,typeStyle:j.type11}},SUINestedTable:{borderColor:i.neutral15,evenBackgroundColor:i.white,loadingBackgroundColor:i.neutral03,loadingColor:i.neutral30,oddBackgroundColor:i.neutral02,rowIconClosedName:'chevronRight',rowIconComponent:c('Icon.atlas'),rowIconOpenName:'chevronDown',textColor:i.neutral72,textStyle:j.type12},SUINotice:{boxShadow:'none',textStyle:babelHelpers['extends']({},j.type12,{lineHeight:'21px'}),type:{close:{iconName:'delete'},error:{icon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.white,name:'warning'}),iconBackgroundColor:i.red,messageBackgroundColor:i.white,messageBorderColor:i.neutral15},information:{icon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.white,name:'information-open'}),iconBackgroundColor:i.blue,messageBackgroundColor:i.white,messageBorderColor:i.neutral15},success:{icon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.white,name:'check'}),iconBackgroundColor:i.blue,messageBackgroundColor:i.white,messageBorderColor:i.neutral15},warning:{icon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.white,name:'warning'}),iconBackgroundColor:i.yellow,messageBackgroundColor:i.white,messageBorderColor:i.neutral15}}},SUIRadioList:{activeBackgroundColor:i.neutral06,activeBorderColor:i.neutral30,activeDotColor:i.neutral80,backgroundColor:i.white,borderColor:i.neutral15,disabledBackgroundColor:i.neutral06,disabledBorderColor:i.neutral15,disabledDotColor:i.neutral50,disabledTypeColor:i.neutral30,dotColor:i.neutral72,enabledTypeColor:i.neutral72,typeStyle:j.type12},SUIRemovableSearchableSelector:{removeButtonBackgroundColor:i.neutral03,removeButtonBorderColor:i.neutral15},SUISearchableSelector:{dropdownBackgroundColor:i.white,dropdownBorderColor:i.neutral15,headerBackgroundColor:i.white,headerTypeStyle:j.type12,subtitleColor:i.neutral30,subtitleTypeStyle:j.type12,titleTypeStyle:j.type12},SUISearchInput:{cancelIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral15,colorHover:i.neutral50,name:'delete'}),searchIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral15,colorFocused:i.neutral50,name:'search',size:24})},SUISectionHeading:{borderColor:i.neutral15,color:i.neutral50,typeStyle:j.type24},SUISelector:{backgroundColor:i.white,borderColor:i.neutral15,boxShadow:"0px 2px 4px 0px rgba(0, 0, 0, 0.10)"},SUISelectorButton:{disabled:{background:i.neutral02,borderColor:i.neutral15,color:i.neutral30},chevron:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral72,colorDisabled:i.neutral30,name:'chevronDown',size:12}),padding:'12px'},SUISelectorOption:{activeBackgroundColor:i.neutral02,activeColor:i.neutral72,color:i.neutral72,descriptionColor:i.neutral50,descriptionSelectedColor:i.neutral15,disabledBackgroundColor:i.white,disabledColor:i.neutral30,highlightedBackgroundColor:i.neutral03,highlightedColor:i.neutral72,padding:{bottom:'8px',left:'24px',right:'24px',top:'8px'},paddingWhenNoValue:{bottom:'8px',left:'12px',right:'24px',top:'8px'},selectedBackgroundColor:i.blueTint85,selectedColor:i.neutral72,selectedIcon:c('React').createElement(c('Icon.atlas'),{name:'check',style:{fontSize:'16px'}}),selectedIconMarginLeft:'-7px',selectedIconMarginRight:'3px',selectedTypeStyle:new (c('SUITypeStyle'))({color:"#466072",fontFamily:"Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:'12px',fontWeight:'bold'}),typeStyle:j.type12},SUISelectorOptionGroup:{activeBackgroundColor:i.neutral02,activeColor:i.neutral72,collapsedIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral72,name:'chevronRight',size:12}),color:i.neutral72,expandedIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral72,name:'chevronDown',size:12}),highlightedBackgroundColor:i.neutral03,highlightedColor:i.neutral72,typeStyle:j.type12Bold},SUISelectorSeparator:{color:i.neutral15,margin:{bottom:'12px',left:'12px',right:'12px',top:'12px'}},SUISpinner:{activeColor:i.neutral50,backgroundColor:i.neutral15,darkActiveColor:i.neutral50,darkBackgroundColor:i.neutral15,sizes:{large:{border:2,diameter:20},small:{border:1.5,diameter:14}}},SUISplitButton:{chevronPadding:'4px',use:{confirm:{chevron:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.white,colorDisabled:i.white,name:'chevronDown',style:{padding:'0 5px'}}),dividerColor:i.white},'default':{chevron:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral72,colorDisabled:i.white,name:'chevronDown',style:{padding:'0 5px'}}),dividerColor:i.neutral15},special:{chevron:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.white,colorDisabled:i.white,name:'chevronDown',style:{padding:'0 5px'}}),dividerColor:i.white}}},SUIStatusIndicator:{colors:{active:i.greenStatus,error:i.red,empty:i.white,inactive:i.neutral15,warning:i.yellow},size:{border:2,diameter:10}},SUITabGroup:{},SUITabItem:{activeBorderBottomColor:i.neutral72,activeTypeStyle:j.type12,height:44,hoverBackgroundColor:i.neutral03,typeStyle:j.type12},SUITable:{cellPadding:12,colors:{cell:i.neutral72,cellBorder:i.neutral03,cellErrorBackground:i.redTint85,cellHoverBackground:i.neutral06,cellModifiedBackground:i.neutral15,cellSelectedBackground:i.blueTint85,cellWarningBackground:i.yellowTint85,error:i.red,heading:i.neutral30,headingBackground:i.white,headingRule:i.neutral15,highlight:i.blue,loading:i.neutral30,loadingBackground:i.neutral03,noItemsMessage:i.neutral72,rowBackground:i.white,rowStripe:i.neutral02,text:i.neutral72,warning:i.yellow},textStyles:{cell:j.type12,heading:j.type12,table:j.type12}},SUITextArea:{borderColor:i.neutral15,disabled:{background:i.neutral02,borderColor:i.neutral15},enabled:{background:i.white,borderColor:i.neutral15},errorColor:i.red,errorIconName:'warning',iconComponent:c('Icon.atlas'),placeholderColor:i.neutral30,placeholderColorFocused:i.neutral15,typeStyle:j.type12Form,warningColor:i.yellow},SUITextInput:{characterCountTypeStyle:new (c('SUITypeStyle'))({color:i.neutral30,fontFamily:"Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:'11px',fontWeight:'normal'}),disabled:{background:i.neutral02,borderColor:i.neutral15},enabled:{background:i.white,borderColor:i.neutral15},errorIconMargin:'3px',height:32,maxLengthHighlightColor:'rgba(250, 62, 62, 0.3)',placeholderColor:i.neutral30,placeholderColorFocused:i.neutral15,typeStyle:j.type12Form},SUIToast:{errorBackgroundColor:i.red,errorIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.white,name:'warning'}),informationBackgroundColor:i.neutral72,informationIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.white,name:'information'}),messageBackgroundColor:i.neutral72,messageBorderColor:i.neutral72,successBackgroundColor:i.neutral72,successIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.white,name:'check'}),typeStyle:j.type12Toast,warningBackgroundColor:i.yellow,warningIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.white,name:'warning'})},SUIToggle:{height:20,off:{hover:{backgroundColor:i.neutral30,color:i.neutral72},normal:{backgroundColor:i.neutral15,color:i.neutral50}},on:{hover:{backgroundColor:i.neutral72,color:i.neutral02},normal:{backgroundColor:i.neutral50,color:i.neutral02}},switchColor:i.white,typeStyle:j.type11Bold},SUIToggleButtonGroup:{active:{backgroundColor:i.neutral50,color:i.white}},SUIToken:{backgroundColor:i.blue,color:i.white,typeStyle:j.type12},SUITokenizer:{disabled:{backgroundColor:i.neutral02,borderColor:i.neutral15,color:i.neutral30},enabled:{backgroundColor:i.white,borderColor:i.neutral15},typeaheadInput:{typeStyle:j.type12}},SUITokenizerItem:{disabled:{color:i.neutral30,subtitleColor:i.neutral15},highlighted:{backgroundColor:i.blueTint85,color:i.neutral80,subtitleColor:i.neutral50},normal:{color:i.neutral72,subtitleColor:i.neutral50},remove:{disabledIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral30,name:'delete',size:14}),highlightedIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral80,name:'delete',size:14}),normalIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral72,name:'delete',size:14}),selectedIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.white,name:'delete',size:14})},selected:{backgroundColor:i.blue,color:i.white,disabledIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral30,name:'check',size:14}),highlightedIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral80,name:'check',size:14}),isIconShownForSingleSelection:false,normalIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.neutral72,name:'check',size:14}),selectedIcon:c('React').createElement(c('SUIAtlasIcon.react'),{colorDefault:i.white,name:'check',size:14}),subtitleColor:i.blueTint50}},SUITokenizerItemList:{backgroundColor:i.white,borderColor:i.neutral15,categoryHeader:{borderColor:i.neutral06,typeStyle:j.type16},typeStyle:j.type12},SUITypeahead:{input:{backgroundColor:i.white,borderColor:i.neutral15,errorBorderColor:i.red,typeStyle:j.type12Form},dropdown:{backgroundColor:i.white,borderColor:i.neutral06,boxShadow:"0px 2px 1px -1px rgba(0, 0, 0, 0.10)",itemPadding:{bottom:'8px',left:'12px',right:'12px',top:'8px'}},highlight:{backgroundColor:i.blueTint85}}},n=new (c('SUITheme'))({id:'atlas',components:m});f.exports=n;}),null);
__d('Text.atlas',['React','Typography.atlas','joinClasses'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').Element,k=c('React').PureComponent,l={display:'inline'};h=babelHelpers.inherits(m,k);i=h&&h.prototype;m.prototype.render=function(){var n=this.props,o=n.color,p=n.size,q=n.weight,r=babelHelpers.objectWithoutProperties(n,['color','size','weight']),s=c('joinClasses')(this.props.className,c('Typography.atlas').getClassName(p,q,o));if(this.props.display==='block')return (c('React').createElement('div',babelHelpers['extends']({},r,{className:s}),this.props.children));return (c('React').createElement('span',babelHelpers['extends']({},r,{className:s}),this.props.children));};function m(){h.apply(this,arguments);}m.defaultProps=l;f.exports=m;}),null);
__d('FormBinding.atlas',['underscore.ads'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){this.$FormBinding2=i.error||null;this.$FormBinding5=i.warning||null;this.$FormBinding6=i.success||null;this.$FormBinding1=i.actions;this.$FormBinding3=i.fieldName;this.$FormBinding4=i.formID;var j=i.value;this.value=j instanceof Date?new Date(j):c('underscore.ads').clone(j);}h.prototype.getError=function(){return this.$FormBinding2;};h.prototype.getErrorMessage=function(){var i=this.getError();return i?i.text:null;};h.prototype.getWarning=function(){return this.$FormBinding5;};h.prototype.getWarningMessage=function(){var i=this.getWarning();return i?i.text:null;};h.prototype.getSuccess=function(){return this.$FormBinding6;};h.prototype.getSuccessMessage=function(){var i=this.getSuccess();return i?i.text:null;};h.prototype.update=function(i){this.$FormBinding7(i);this.validate();};h.prototype.updateWithoutValidation=function(i){this.$FormBinding7(i);};h.prototype.validate=function(){this.$FormBinding1.validateAllEditedFields(this.$FormBinding4);};h.prototype.$FormBinding7=function(i){this.$FormBinding1.updateFieldValue(this.$FormBinding4,this.$FormBinding3,i);};f.exports=h;}),null);
__d('FormatNumberUtil.atlas',['NumberFormatConfig','intlNumUtils'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={_getDecimals:function i(j,k,l){if(!k&&!l){var m=j.toString(),n=m.split(c('NumberFormatConfig').decimalSeparator);return n.length===2?n[1].length:0;}if(j===0)return k;var o=Math.floor(j*Math.pow(10,l)),p=l,q=10;while(p>k&&o>1)if(o%q===0){q*=10;--p;}else break;return p;},formatWithVariablePrecision:function i(j,k,l,m){if(m)return c('intlNumUtils').formatNumberWithThousandDelimiters(j,h._getDecimals(j,k,l));return c('intlNumUtils').formatNumberRaw(j,h._getDecimals(j,k,l));}};f.exports=h;}),null);
__d('SUICloseButton.react',['cx','React','SUIComponent','SUITheme','joinClasses','Locale'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('Locale').isRTL,m={shade:'dark',size:'small'};i=babelHelpers.inherits(n,c('SUIComponent'));j=i&&i.prototype;function n(o,p){j.constructor.call(this,o,p);this.$SUICloseButton1=function(){this.setState({isHovering:true});}.bind(this);this.$SUICloseButton2=function(){this.setState({isHovering:false});}.bind(this);this.state={isHovering:false};}n.prototype.render=function(){var o,p=this.props,q=p.className,r=p.size,s=p.shade,t=babelHelpers.objectWithoutProperties(p,['className','size','shade']),u=c('SUITheme').get(this).SUICloseButton,v=u[s][r],w=u.iconSize[r],x='-'+Math.floor(w/2)+'px';return (c('React').createElement('button',babelHelpers['extends']({},t,{className:c('joinClasses')("_32qq"+(!this.props.disabled?' '+"_3n5r":''),q),onMouseEnter:this.$SUICloseButton1,onMouseLeave:this.$SUICloseButton2,type:'button'}),c('React').cloneElement(v,{className:"_3n5s",disabled:this.props.disabled,hover:this.state.isHovering,size:w,style:(o={},o[l()?'marginRight':'marginLeft']=x,o.marginTop=x,o)})));};n.defaultProps=m;n.propTypes={disabled:k.bool,onClick:k.func,shade:k.oneOf(['dark','light']),size:k.oneOf(['small','large']),theme:k.instanceOf(c('SUITheme'))};f.exports=n;}),null);
__d('SUIErrorComponentUtil',['cx','React','SUITheme','Tooltip','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j={propTypes:{errorMessage:i.node,warningMessage:i.node,errorTooltipPosition:i.oneOf(['above','below','left','right'])},defaultProps:{errorTooltipPosition:'above'},getErrorLevel:function k(l){if(l.errorMessage)return 'error';if(l.warningMessage)return 'warning';return 'none';},hasError:function k(l){return j.getErrorLevel(l)!=='none';},getErrorTooltipProps:function k(l){if(!j.hasError(l))return {};return babelHelpers['extends']({},c('Tooltip').propsFor(l.errorMessage||l.warningMessage,l.errorTooltipPosition),{'data-tooltip-alignh':'right'});},getErrorBorderColor:function k(l,m){var n=j.getErrorLevel(l);if(n==='none')return null;var o=m.SUIError;return n==='error'?o.error.borderColor:o.warning.borderColor;},getErrorIcon:function k(l,m,n){var o=j.getErrorLevel(l);if(o==='none')return null;var p=m.SUIError,q=o==='error'?p.error.icon:p.warning.icon;return c('React').cloneElement(q,{className:c('joinClasses')("_1vvf",n)});}};f.exports=j;}),null);
__d('SUITextInput.react',['cx','fbt','AbstractTextField.react','React','ResponsiveBlock.react','SUICloseButton.react','SUIComponent','SUIErrorComponentUtil','SUIPlaceholderStyle','SUITheme','emptyFunction','getStyleProperty','joinClasses','nullthrows','KeyStatus','Locale','VirtualCursorStatus'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=c('KeyStatus').isKeyDown,n=c('Locale').isRTL,o=c('VirtualCursorStatus').isVirtualCursorTriggered,p="_4b7k";function q(w){return p+'_'+w.id;}var r=c('AbstractTextField.react').propTypes,s=r.useLabel,t=babelHelpers.objectWithoutProperties(r,['useLabel']);void s;function u(w){var x=w.maxLength,y=w.value,z=w.value,aa='';if(y&&typeof x==='number'){z=y.substr(0,x);aa=y.substr(x);}return (c('React').createElement('div',{'aria-hidden':'true'},c('React').createElement('div',{className:"_oyx",ref:w.setupRef,style:w.style},c('React').createElement('span',{className:"_82u"},z),c('React').createElement('span',{className:"_82w",style:{background:w.highlightColor}},aa)),c('React').createElement(c('ResponsiveBlock.react'),{className:"_oyy",onResize:w.onResize})));}j=babelHelpers.inherits(v,c('SUIComponent'));k=j&&j.prototype;function v(){k.constructor.call(this);this.$SUITextInput3=function(w){this.$SUITextInput2=w;}.bind(this);this.$SUITextInput5=function(event){var w=event.target.value;this.props.onChange(w);}.bind(this);this.$SUITextInput6=function(event){this.setState({showFocusRing:false});}.bind(this);this.$SUITextInput7=function(event){if(m()||o())this.setState({showFocusRing:true});}.bind(this);this.$SUITextInput8=function(event){this.setState({showFocusRing:false});}.bind(this);this.$SUITextInput9=function(){if(this.props.isAutoSized&&this.$SUITextInput1&&this.$SUITextInput2)this.setState({height:this.$SUITextInput2.offsetHeight,width:c('getStyleProperty')(this.$SUITextInput1,'width')});}.bind(this);this.$SUITextInput1=null;}v.prototype.$SUITextInput4=function(){var w=c('SUITheme').get(this).SUITextInput;if(this.props.disabled)return w.disabled;return w.enabled;};v.prototype.componentWillMount=function(){var w=c('SUITheme').get(this);c('SUIPlaceholderStyle').ensureInjectForTheme(w,p,w.SUITextInput.placeholderColor,w.SUITextInput.placeholderColorFocused);this.state={height:w.SUITextInput.height,showFocusRing:false,width:'0px'};};v.prototype.componentDidMount=function(){this.$SUITextInput9();};v.prototype.componentDidUpdate=function(){this.$SUITextInput9();};v.prototype.focusInput=function(){this.$SUITextInput1&&this.$SUITextInput1.focus();};v.prototype.blurInput=function(){this.$SUITextInput1&&this.$SUITextInput1.blur();};v.prototype.selectInput=function(){this.$SUITextInput1&&this.$SUITextInput1.select();};v.prototype.render=function(){var w,x=this.props,y=x.className,z=x.disabled,aa=x.errorMessage,ba=x.errorTooltipPosition,ca=x.leftIcon,da=x.maxLength,ea=x.onChange,fa=x.onRemove,ga=x.rightIcon,ha=x.style,ia=x.warningMessage,ja=babelHelpers.objectWithoutProperties(x,['className','disabled','errorMessage','errorTooltipPosition','leftIcon','maxLength','onChange','onRemove','rightIcon','style','warningMessage']);void aa;void ba;void ia;void ea;var ka=c('SUITheme').get(this),la=ka.SUITextInput,ma=this.$SUITextInput4(),na=c('SUIErrorComponentUtil').hasError(this.props),oa=c('SUIErrorComponentUtil').getErrorBorderColor(this.props,ka)||ma.borderColor,pa=c('SUIErrorComponentUtil').getErrorIcon(this.props,ka,"_32mf"),qa=(la.height-parseInt(la.typeStyle.lineHeight,10))/2,ra=this.props.isAutoSized?'textarea':'input',sa=(this.props.value!==null&&this.props.value!==undefined?this.props.value:this.props.defaultValue||'')+String.fromCharCode(65279),ta=typeof da==='number';return (c('React').createElement('label',babelHelpers['extends']({'aria-disabled':z,className:c('joinClasses')("_4b7j"+(!!ca?' '+"_4b7l":'')+(!!ga?' '+"_4b7n":'')+(na?' '+"_32me":'')+(!!this.props.onRemove?' '+"_1eev":'')+(!this.state.showFocusRing?' '+"_53rs":''),y),onBlur:this.$SUITextInput6,onClick:this.props.onClick,onFocus:this.$SUITextInput7,onMouseDown:this.$SUITextInput8,role:z?'textbox':undefined,style:babelHelpers['extends']({},ma,ha,{borderColor:oa,height:this.state.height+'px'}),tabIndex:z?0:-1},c('SUIErrorComponentUtil').getErrorTooltipProps(this.props)),ca?c('React').cloneElement(ca,{className:"_4b7o"}):null,c('React').createElement(c('AbstractTextField.react'),babelHelpers['extends']({},ja,{disabled:z,maxLength:ta&&!this.props.isAutoSized?da:undefined,onChange:this.$SUITextInput5,style:babelHelpers['extends']({},la.typeStyle,{color:ma.color,height:this.state.height-2+'px',paddingBottom:qa,paddingTop:qa}),useLabel:false}),c('React').createElement(ra,{className:c('joinClasses')(p,q(c('SUITheme').get(this)),!this.state.showFocusRing?"_53rs":''),ref:function(ua){return this.$SUITextInput1=ua;}.bind(this),tabIndex:this.props.tabIndex})),ta?c('React').createElement('div',{'aria-label':i._("Remaining allowed characters"),className:"_834",style:babelHelpers['extends']({},la.characterCountTypeStyle)},c('nullthrows')(da)-(sa?sa.length-1:0)):null,this.props.isAutoSized?c('React').createElement(u,{highlightColor:la.maxLengthHighlightColor,maxLength:da,onResize:this.$SUITextInput9,setupRef:this.$SUITextInput3,style:babelHelpers['extends']({},la.typeStyle,{color:'transparent',minHeight:la.height+'px',paddingBottom:qa,paddingTop:qa,width:this.state.width}),value:sa}):null,ga?c('React').cloneElement(ga,{className:"_4b7r"}):null,pa&&c('React').cloneElement(pa,{style:{margin:la.errorIconMargin}}),fa?c('React').createElement(c('SUICloseButton.react'),{className:"_1eew",onClick:fa,style:(w={},w[n()?'borderRightColor':'borderLeftColor']=oa,w)}):null));};v.propTypes=babelHelpers['extends']({},t,c('SUIErrorComponentUtil').propTypes,{isAutoSized:l.bool.isRequired,leftIcon:l.element,onChange:l.func.isRequired,onClick:l.func,onRemove:l.func,rightIcon:l.element,theme:l.instanceOf(c('SUITheme'))});v.defaultProps=babelHelpers['extends']({},c('AbstractTextField.react').defaultProps,c('SUIErrorComponentUtil').defaultProps,{isAutoSized:false,onChange:c('emptyFunction')});f.exports=v;}),null);
__d('NumberInput.atlas',['FormatNumberUtil.atlas','Keys','NumberFormatConfig','React','SUIAtlasTheme','SUITextInput.react','ads-lib-formatters'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').Element,k=c('React').PureComponent,l={isZeroValidValue:false,maxPrecision:0,minPrecision:0};h=babelHelpers.inherits(m,k);i=h&&h.prototype;function m(n,o){i.constructor.call(this,n,o);this.$NumberInput2=function(p){if(this.$NumberInput3(p)){this.setState({dirtyValue:p});var q=this.$NumberInput4(p);if(this.props.onValueUpdated)this.props.onValueUpdated(q);}}.bind(this);this.$NumberInput5=function(event){this.setState({dirtyValue:null});if(this.props.onBlur)this.props.onBlur(event);}.bind(this);this.$NumberInput6=function(event){this.setState({dirtyValue:null});if(this.props.onFocus)this.props.onFocus(event);}.bind(this);this.$NumberInput7=function(event){var p=event.keyCode;if(p===c('Keys').RETURN||p===c('Keys').TAB)this.setState({dirtyValue:null});if(this.props.onKeyUp)this.props.onKeyUp(event);}.bind(this);this.state={dirtyValue:null};}m.prototype.focusInput=function(){this.$NumberInput1&&this.$NumberInput1.focusInput();};m.prototype.$NumberInput3=function(n){var o=new RegExp('^[0-9.,]*$');return o.test(n);};m.prototype.$NumberInput4=function(n){return c('ads-lib-formatters').parseNumber(n)||0;};m.prototype.render=function(){var n=void 0,o=this.props.minPrecision;if(this.state.dirtyValue===null){n=this.props.value;if(!n)n=this.props.isZeroValidValue?0:null;n=n===null?'':c('FormatNumberUtil.atlas').formatWithVariablePrecision(n,o,this.props.maxPrecision,false).toString();}else n=this.state.dirtyValue;var p=Array(o+1).join('0'),q=o?'0'+c('NumberFormatConfig').decimalSeparator+p:'0';return (c('React').createElement(c('SUITextInput.react'),{className:this.props.className,disabled:this.props.disabled,onBlur:this.$NumberInput5,onChange:this.$NumberInput2,onFocus:this.$NumberInput6,onKeyUp:this.$NumberInput7,placeholder:q,ref:function(r){return this.$NumberInput1=r;}.bind(this),theme:c('SUIAtlasTheme'),value:n}));};m.defaultProps=l;f.exports=m;}),null);
__d('CurrencyInput.atlas',['cx','Currency','FormBinding.atlas','NumberInput.atlas','React','Text.atlas','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').Element,n=c('React').PureComponent,o={isZeroValidValue:false},p=babelHelpers['extends']({},o,{isZeroValidValue:false});i=babelHelpers.inherits(q,n);j=i&&i.prototype;function q(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=j.constructor).call.apply(s,[this].concat(v)),this.$CurrencyInputFormWrapper1=function(x){this.props.binding.update(x);}.bind(this),t;}q.prototype.render=function(){return (c('React').createElement(r,{className:this.props.className,currency:this.props.currency,isZeroValidValue:this.props.isZeroValidValue,maxPrecision:this.props.maxPrecision,minPrecision:this.props.minPrecision,onBlur:this.props.onBlur,onChange:this.$CurrencyInputFormWrapper1,onFocus:this.props.onFocus,onKeyUp:this.props.onKeyUp,value:this.props.binding.value}));};q.defaultProps=p;k=babelHelpers.inherits(r,n);l=k&&k.prototype;function r(s,t){l.constructor.call(this,s,t);this.$CurrencyInput1=function(u){this.props.onChange&&this.props.onChange(u||0);}.bind(this);this.$CurrencyInput1=this.$CurrencyInput1.bind(this);}r.prototype.render=function(){var s=this.props.value;if(!s)s=this.props.isZeroValidValue?0:null;var t=null,u=null;if(this.props.currency){var v=c('Currency').getSymbol(this.props.currency),w=v.length>1;t=c('React').createElement(c('Text.atlas'),{className:"_3mef"+(s===null?' '+"_35ka":'')},v);u="_35kc"+(!w?' '+"_4l4k":'')+(w?' '+"_4l4l":'');}return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,u)},c('React').createElement(c('NumberInput.atlas'),{className:"_ty0",disabled:this.props.disabled,isZeroValidValue:this.props.isZeroValidValue,maxPrecision:this.props.maxPrecision,minPrecision:this.props.minPrecision,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onKeyUp:this.props.onKeyUp,onValueUpdated:this.$CurrencyInput1,value:s}),t));};r.defaultProps=o;r.FormWrapper=q;f.exports=r;}),null);
__d('SponsorTagsOptInActionTypes',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={SHOW:'sponsorTagsOptIn/show',NEXT:'sponsorTagsOptIn/next',ACCEPT:'sponsorTagsOptIn/accept',CANCEL:'sponsorTagsOptIn/cancel',QUERY_STATUS:'sponsorTagsOptIn/query_status',QUERY_OPT_IN:'sponsorTagsOptIn/query_opt_in',HANDLE_STATUS:'sponsorTagsOptIn/handle_status',HANDLE_OPT_IN:'sponsorTagsOptIn/handle_opt_in'};f.exports=h;}),null);
__d('SponsorTagsOptInDispatcher',['ExplicitRegistrationReactDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ExplicitRegistrationReactDispatcher'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this);}f.exports=new j({strict:true});}),null);
__d("XSponsorTagsOptInController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/branded_content\/optin\/",{});}),null);
__d("XSponsorTagsOptInStatusController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/branded_content\/optin_status\/",{actor_id:{type:"Int",required:true}});}),null);
__d('SponsorTagsOptInDataManager',['AsyncRequest','SponsorTagsOptInActionTypes','SponsorTagsOptInDispatcher','XSponsorTagsOptInController','XSponsorTagsOptInStatusController'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={queryStatus:function i(j){var k=c('XSponsorTagsOptInStatusController').getURIBuilder().setInt('actor_id',j);new (c('AsyncRequest'))().setMethod('POST').setReadOnly(false).setURI(k.getURI()).setHandler(this._handleStatusSuccess).setErrorHandler(this._handleStatusError).send();},_handleStatusSuccess:function i(j){var k=j.getPayload();c('SponsorTagsOptInDispatcher').dispatch({type:c('SponsorTagsOptInActionTypes').HANDLE_STATUS,payload:k});},_handleStatusError:function i(j){},queryOptIn:function i(){var j=c('XSponsorTagsOptInController').getURIBuilder();new (c('AsyncRequest'))().setMethod('POST').setReadOnly(false).setURI(j.getURI()).setHandler(this._handleOptInSuccess).setErrorHandler(this._handleOptInError).send();},_handleOptInSuccess:function i(j){var k=j.getPayload();c('SponsorTagsOptInDispatcher').dispatch({type:c('SponsorTagsOptInActionTypes').HANDLE_OPT_IN,payload:k});},_handleOptInError:function i(j){}};f.exports=h;}),null);
__d('SponsorTagsOptInStepHowItWorks.react',['ix','cx','fbt','Image.react','React','Text.react','XUIButton.react','XUICloseButton.react','XUIDialogBody.react','XUIDialogFooter.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').Component;k=babelHelpers.inherits(n,m);l=k&&k.prototype;n.prototype.render=function(){var o=[{imageSrc:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/magnifying-glass_24_big-accent-blue.png"),textTitle:j._("Search sponsor"),textContent:j._("Does your post feature a third-party brand or product? Search the Page of whoever is sponsor it and tag them.")},{imageSrc:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/megaphone_24_big-accent-blue.png"),textTitle:j._("Get them to back you up"),textContent:j._("Pages that you tag in your post will be notified. They will be able to view your post's metric and use it to create an advert.")},{imageSrc:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/trending_24_big-accent-blue.png"),textTitle:j._("Track your joint performance"),textContent:j._("If you promote this post, the tagged Page will be able to see the advertising spend and its CPM metrics.")}],p=o.map(function(q,r){return (c('React').createElement('div',{className:"_y1a",key:r},c('React').createElement('div',{className:"_y1c"},c('React').createElement(c('Image.react'),{src:q.imageSrc})),c('React').createElement('div',{className:"_y1g"},c('React').createElement(c('Text.react'),{className:"_y1h"},q.textTitle),c('React').createElement(c('Text.react'),{className:"_y1j"},q.textContent))));});return (c('React').createElement('div',null,c('React').createElement('div',{className:"_8s2"},c('React').createElement(c('XUICloseButton.react'),{label:j._("Close"),className:"layerCancel _51-t"})),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_424x"},c('React').createElement(c('Text.react'),{className:"_y1l"},j._("How it works")),p)),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIButton.react'),{use:'confirm',onClick:this.props.onClickNext,label:j._("Continue"),className:"_y1m"}))));};function n(){k.apply(this,arguments);}f.exports=n;}),null);
__d('SponsorTagsOptInStepIntro.react',['cx','fbt','ix','Image.react','React','Text.react','XUIButton.react','XUICloseButton.react','XUIDialogBody.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').Component,n=j('/images/branded_content/sponsor_tags_opt_in_intro.png');k=babelHelpers.inherits(o,m);l=k&&k.prototype;o.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:"_8s2"},c('React').createElement(c('XUICloseButton.react'),{label:i._("Close"),className:"layerCancel _51-t"})),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_424x"},c('React').createElement(c('Image.react'),{src:n}),c('React').createElement(c('Text.react'),{className:"_424z"},i._("Introducing sponsor tags")),c('React').createElement(c('Text.react'),{className:"_4250"},i._("You can now promote the brands that you partner with when creating a new post. With Sponsor Tags, you and brands will be able to build stronger relationships and tell more meaningful stories together.")))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIButton.react'),{use:'confirm',onClick:this.props.onClickNext,label:i._("How it works"),className:"_4252"}))));};function o(){k.apply(this,arguments);}f.exports=o;}),null);
__d('SponsorTagsOptInTCContent',['cx','Link.react','React'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createElement('div',{className:"_47o7"},c('React').createElement('p',null,c('React').createElement('b',null,'Facebook Branded Content Policies')),c('React').createElement('p',null,'Our Branded Content Policies apply to Verified Pages and Verified Profiles (with the blue badge) on Facebook. Branded content may only be posted by Verified Pages and Verified Profiles. Branded content is defined as content originating from a Page or Profile that features third party products, brands, or sponsors that differ from the Profile or Page. When posting permitted branded content integrations, Verified Profiles and Verified Pages must use the Branded Content tool to tag the featured third party product, brand, or sponsor.'),c('React').createElement('ol',null,c('React').createElement('li',null,'Don\'t include pre, mid or post-roll ads in videos.'),c('React').createElement('li',null,'Don\'t include banner ads in videos or images.'),c('React').createElement('li',null,'Don\'t include third party products, brands or sponsors within your Profile or Page\'s cover photo or profile picture.'),c('React').createElement('li',null,'Don\'t include title cards within a video\'s first three seconds. Interstitial ad cards outside of a video\'s first three seconds, such as mid cards or end cards, must not persist for longer than five consecutive seconds and must be tagged appropriately using the Branded Content tool.'),c('React').createElement('li',null,'Don\'t include graphical overlays, logos or watermarks within a video\'s first three seconds. Graphical overlays, logos or watermarks included outside of a video\'s first three seconds must be tagged appropriately using the Branded Content tool. Ad elements and logos included in videos by virtue of being recorded during the subject matter\'s filming, such as stadium signage in sports related content, do not need to be tagged.'),c('React').createElement('li',null,'Graphical overlays, logos or watermarks included on image content must be tagged appropriately using the Branded Content tool.'),c('React').createElement('li',null,'Promotions, such as sweepstakes or giveaways, must be tagged appropriately using the Branded Content tool and must comply with section III. E. of the ',c('React').createElement(c('Link.react'),{href:'https://www.facebook.com/page_guidelines.php',target:'_blank'},'Facebook Pages Terms'),'.'),c('React').createElement('li',null,'Third party images or videos promoting brands, products or sponsors that are unassociated with your Profile or Page, such as full-length third party video commercials, must be tagged appropriately using the Branded Content tool.'),c('React').createElement('li',null,'Product placement in images or videos must be tagged appropriately using the Branded Content tool.'),c('React').createElement('li',null,'Profile and Page posts clearly disclosed as being sponsored or provided by a third party, such as self-disclosure within a post\'s text, must be tagged appropriately using the Branded Content tool.'),c('React').createElement('li',null,'You must comply with all applicable laws and regulations, including by ensuring that you provide all necessary disclosures to people using Facebook, such as any disclosures needed to indicate the commercial nature of content posted by you.')));f.exports=i;}),null);
__d('SponsorTagsOptInStepTerms.react',['cx','fbt','React','ScrollableArea.react','SponsorTagsOptInTCContent','Text.react','XUIButton.react','XUICloseButton.react','XUIDialogBody.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;m.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:"_8s2"},c('React').createElement(c('XUICloseButton.react'),{label:i._("Close"),className:"layerCancel _51-t"})),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_5vvo"},c('React').createElement(c('Text.react'),{className:"_y1l"},i._("Sponsor tags Terms & Conditions")),c('React').createElement(c('ScrollableArea.react'),{maxHeight:280,fade:false},c('SponsorTagsOptInTCContent')))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIButton.react'),{use:'default',onClick:this.props.onClickCancel,label:i._("Cancel"),className:"_82v"}),c('React').createElement(c('XUIButton.react'),{use:'confirm',onClick:this.props.onClickAccept,label:i._("Accept"),className:"_82v"}))));};function m(){j.apply(this,arguments);}f.exports=m;}),null);
__d('SponsorTagsOptInDialog.react',['cx','LayerFadeOnHide','React','SponsorTagsOptInStepHowItWorks.react','SponsorTagsOptInStepIntro.react','SponsorTagsOptInStepTerms.react','XUIDialog.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.prototype.render=function(){if(!this.props.isShown)return null;var m=[c('React').createElement(c('SponsorTagsOptInStepIntro.react'),{onClickNext:this.props.onClickNext}),c('React').createElement(c('SponsorTagsOptInStepHowItWorks.react'),{onClickNext:this.props.onClickNext}),c('React').createElement(c('SponsorTagsOptInStepTerms.react'),{onClickAccept:this.props.onClickAccept,onClickCancel:this.props.onClickCancel})],n=m[this.props.step];return (c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},fixedTopPosition:120,hideOnEscape:false,layerHideOnBlur:false,onToggle:this.$SponsorTagsOptInDialog1.bind(this),shown:true,width:550,className:"_2um5"},n));};l.prototype.$SponsorTagsOptInDialog1=function(m){if(!m)this.props.onClickCancel();};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d('SponsorTagsOptInStore',['FluxReduceStore','immutable','SponsorTagsOptInActionTypes','SponsorTagsOptInDataManager','SponsorTagsOptInDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k;if(c.__markCompiled)c.__markCompiled();var l={step:0,isShown:false,isOptedIn:null};h=babelHelpers.inherits(m,c('immutable').Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments);}j=babelHelpers.inherits(n,c('FluxReduceStore'));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m();};n.prototype.reduce=function(o,p){switch(p.type){case c('SponsorTagsOptInActionTypes').NEXT:return o.set('step',o.step+1);case c('SponsorTagsOptInActionTypes').SHOW:return o.set('isShown',true).set('step',0);case c('SponsorTagsOptInActionTypes').CANCEL:return o.set('isShown',false).set('step',0);case c('SponsorTagsOptInActionTypes').ACCEPT:c('SponsorTagsOptInDataManager').queryOptIn();return o.set('isShown',false);case c('SponsorTagsOptInActionTypes').QUERY_STATUS:c('SponsorTagsOptInDataManager').queryStatus(p.actorID);return o;case c('SponsorTagsOptInActionTypes').QUERY_OPT_IN:c('SponsorTagsOptInDataManager').queryOptIn();return o;case c('SponsorTagsOptInActionTypes').HANDLE_STATUS:return o.set('isOptedIn',p.payload.isOptedIn);case c('SponsorTagsOptInActionTypes').HANDLE_OPT_IN:return o.set('isOptedIn',p.payload.isOptedIn);default:return o;}};function n(){j.apply(this,arguments);}f.exports=new n(c('SponsorTagsOptInDispatcher'));}),null);
__d('SponsorTagsOptInDialogContainer.react',['FluxContainer','React','SponsorTagsOptInActionTypes','SponsorTagsOptInDialog.react','SponsorTagsOptInDispatcher','SponsorTagsOptInStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return [c('SponsorTagsOptInStore')];};k.calculateState=function(){return {isShown:c('SponsorTagsOptInStore').getState().isShown,step:c('SponsorTagsOptInStore').getState().step};};function k(){i.constructor.call(this);this.state={isShown:false,step:0};}k.prototype.render=function(){return (c('React').createElement(c('SponsorTagsOptInDialog.react'),babelHelpers['extends']({},this.state,{onClickNext:this.$SponsorTagsOptInDialogContainer1.bind(this),onClickAccept:this.$SponsorTagsOptInDialogContainer2.bind(this),onClickCancel:this.$SponsorTagsOptInDialogContainer3.bind(this)})));};k.prototype.$SponsorTagsOptInDialogContainer3=function(){c('SponsorTagsOptInDispatcher').dispatch({type:c('SponsorTagsOptInActionTypes').CANCEL});};k.prototype.$SponsorTagsOptInDialogContainer2=function(){c('SponsorTagsOptInDispatcher').dispatch({type:c('SponsorTagsOptInActionTypes').ACCEPT});};k.prototype.$SponsorTagsOptInDialogContainer1=function(){c('SponsorTagsOptInDispatcher').dispatch({type:c('SponsorTagsOptInActionTypes').NEXT});};f.exports=c('FluxContainer').create(k);}),null);
__d('PageCommerceStripeRedirectConfirmationDialog.react',['cx','fbt','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogHeader.react','XUIDialogHeaderTitle.react','XUIText.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=500;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={dialogShown:false},this.show=function(){this.setState({dialogShown:true});}.bind(this),this.hide=function(){this.setState({dialogShown:false});}.bind(this),p;}n.prototype.render=function(){if(!this.state.dialogShown)return null;return c('React').createElement(c('XUIDialog.react'),{width:m,onToggle:function(o){return this.setState({dialogShown:o});}.bind(this),shown:this.state.dialogShown},c('React').createElement(c('XUIDialogHeader.react'),null,c('React').createElement(c('XUIDialogHeaderTitle.react'),null,i._("You have pending orders"))),c('React').createElement(c('XUIDialogBody.react'),{className:"_2ph_"},c('React').createElement(c('XUIText.react'),null,i._("Your shop has orders that haven't been dispatched yet. If you connect to a different Stripe account, you'll no longer be able to receive payment for those orders. Consider completing and dispatching your pending orders before changing the Stripe account for your shop."))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("Change Stripe Account"),use:'default',onClick:this.props.onContinue}),c('React').createElement(c('XUIDialogButton.react'),{label:i._("Cancel"),use:'confirm',onClick:this.hide})));};n.propTypes={onContinue:l.func.isRequired};f.exports=n;}),null);
__d("XCommerceSelfServeHasPendingOrdersQueryController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/commerce\/self-serve\/has-pending-orders\/",{page_id:{type:"Int",required:true}});}),null);
__d("XStripeOnboardingController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/payment\/stripeconnect\/onboarding\/",{page_id:{type:"Int",required:true},payment_type:{type:"Enum",required:true,enumType:1}});}),null);
__d('CommerceStripeConnectLink.react',['cx','AsyncRequest','DOM','DTSG','Link.react','PageCommerceStripeRedirectConfirmationDialog.react','React','ReactDOM','XStripeOnboardingController','XCommerceSelfServeHasPendingOrdersQueryController','XUIText.react','PaymentsTypeEnum'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$CommerceStripeConnectLink1=function(r){var s=c('XCommerceSelfServeHasPendingOrdersQueryController').getURIBuilder().setInt('page_id',this.props.pageID).getURI();new (c('AsyncRequest'))().setURI(s).setHandler(function(t){var u=t.payload.has_pending_orders;if(u){var v=c('ReactDOM').render(c('React').createElement(c('PageCommerceStripeRedirectConfirmationDialog.react'),{onContinue:function w(){return r();}}),c('DOM').create('div'));v.show();}else r();}).send();}.bind(this),n;}l.prototype.render=function(){'use strict';var m=c('XStripeOnboardingController').getURIBuilder().setInt('page_id',this.props.pageID).setEnum('payment_type',c('PaymentsTypeEnum').BOF).getURI();return c('React').createElement('span',null,c('React').createElement('form',{className:"hidden_elem",action:m,method:'post',ref:'connectStripeForm',target:'_blank'},c('React').createElement('input',{type:'hidden',name:'fb_dtsg',value:c('DTSG').getToken()})),c('React').createElement(c('Link.react'),{onClick:this.$CommerceStripeConnectLink1.bind(this,function(){return this.refs.connectStripeForm.submit();}.bind(this))},c('React').createElement(c('XUIText.react'),{size:'small'},this.props.content)));};l.propTypes={confirmationURI:k.string,content:k.node.isRequired,pageID:k.string.isRequired};f.exports=l;}),null);
__d('CommerceExceptionHandlerMixin.react',['fbt','AsyncRequest','CommerceErrorCode','CommerceErrorNotice.react','CommerceStripeConnectLink.react','React','URI','XCommerceResponse'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={getInitialState:function j(){return {xResponse:null};},sendAsync:function j(k,l,m,n){new (c('AsyncRequest'))(k).setData(l||{}).setHandler(function(o){var p=new (c('XCommerceResponse'))(o.payload);this.setState({xResponse:p});if(!p.hasErrors()){m&&m(o);}else n&&n(o);}.bind(this)).setErrorHandler(function(o){this.setGeneralError(c('CommerceErrorCode').COMMERCE__GENERIC_EXCEPTION);n&&n(o);}.bind(this)).send();},setGeneralError:function j(k){var l=this.state.xResponse?this.state.xResponse:new (c('XCommerceResponse'))({});l.setGeneralError(k);this.setState({xResponse:l});},addFieldError:function j(k,l){var m=this.state.xResponse?this.state.xResponse:new (c('XCommerceResponse'))({});m.addFieldError(k,l);this.setState({xResponse:m});},_getFullErrorMessage:function j(k){if(!k)return null;if(k.code.toString()===c('CommerceErrorCode').COMMERCE__STRIPE_DEFERRED_ACCOUNT_EMAIL_USED.code.toString()){var l=h._("connect your shop with an existing account");return h._("A Stripe account with this email address already exists. Please use a different email address or {connect to a different Stripe account link}.",[h.param('connect to a different Stripe account link',c('React').createElement(c('CommerceStripeConnectLink.react'),{pageID:this.props.pageID,content:l}))]);}return k.title+': '+k.message;},hasErrors:function j(){return !!this.state.xResponse&&this.state.xResponse.hasErrors();},hasGeneralError:function j(){return !!this.state.xResponse&&this.state.xResponse.hasGeneralError();},hasFieldErrors:function j(){return !!this.state.xResponse&&this.state.xResponse.hasFieldErrors();},renderAllErrors:function j(){var k=this.state.xResponse,l=[];if(this.hasFieldErrors()){var m=k.getFieldErrors();m.forEach(function(o){return l.push(o);});}if(this.hasGeneralError())l.push(k.getGeneralError());var n=l.map(function(o){return this._getFullErrorMessage(o);}.bind(this));return this.renderErrorMessages(n);},renderGeneralError:function j(){if(this.hasGeneralError()){return this.renderErrorMessages([this.getGeneralErrorMessage()]);}else return null;},renderErrorMessages:function j(k){if(k.length===0){return null;}else{var l=c('React').createElement('ul',null,k.map(function(m){return c('React').createElement('li',null,m);}));return c('React').createElement(c('CommerceErrorNotice.react'),{error:l});}},getGeneralErrorMessage:function j(){if(this.hasGeneralError()){var k=this.state.xResponse.getGeneralError();return this._getFullErrorMessage(k);}else return null;},getFieldErrorMessage:function j(k){if(!this.hasFieldErrors())return null;return this._getFullErrorMessage(this.state.xResponse.getFieldErrors()[k]);}};f.exports=i;}),null);
__d('SUIThreeStateCheckboxInput.react',['cx','DOMEventListener','RTLKeys','React','SUIComponent','SUIErrorComponentUtil','SUITheme','Tooltip','joinClasses','keyMirror','uniqueID','KeyStatus','VirtualCursorStatus'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('KeyStatus').isKeyDown,m=c('VirtualCursorStatus').isVirtualCursorTriggered,n=c('keyMirror')({CHECKED:null,PARTIAL:null,UNCHECKED:null});i=babelHelpers.inherits(o,c('SUIComponent'));j=i&&i.prototype;function o(){j.constructor.call(this);this.$SUIThreeStateCheckboxInput4=function(event){var p=this.props.value===n.CHECKED?n.UNCHECKED:n.CHECKED;event.preventDefault();if(!this.props.disabled)this.props.onChange(p,event);}.bind(this);this.$SUIThreeStateCheckboxInput5=function(){this.setState({isActive:false,showFocusRing:false});}.bind(this);this.$SUIThreeStateCheckboxInput6=function(){if(l()||m())this.setState({showFocusRing:true});}.bind(this);this.$SUIThreeStateCheckboxInput7=function(event){if(!this.props.disabled)switch(event.keyCode){case c('RTLKeys').RETURN:case c('RTLKeys').SPACE:this.setState({isActive:true,showFocusRing:true});break;}}.bind(this);this.$SUIThreeStateCheckboxInput8=function(event){switch(event.keyCode){case c('RTLKeys').RETURN:case c('RTLKeys').SPACE:this.setState({isActive:false,showFocusRing:true});break;}}.bind(this);this.$SUIThreeStateCheckboxInput9=function(){if(!this.props.disabled)this.setState({isActive:true,showFocusRing:false});}.bind(this);this.$SUIThreeStateCheckboxInput3=function(){this.setState({isActive:false,showFocusRing:false});}.bind(this);this.$SUIThreeStateCheckboxInput1=c('uniqueID')();this.state={isActive:false,showFocusRing:false};}o.prototype.componentDidMount=function(){this.$SUIThreeStateCheckboxInput2=c('DOMEventListener').add(window,'mouseup',this.$SUIThreeStateCheckboxInput3);};o.prototype.componentWillUnmount=function(){if(this.$SUIThreeStateCheckboxInput2)this.$SUIThreeStateCheckboxInput2.remove();};o.prototype.render=function(){var p=c('SUITheme').get(this),q=p.SUIThreeStateCheckboxInput,r=this.props.value===n.PARTIAL?q.partiallyCheckedIcon:q.checkedIcon,s={border:'1px solid',borderColor:this.state.isActive&&q.activeCheckboxBorderColor||q.checkboxBorderColor,borderRadius:'2px',backgroundColor:this.state.isActive&&q.activeCheckboxBackgroundColor||q.checkboxBackgroundColor},t=this.props.disabled?q.disabledLabelColor:q.labelColor,u=c('React').createElement('button',{'aria-checked':this.props.value===n.PARTIAL?'mixed':this.props.value===n.CHECKED?'true':'false','aria-disabled':this.props.disabled,'aria-labelledby':this.props.label?this.$SUIThreeStateCheckboxInput1:undefined,className:"_1gco"+(!!this.props.label?' '+"_1gcp":'')+(!this.state.showFocusRing?' '+"_5e9w":''),onBlur:this.$SUIThreeStateCheckboxInput5,onFocus:this.$SUIThreeStateCheckboxInput6,onKeyDown:this.$SUIThreeStateCheckboxInput7,onKeyUp:this.$SUIThreeStateCheckboxInput8,role:'checkbox',style:s},c('React').cloneElement(r,{'aria-hidden':true,className:"_3w08",disabled:this.props.disabled,style:babelHelpers['extends']({},r.props.style,{visibility:this.props.value===n.UNCHECKED?'hidden':'visible'})})),v="_1gcq",w=c('SUIErrorComponentUtil').getErrorIcon(this.props,p,"_3w09");if(!this.props.label&&!w)return c('React').cloneElement(u,babelHelpers['extends']({className:c('joinClasses')(this.props.className,v,u.props.className),onClick:this.$SUIThreeStateCheckboxInput4,onMouseDown:this.$SUIThreeStateCheckboxInput9},c('Tooltip').propsFor(this.props.tooltip)));return (c('React').createElement('label',babelHelpers['extends']({className:c('joinClasses')(this.props.className,v,w&&"_3w0a"),onClick:this.$SUIThreeStateCheckboxInput4,onMouseDown:this.$SUIThreeStateCheckboxInput9,style:babelHelpers['extends']({},q.typeStyle,{color:t,fontWeight:'normal'},this.props.style)},c('Tooltip').propsFor(this.props.tooltip),{'data-tooltip-alignh':'center'},c('SUIErrorComponentUtil').getErrorTooltipProps(this.props)),u,this.props.label?c('React').createElement('span',{className:"_1gcr",id:this.$SUIThreeStateCheckboxInput1},this.props.label):null,w));};o.propTypes=babelHelpers['extends']({},c('SUIErrorComponentUtil').propTypes,{disabled:k.bool.isRequired,onChange:k.func.isRequired,label:k.node,theme:k.instanceOf(c('SUITheme')),tooltip:k.node,value:k.string});o.defaultProps=babelHelpers['extends']({},c('SUIErrorComponentUtil').defaultProps,{disabled:false,value:n.UNCHECKED});o.CHECKBOX_STATES=n;f.exports=o;}),null);
__d('SUICheckboxInput.react',['React','SUIComponent','SUIThreeStateCheckboxInput.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').Element,k=c('React').PropTypes,l=c('SUIThreeStateCheckboxInput.react').CHECKBOX_STATES;h=babelHelpers.inherits(m,c('SUIComponent'));i=h&&h.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=i.constructor).call.apply(n,[this].concat(q)),this.$SUICheckboxInput1=function(s,event){this.props.onChange(s===l.CHECKED,event);}.bind(this),o;}m.prototype.render=function(){var n=this.props,o=n.onChange,p=n.value,q=babelHelpers.objectWithoutProperties(n,['onChange','value']);return (c('React').createElement(c('SUIThreeStateCheckboxInput.react'),babelHelpers['extends']({},q,{onChange:this.$SUICheckboxInput1,value:p?l.CHECKED:l.UNCHECKED})));};m.propTypes=babelHelpers['extends']({},c('SUIThreeStateCheckboxInput.react').propTypes,{value:k.bool});m.defaultProps=babelHelpers['extends']({},c('SUIThreeStateCheckboxInput.react').defaultProps,{value:false});f.exports=m;}),null);
__d('CommerceSelfServeProductTaxRatesTable.react',['cx','fbt','invariant','xuiglyph','AdsNumberInput.react','CommerceUSAStates','Image.react','React','SUIAtlasTheme','SUICheckboxInput.react','SUITextInput.react','XUIButton.react','XUITable.react'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m;if(c.__markCompiled)c.__markCompiled();var n=c('React').PropTypes;l=babelHelpers.inherits(o,c('React').Component);m=l&&l.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.state={newRateLocationError:false,newTaxRateLocation:'',newTaxRatePercentage:0,newIsAppliedToShipping:false,showNewRateRow:false},this.$CommerceSelfServeProductTaxRatesTable1=function(u,v){return (c('React').createElement('tr',{key:'tax_rate_'+u},c('React').createElement('td',null,c('React').createElement('span',null,u)),c('React').createElement('td',null,c('React').createElement(c('AdsNumberInput.react'),{value:this.$CommerceSelfServeProductTaxRatesTable3(v.tax_rate,3),suffix:'%',className:"_2263",onChange:function(w){if(w!==null){w=this.$CommerceSelfServeProductTaxRatesTable4(w,3);this.$CommerceSelfServeProductTaxRatesTable5(u,w,v.is_applied_to_shipping);}}.bind(this)})),c('React').createElement('td',null,c('React').createElement(c('SUICheckboxInput.react'),{label:v.is_applied_to_shipping?i._("Yes"):i._("No"),onChange:function(w){this.$CommerceSelfServeProductTaxRatesTable5(u,v.tax_rate,w);}.bind(this),theme:c('SUIAtlasTheme'),value:v.is_applied_to_shipping})),c('React').createElement('td',{className:"_5rpt"},c('React').createElement(c('Image.react'),{className:"_ksy _3-9b",src:k({name:'cross',size:'small',shade:'dark'}),onClick:function(){this.$CommerceSelfServeProductTaxRatesTable6(u);}.bind(this)}))));}.bind(this),this.$CommerceSelfServeProductTaxRatesTable2=function(){return (c('React').createElement('tr',{key:'new_tax_rate_row'},c('React').createElement('td',null,c('React').createElement(c('SUITextInput.react'),{className:"_2263",onChange:function(u){this.setState({newTaxRateLocation:u.toUpperCase()});}.bind(this),theme:c('SUIAtlasTheme'),value:this.state.newTaxRateLocation})),c('React').createElement('td',null,c('React').createElement(c('AdsNumberInput.react'),{value:this.$CommerceSelfServeProductTaxRatesTable3(this.state.newTaxRatePercentage,3),suffix:'%',className:"_2263",onChange:function(u){if(u!==null){u=this.$CommerceSelfServeProductTaxRatesTable4(u,3);this.setState({newTaxRatePercentage:u});}}.bind(this)})),c('React').createElement('td',null,c('React').createElement(c('SUICheckboxInput.react'),{label:this.state.newIsAppliedToShipping?i._("Yes"):i._("No"),onChange:function(u){this.setState({newIsAppliedToShipping:u});}.bind(this),theme:c('SUIAtlasTheme'),value:this.state.newIsAppliedToShipping})),c('React').createElement('td',{className:"_5rpt"},c('React').createElement(c('XUIButton.react'),{label:i._("Confirm"),use:'confirm',disabled:!this.$CommerceSelfServeProductTaxRatesTable7(this.state.newTaxRateLocation),onClick:this.$CommerceSelfServeProductTaxRatesTable8}))));}.bind(this),this.$CommerceSelfServeProductTaxRatesTable6=function(u){var v=this.$CommerceSelfServeProductTaxRatesTable9(u),w=this.props.taxRates;delete w[v][u];this.props.onChangeTaxRates(w);}.bind(this),this.$CommerceSelfServeProductTaxRatesTable5=function(u,v,w){var x=this.$CommerceSelfServeProductTaxRatesTable9(u),y=this.props.taxRates;y[x][u]={tax_rate:v,is_applied_to_shipping:w};this.props.onChangeTaxRates(y);}.bind(this),this.$CommerceSelfServeProductTaxRatesTable8=function(){var u=this.state.newTaxRateLocation;this.$CommerceSelfServeProductTaxRatesTable5(u,this.state.newTaxRatePercentage,this.state.newIsAppliedToShipping);this.setState({newTaxRatePercentage:0,newTaxRateLocation:'',newIsAppliedToShipping:false});}.bind(this),this.$CommerceSelfServeProductTaxRatesTable9=function(u){!this.$CommerceSelfServeProductTaxRatesTable7(u)?j(0):void 0;if(this.$CommerceSelfServeProductTaxRatesTable10(u)){return 'zip_code';}else return 'state_abbr';}.bind(this),this.$CommerceSelfServeProductTaxRatesTable3=function(u,v){var w=Math.round(u*Math.pow(10,v+2));return w/Math.pow(10,v);},this.$CommerceSelfServeProductTaxRatesTable4=function(u,v){var w=Math.round(u*Math.pow(10,v));return w/Math.pow(10,v+2);},this.$CommerceSelfServeProductTaxRatesTable7=function(u){return this.$CommerceSelfServeProductTaxRatesTable10(u)||this.$CommerceSelfServeProductTaxRatesTable11(u);}.bind(this),this.$CommerceSelfServeProductTaxRatesTable10=function(u){var v=/^[0-9]{5}$/;return u.match(v)!==null;},this.$CommerceSelfServeProductTaxRatesTable11=function(u){var v='STATE_';return v+u in c('CommerceUSAStates');},q;}o.prototype.render=function(){'use strict';var p=[];for(var q in this.props.taxRates){var r=this.props.taxRates[q];for(var s in r)p[p.length]=this.$CommerceSelfServeProductTaxRatesTable1(s,r[s]);}p[p.length]=this.$CommerceSelfServeProductTaxRatesTable2();return c('React').createElement('div',null,c('React').createElement(c('XUITable.react'),{outerBorder:true},c('React').createElement('thead',null,c('React').createElement('tr',null,c('React').createElement('th',null,i._("Location")),c('React').createElement('th',null,i._("Tax rate")),c('React').createElement('th',null,i._("Apply tax to delivery cost?")),c('React').createElement('th',null))),c('React').createElement('tbody',null,p)));};o.propTypes={taxRates:n.object.isRequired,onChangeTaxRates:n.func.isRequired};f.exports=o;}),null);
__d('CountryCodeMap',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={US:'United States',CA:'Canada',GB:'United Kingdom',AR:'Argentina',AU:'Australia',AT:'Austria',BE:'Belgium',BR:'Brazil',CL:'Chile',CN:'China',CO:'Colombia',HR:'Croatia',DK:'Denmark',DO:'Dominican Republic',EG:'Egypt',FI:'Finland',FR:'France',DE:'Germany',GR:'Greece',HK:'Hong Kong',IN:'India',ID:'Indonesia',IE:'Ireland',IL:'Israel',IT:'Italy',JP:'Japan',JO:'Jordan',KW:'Kuwait',LB:'Lebanon',MY:'Malaysia',MX:'Mexico',NL:'Netherlands',NZ:'New Zealand',NG:'Nigeria',NO:'Norway',PK:'Pakistan',PA:'Panama',PE:'Peru',PH:'Philippines',PL:'Poland',RU:'Russia',SA:'Saudi Arabia',RS:'Serbia',SG:'Singapore',ZA:'South Africa',KR:'South Korea',ES:'Spain',SE:'Sweden',CH:'Switzerland',TW:'Taiwan',TH:'Thailand',TR:'Turkey',AE:'United Arab Emirates',VE:'Venezuela',PT:'Portugal',LU:'Luxembourg',BG:'Bulgaria',CZ:'Czech Republic',SI:'Slovenia',IS:'Iceland',SK:'Slovakia',LT:'Lithuania',TT:'Trinidad and Tobago',BD:'Bangladesh',LK:'Sri Lanka',KE:'Kenya',HU:'Hungary',MA:'Morocco',CY:'Cyprus',JM:'Jamaica',EC:'Ecuador',RO:'Romania',BO:'Bolivia',GT:'Guatemala',CR:'Costa Rica',QA:'Qatar',SV:'El Salvador',HN:'Honduras',NI:'Nicaragua',PY:'Paraguay',UY:'Uruguay',PR:'Puerto Rico',BA:'Bosnia and Herzegovina',PS:'Palestine',TN:'Tunisia',BH:'Bahrain',VN:'Vietnam',GH:'Ghana',MU:'Mauritius',UA:'Ukraine',MT:'Malta',BS:'The Bahamas',MV:'Maldives',OM:'Oman',MK:'Macedonia',LV:'Latvia',EE:'Estonia',IQ:'Iraq',DZ:'Algeria',AL:'Albania',NP:'Nepal',MO:'Macau',ME:'Montenegro',SN:'Senegal',GE:'Georgia',BN:'Brunei',UG:'Uganda',GP:'Guadeloupe',BB:'Barbados',AZ:'Azerbaijan',TZ:'Tanzania',LY:'Libya',MQ:'Martinique',CM:'Cameroon',BW:'Botswana',ET:'Ethiopia',KZ:'Kazakhstan',NA:'Namibia',MG:'Madagascar',NC:'New Caledonia',MD:'Moldova',FJ:'Fiji',BY:'Belarus',JE:'Jersey',GU:'Guam',YE:'Yemen',ZM:'Zambia',IM:'Isle Of Man',HT:'Haiti',KH:'Cambodia',AW:'Aruba',PF:'French Polynesia',AF:'Afghanistan',BM:'Bermuda',GY:'Guyana',AM:'Armenia',MW:'Malawi',AG:'Antigua',RW:'Rwanda',GG:'Guernsey',GM:'The Gambia',FO:'Faroe Islands',LC:'St. Lucia',KY:'Cayman Islands',BJ:'Benin',AD:'Andorra',GD:'Grenada',VI:'US Virgin Islands',BZ:'Belize',VC:'Saint Vincent and the Grenadines',MN:'Mongolia',MZ:'Mozambique',ML:'Mali',AO:'Angola',GF:'French Guiana',UZ:'Uzbekistan',DJ:'Djibouti',BF:'Burkina Faso',MC:'Monaco',TG:'Togo',GL:'Greenland',GA:'Gabon',GI:'Gibraltar',CD:'Democratic Republic of the Congo',KG:'Kyrgyzstan',PG:'Papua New Guinea',BT:'Bhutan',KN:'Saint Kitts and Nevis',SZ:'Swaziland',LS:'Lesotho',LA:'Laos',LI:'Liechtenstein',MP:'Northern Mariana Islands',SR:'Suriname',SC:'Seychelles',VG:'British Virgin Islands',TC:'Turks and Caicos Islands',DM:'Dominica',MR:'Mauritania',AX:'Aland Islands',SM:'San Marino',SL:'Sierra Leone',NE:'Niger',CG:'Republic of the Congo',AI:'Anguilla',YT:'Mayotte',CV:'Cape Verde',GN:'Guinea',TM:'Turkmenistan',BI:'Burundi',TJ:'Tajikistan',VU:'Vanuatu',SB:'Solomon Islands',ER:'Eritrea',WS:'Samoa',AS:'American Samoa',FK:'Falkland Islands',GQ:'Equatorial Guinea',TO:'Tonga',KM:'Comoros',PW:'Palau',FM:'Federated States of Micronesia',CF:'Central African Republic',SO:'Somalia',MH:'Marshall Islands',VA:'Vatican City',TD:'Chad',KI:'Kiribati',ST:'Sao Tome and Principe',TV:'Tuvalu',NR:'Nauru',RE:'R\u00e9union',LR:'Liberia',ZW:'Zimbabwe',CI:'C\u00f4te d\'Ivoire',MM:'Myanmar'};f.exports=h;}),null);
__d('TokenizerExampleSearchSource',['AbstractSearchSource','CountryCodeMap','SearchableEntry','filterObject','forEachObject'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AbstractSearchSource'));i=h&&h.prototype;j.prototype.searchImpl=function(k,l,m){'use strict';var n=[];m=m||{};if(k){var o=k.toLowerCase(),p=c('filterObject')(c('CountryCodeMap'),function(r){return r.toLowerCase().startsWith(o);}),q=0;c('forEachObject')(p,function(r,s){return n.push(new (c('SearchableEntry'))({order:q++,photo:'/images/mobile/glyph/book_blue_s.png',subtitle:r,title:r,uniqueID:s}));});}l(n,k);};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('FreeformSearchSource',['AbstractSearchSource','RegexMatchSearchSource','SearchableEntry'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AbstractSearchSource'));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this);this.$FreeformSearchSource1=k;this.$FreeformSearchSource2=new (c('RegexMatchSearchSource'))('\\S+');this.$FreeformSearchSource3=l;this.$FreeformSearchSource4=m;}j.prototype.getBootstrappedEntries=function(k){'use strict';return typeof this.$FreeformSearchSource1.getBootstrappedEntries==='function'?this.$FreeformSearchSource1.getBootstrappedEntries(k):null;};j.prototype.bootstrapImpl=function(k){'use strict';this.$FreeformSearchSource1.bootstrapImpl(k);};j.prototype.validateQuery=function(k){'use strict';return k.length>=this.$FreeformSearchSource4;};j.prototype.searchImpl=function(k,l,m){'use strict';this.$FreeformSearchSource2.searchImpl(k,function(n,o){var p=[];if(n.length===1&&this.validateQuery(o)){p=[new (c('SearchableEntry'))({uniqueID:n[0].getUniqueID(),title:this.$FreeformSearchSource3(n[0].getTitle().trim())})];l(p,k);}this.$FreeformSearchSource1.searchImpl(k,function(q,r){if(q.length>0)l(q.concat(p),r);},m);}.bind(this),m);};f.exports=j;}),null);
__d('AutoPager.react',['DOM','Event','OnVisible','Parent','React','ReactDOM','SubscriptionsHandler','throttle'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.getViewportListener=function(){if(!this.onEnterViewportListener)this.onEnterViewportListener=new (c('OnVisible'))(c('ReactDOM').findDOMNode(this),function(){return this.props.onVisible();}.bind(this),false,this.props.onEnterBuffer,false,this.scrollableArea);return this.onEnterViewportListener;}.bind(this),this.onScroll=function(){this.getViewportListener().reset();}.bind(this),m;}k.prototype.componentDidMount=function(){'use strict';if(this.props.scrollableAreaClass){this.scrollableArea=c('Parent').byClass(c('ReactDOM').findDOMNode(this),this.props.scrollableAreaClass);var l=c('DOM').find(this.scrollableArea,'.uiScrollableAreaWrap');}else l=window;this.subscriptions=new (c('SubscriptionsHandler'))();this.subscriptions.addSubscriptions(c('Event').listen(l,'scroll',c('throttle')(this.onScroll,100)));};k.prototype.componentWillUnmount=function(){'use strict';this.getViewportListener().remove();this.subscriptions.release();};k.prototype.render=function(){'use strict';return c('React').createElement('div',{className:this.props.className});};k.propTypes={className:j.string,onEnterBuffer:j.number.isRequired,onVisible:j.func.isRequired,scrollableAreaClass:j.string};f.exports=k;}),null);
__d("TopicFeedsConstant",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={DEFAULT_PHOTO_AUTO_TAGGING_DELAY:3000,DEFAULT_PHOTO_POLLING_DURATION:10000,DEFAULT_PHOTO_POLLING_INTERVAL:1000,DEFAULT_TEXT_AUTO_TAGGING_DELAY:3000,DEFAULT_COMPOSER_TOPIC_LIMIT:3,TOPIC_CONFIDENCE_USER_ADD:3,TOPIC_CONFIDENCE_USER_REMOVE:-1,TOPIC_CONFIDENCE_BOOTSTRAP:2};f.exports=h;}),null);
__d('JobsActionsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:JobsActionsLoggerConfig',this.$JobsActionsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:JobsActionsLoggerConfig',this.$JobsActionsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$JobsActionsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$JobsActionsTypedLogger1=babelHelpers['extends']({},this.$JobsActionsTypedLogger1,j);return this;};h.prototype.setActionTarget=function(j){this.$JobsActionsTypedLogger1.action_target=j;return this;};h.prototype.setActionTime=function(j){this.$JobsActionsTypedLogger1.action_time=j;return this;};h.prototype.setActionType=function(j){this.$JobsActionsTypedLogger1.action_type=j;return this;};h.prototype.setApplicationID=function(j){this.$JobsActionsTypedLogger1.application_id=j;return this;};h.prototype.setEmployerID=function(j){this.$JobsActionsTypedLogger1.employer_id=j;return this;};h.prototype.setFilteredCategories=function(j){this.$JobsActionsTypedLogger1.filtered_categories=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setFilteredJobTypes=function(j){this.$JobsActionsTypedLogger1.filtered_job_types=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setJobCarouselIndex=function(j){this.$JobsActionsTypedLogger1.job_carousel_index=j;return this;};h.prototype.setJobID=function(j){this.$JobsActionsTypedLogger1.job_id=j;return this;};h.prototype.setJobMetadata=function(j){this.$JobsActionsTypedLogger1.job_metadata=c('GeneratedLoggerUtils').serializeMap(j);return this;};h.prototype.setJobTitleID=function(j){this.$JobsActionsTypedLogger1.job_title_id=j;return this;};h.prototype.setMechanism=function(j){this.$JobsActionsTypedLogger1.mechanism=j;return this;};h.prototype.setName=function(j){this.$JobsActionsTypedLogger1.name=j;return this;};h.prototype.setPaginationIndex=function(j){this.$JobsActionsTypedLogger1.pagination_index=j;return this;};h.prototype.setPostMetadata=function(j){this.$JobsActionsTypedLogger1.post_metadata=c('GeneratedLoggerUtils').serializeMap(j);return this;};h.prototype.setRefererMechanism=function(j){this.$JobsActionsTypedLogger1.referer_mechanism=j;return this;};h.prototype.setRefererSurface=function(j){this.$JobsActionsTypedLogger1.referer_surface=j;return this;};h.prototype.setSurface=function(j){this.$JobsActionsTypedLogger1.surface=j;return this;};h.prototype.setTargetID=function(j){this.$JobsActionsTypedLogger1.target_id=j;return this;};h.prototype.setVC=function(j){this.$JobsActionsTypedLogger1.vc=j;return this;};h.prototype.setWaterfallSessionID=function(j){this.$JobsActionsTypedLogger1.waterfall_session_id=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$JobsActionsTypedLogger1=babelHelpers['extends']({},this.$JobsActionsTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={action_target:true,action_time:true,action_type:true,application_id:true,employer_id:true,filtered_categories:true,filtered_job_types:true,job_carousel_index:true,job_id:true,job_metadata:true,job_title_id:true,mechanism:true,name:true,pagination_index:true,post_metadata:true,referer_mechanism:true,referer_surface:true,surface:true,target_id:true,vc:true,waterfall_session_id:true};f.exports=h;}),null);
__d('PhotoUploadFacerecWaterfallTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:PhotoUploadFacerecWaterfallLoggerConfig',this.$PhotoUploadFacerecWaterfallTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:PhotoUploadFacerecWaterfallLoggerConfig',this.$PhotoUploadFacerecWaterfallTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$PhotoUploadFacerecWaterfallTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1=babelHelpers['extends']({},this.$PhotoUploadFacerecWaterfallTypedLogger1,j);return this;};h.prototype.setEvent=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.event=j;return this;};h.prototype.setFaceBoxID=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.face_box_id=j;return this;};h.prototype.setPhotoFbid=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.photo_fbid=j;return this;};h.prototype.setRecognizedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.recognized_user=j;return this;};h.prototype.setTaggedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.tagged_user=j;return this;};h.prototype.setVC=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.vc=j;return this;};var i={event:true,face_box_id:true,photo_fbid:true,recognized_user:true,tagged_user:true,vc:true};f.exports=h;}),null);
__d('TopicFeedsComposerTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:TopicFeedsComposerLoggerConfig',this.$TopicFeedsComposerTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:TopicFeedsComposerLoggerConfig',this.$TopicFeedsComposerTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$TopicFeedsComposerTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$TopicFeedsComposerTypedLogger1=babelHelpers['extends']({},this.$TopicFeedsComposerTypedLogger1,j);return this;};h.prototype.setClassifySessionID=function(j){this.$TopicFeedsComposerTypedLogger1.classify_session_id=j;return this;};h.prototype.setClientEventTimeMs=function(j){this.$TopicFeedsComposerTypedLogger1.client_event_time_ms=j;return this;};h.prototype.setComposerFeedID=function(j){this.$TopicFeedsComposerTypedLogger1.composer_feed_id=j;return this;};h.prototype.setComposerID=function(j){this.$TopicFeedsComposerTypedLogger1.composer_id=j;return this;};h.prototype.setEntryPointRef=function(j){this.$TopicFeedsComposerTypedLogger1.entry_point_ref=j;return this;};h.prototype.setEvent=function(j){this.$TopicFeedsComposerTypedLogger1.event=j;return this;};h.prototype.setIsPredictionApplied=function(j){this.$TopicFeedsComposerTypedLogger1.is_prediction_applied=j;return this;};h.prototype.setLinkAttachmentCount=function(j){this.$TopicFeedsComposerTypedLogger1.link_attachment_count=j;return this;};h.prototype.setPhotoAttachmentCount=function(j){this.$TopicFeedsComposerTypedLogger1.photo_attachment_count=j;return this;};h.prototype.setPhotoUploadToPostDuration=function(j){this.$TopicFeedsComposerTypedLogger1.photo_upload_to_post_duration=j;return this;};h.prototype.setPredictionCount=function(j){this.$TopicFeedsComposerTypedLogger1.prediction_count=j;return this;};h.prototype.setPredictionDuration=function(j){this.$TopicFeedsComposerTypedLogger1.prediction_duration=j;return this;};h.prototype.setPredictionErrorReason=function(j){this.$TopicFeedsComposerTypedLogger1.prediction_error_reason=j;return this;};h.prototype.setPredictionIsSuccessful=function(j){this.$TopicFeedsComposerTypedLogger1.prediction_is_successful=j;return this;};h.prototype.setSequenceNumber=function(j){this.$TopicFeedsComposerTypedLogger1.sequence_number=j;return this;};h.prototype.setTargetType=function(j){this.$TopicFeedsComposerTypedLogger1.target_type=j;return this;};h.prototype.setTopicAdded=function(j){this.$TopicFeedsComposerTypedLogger1.topic_added=j;return this;};h.prototype.setTopicRemoved=function(j){this.$TopicFeedsComposerTypedLogger1.topic_removed=j;return this;};h.prototype.setTopicsAutoTagged=function(j){this.$TopicFeedsComposerTypedLogger1.topics_auto_tagged=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setTopicsTagged=function(j){this.$TopicFeedsComposerTypedLogger1.topics_tagged=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setTopicsUserAdded=function(j){this.$TopicFeedsComposerTypedLogger1.topics_user_added=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setTopicsUserRemoved=function(j){this.$TopicFeedsComposerTypedLogger1.topics_user_removed=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setVC=function(j){this.$TopicFeedsComposerTypedLogger1.vc=j;return this;};var i={classify_session_id:true,client_event_time_ms:true,composer_feed_id:true,composer_id:true,entry_point_ref:true,event:true,is_prediction_applied:true,link_attachment_count:true,photo_attachment_count:true,photo_upload_to_post_duration:true,prediction_count:true,prediction_duration:true,prediction_error_reason:true,prediction_is_successful:true,sequence_number:true,target_type:true,topic_added:true,topic_removed:true,topics_auto_tagged:true,topics_tagged:true,topics_user_added:true,topics_user_removed:true,vc:true};f.exports=h;}),null);
__d('AsyncUploadQueue',['AsyncUploadBase'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AsyncUploadBase'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this._pending=[];this._waiting=[];}j.prototype.enqueue=function(k,l,m){'use strict';return this._add(this._waiting.push.bind(this._waiting),k,l,m);};j.prototype.prepend=function(k,l,m){'use strict';return this._add(this._waiting.unshift.bind(this._waiting),k,l,m);};j.prototype._add=function(k,l,m,n){'use strict';var o=babelHelpers['extends']({},this._data,n),p=this._createFileUpload(l,m,o);k(p);this._processQueue();return p;};j.prototype.dequeue=function(k){'use strict';this._abort(k);};f.exports=j;}),null);
__d('Waiter',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$Waiter1=i;this.$Waiter2=0;this.$Waiter3=false;}h.prototype.wait=function(i){'use strict';var j=this,k=false;this.$Waiter4();return function(){if(k)return;for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];i&&i.apply(this,m);j.$Waiter5();k=true;};};h.prototype.go=function(){'use strict';this.$Waiter3=true;this.$Waiter6();return this;};h.prototype.$Waiter4=function(){'use strict';this.$Waiter2++;};h.prototype.$Waiter6=function(){'use strict';if(!this.$Waiter2&&this.$Waiter3)this.$Waiter1();};h.prototype.$Waiter5=function(){'use strict';this.$Waiter2--;this.$Waiter6();};f.exports=h;}),null);
__d('ReactComposerBoostedPostLazyButton.react',['Bootloader','React','ReactDOM'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.componentDidMount=function(){'use strict';c('Bootloader').loadModules(["BoostedPostDialogButton.react"],function(k){c('ReactDOM').render(c('React').createElement(k,this.props),c('ReactDOM').findDOMNode(this.refs.boostButtonContainer));}.bind(this),'ReactComposerBoostedPostLazyButton.react');};j.prototype.render=function(){'use strict';return (c('React').createElement('span',{ref:'boostButtonContainer'}));};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('ReactComposerPagesBootloader',['Bootloader'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={statusAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerStatusAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');},mediaAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerMediaAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');},qandaAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerQAndAAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');},questionAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerQuestionAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');},extraAttachment:function i(j){c('Bootloader').loadModules(["PagesComposerExtraAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');},ctaAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerCTAAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');}};f.exports=h;}),null);
__d('ReactComposerPlaceListActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({CLEAR_WITHIN_PAGE:null,UPDATE_WITHIN_PAGE:null},'ReactComposerPlaceListActionType');}),null);
__d('ReactComposerPlaceListStore.react',['ReactComposerActionStore','ReactComposerPostUtils','ReactComposerPlaceListActionType'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerActionStore'));i=h&&h.prototype;function j(){'use strict';var k=void 0;i.constructor.call(this,function(){return {pageID:null,photoSrc:null};},function(l){switch(l.type){case c('ReactComposerPlaceListActionType').CLEAR_WITHIN_PAGE:k&&k.$ReactComposerPlaceListStore1(l);break;case c('ReactComposerPlaceListActionType').UPDATE_WITHIN_PAGE:k&&k.$ReactComposerPlaceListStore2(l);break;}});k=this;}j.prototype.getPageID=function(k){'use strict';return this.getComposerData(k).pageID;};j.prototype.getPhotoSrc=function(k){'use strict';return this.getComposerData(k).photoSrc;};j.prototype.$ReactComposerPlaceListStore1=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(l);m.pageID=null;m.photoSrc=null;this.emitChange(l);};j.prototype.$ReactComposerPlaceListStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','pageID','photoSrc']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.pageID=n;p.photoSrc=o;this.emitChange(m);};j.prototype.__onPostStarted=function(k){'use strict';var l=this.validateAction(k,'composerID');c('ReactComposerPostUtils').post({actorID:k.actorID,composerConfig:k.config,composerID:l,targetID:k.targetID});};f.exports=new j();}),null);
__d('ReactComposerAsyncRequest',['ReactComposerActions','ReactComposerPostUtilsCore','AsyncRequest'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AsyncRequest'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this,l);this.$ReactComposerAsyncRequest1=k;i.setHandler.call(this,this.$ReactComposerAsyncRequest4.bind(this));i.setErrorHandler.call(this,this.$ReactComposerAsyncRequest5.bind(this));i.setFinallyHandler.call(this,this.$ReactComposerAsyncRequest6.bind(this));}j.prototype.setHandler=function(k){'use strict';this.$ReactComposerAsyncRequest2=k;return this;};j.prototype.setErrorHandler=function(k){'use strict';this.$ReactComposerAsyncRequest3=k;return this;};j.prototype.$ReactComposerAsyncRequest4=function(k){'use strict';setTimeout(function(){var l=k.payload&&k.payload.isPostPending;if(!l)c('ReactComposerPostUtilsCore').handlePostSucceeded(this.$ReactComposerAsyncRequest1);this.$ReactComposerAsyncRequest2&&this.$ReactComposerAsyncRequest2(k);}.bind(this),0);};j.prototype.$ReactComposerAsyncRequest5=function(k){'use strict';setTimeout(function(){c('ReactComposerActions').postError(this.$ReactComposerAsyncRequest1,k);this.$ReactComposerAsyncRequest3&&this.$ReactComposerAsyncRequest3(k);}.bind(this),0);};j.prototype.$ReactComposerAsyncRequest6=function(k){'use strict';setTimeout(function(){return c('ReactComposerActions').postFinally(this.$ReactComposerAsyncRequest1,k);}.bind(this),0);};f.exports=j;}),null);
__d('ReactComposerCTAActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({ADD_OPTION:null,SET_CTA_CONFIG:null,HAS_PHOTO:null,NEEDS_PHOTO:null},'ReactComposerCTAActionType');}),null);
__d('ReactComposerCTAStore',['ReactComposerCTAActionType','ReactComposerEvents','ReactComposerStoreBase','DOM'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {ctaType:'',ctaURI:'',hasPhoto:c('ReactComposerCTAActionType').NEEDS_PHOTO};},function(l){switch(l.type){case c('ReactComposerCTAActionType').SET_CTA_CONFIG:k&&k.$ReactComposerCTAStore1(l);break;case c('ReactComposerCTAActionType').HAS_PHOTO:k&&k.$ReactComposerCTAStore2(l);break;case c('ReactComposerCTAActionType').NEEDS_PHOTO:k&&k.$ReactComposerCTAStore3(l);break;default:break;}});k=this;}j.prototype.$ReactComposerCTAStore2=function(k){'use strict';var l=this.getComposerData(k.composerID);l.hasPhoto=c('ReactComposerCTAActionType').HAS_PHOTO;this.emitChange(k.composerID);};j.prototype.$ReactComposerCTAStore3=function(k){'use strict';var l=this.getComposerData(k.composerID);l.hasPhoto=c('ReactComposerCTAActionType').NEEDS_PHOTO;this.emitChange(k.composerID);};j.prototype.removeListeners=function(){'use strict';this.removeAllListeners(c('ReactComposerEvents').CHANGE);};j.prototype.hasCTAPhoto=function(k){'use strict';return this.getComposerData(k).hasPhoto===c('ReactComposerCTAActionType').HAS_PHOTO;};j.prototype.getCTAType=function(k){'use strict';return this.getComposerData(k).ctaType;};j.prototype.getCTAURI=function(k){'use strict';return this.getComposerData(k).ctaURI;};j.prototype.getCTAData=function(k){'use strict';return {type:this.getComposerData(k).ctaType,value:{link:this.getComposerData(k).ctaURI,is_cta_share_post:true}};};j.prototype.getCTAMarkup=function(k){'use strict';return this.getComposerData(k).ctaMarkup;};j.prototype.getAttachmentConfig=function(k){'use strict';var l=this.getComposerData(k);if(!l.ctaMarkup)return null;var m=l.ctaMarkup,n=l.ctaAttachmentConfig,o=c('DOM').scry(m,'input[name="attachment[params][images][0]"]').pop(),p=c('DOM').scry(m,'input[name="attachment[params][title]"]').pop(),q=c('DOM').scry(m,'input[name="attachment[params][summary]"]').pop();if(o){if(!n.params.images)n.params.images=[];n.params.images[0]=o.value;}if(p)n.params.title=p.value;if(q)n.params.summary=q.value;return n;};j.prototype.$ReactComposerCTAStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','config']),m=l[0],n=l[1],o=this.getComposerData(m);o.ctaType=n.ctaType;o.ctaURI=n.ctaURI;o.ctaMarkup=n.markup;o.ctaAttachmentConfig=n.attachmentConfig;this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerCTAAttachmentUtils',['ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerCTAStore'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={isCTAAttachmentSelected:function i(j){return (c('ReactComposerAttachmentStore').getIsAttachmentSelected(j,c('ReactComposerAttachmentType').CTA)||c('ReactComposerAttachmentStore').getIsAttachmentSelected(j,c('ReactComposerAttachmentType').CALL)||c('ReactComposerAttachmentStore').getIsAttachmentSelected(j,c('ReactComposerAttachmentType').MESSAGE)||c('ReactComposerAttachmentStore').getIsAttachmentSelected(j,c('ReactComposerAttachmentType').GET_DIRECTIONS));},isPageButtonDisabled:function i(j){return (this.isCTAAttachmentSelected(j)&&!c('ReactComposerCTAStore').hasCTAPhoto(j));}};f.exports=h;}),null);
__d('ReactComposerMarkdownActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({ENABLE_MARKDOWN:null,HIDE_INTERCEPT:null,SHOW_INTERCEPT:null},'ReactComposerMarkdownActionType');}),null);
__d('ReactComposerMarkdownStore',['ReactComposerMarkdownActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){var k;i.constructor.call(this,function(){return {showIntercept:false,markdownEnabled:false};},function(l){switch(l.type){case c('ReactComposerMarkdownActionType').SHOW_INTERCEPT:k&&k.$ReactComposerMarkdownStore1(l);break;case c('ReactComposerMarkdownActionType').HIDE_INTERCEPT:k&&k.$ReactComposerMarkdownStore2(l);break;case c('ReactComposerMarkdownActionType').ENABLE_MARKDOWN:k&&k.$ReactComposerMarkdownStore3(l);break;}});k=this;}j.prototype.showIntercept=function(k){return this.getComposerData(k).showIntercept;};j.prototype.isMarkdownEnabled=function(k){return this.getComposerData(k).markdownEnabled;};j.prototype.$ReactComposerMarkdownStore1=function(k){var l=this.validateAction(k,['composerID']),m=this.getComposerData(l);m.showIntercept=true;this.emitChange(l);};j.prototype.$ReactComposerMarkdownStore2=function(k){var l=this.validateAction(k,['composerID']),m=this.getComposerData(l);m.showIntercept=false;this.emitChange(l);};j.prototype.$ReactComposerMarkdownStore3=function(k){var l=this.validateAction(k,['composerID']),m=this.getComposerData(l);m.markdownEnabled=true;this.emitChange(l);};f.exports=new j();}),null);
__d('ReactComposerAudienceActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_AUDIENCE:null,SET_AUDIENCE_ELEMENT:null,SET_AUDIENCE_INSTANCE:null,SET_PRIVACYX_NULL_DANGEROUS:null},'ReactComposerAudienceActionTypes');}),null);
__d('ReactComposerAudienceStore',['csx','invariant','ReactComposerActionStore','ReactComposerAudienceActionTypes','$','DOM'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('ReactComposerActionStore'));k=j&&j.prototype;function l(){'use strict';var m;k.constructor.call(this,function(){return {audience:null,audienceElement:null,audienceInstance:null,legacyAudience:null,privacyxNullDangerous:false};},function(n){switch(n.type){case c('ReactComposerAudienceActionTypes').SET_AUDIENCE:m&&m.$ReactComposerAudienceStore1(n);break;case c('ReactComposerAudienceActionTypes').SET_AUDIENCE_ELEMENT:m&&m.$ReactComposerAudienceStore2(n);break;case c('ReactComposerAudienceActionTypes').SET_AUDIENCE_INSTANCE:m&&m.$ReactComposerAudienceStore3(n);break;case c('ReactComposerAudienceActionTypes').SET_PRIVACYX_NULL_DANGEROUS:m&&m.$ReactComposerAudienceStore4(n);break;}});m=this;}l.prototype.getAudience=function(m){'use strict';if(this.getPrivacyxNullDangerous(m))return null;try{var o=c('DOM').scry(c('$')(m),"._5dd8");!(o.length<2)?i(0):void 0;var p=o[0];if(p){var q=c('DOM').scry(p,'input[name="privacyx"]');!(q.length<2)?i(0):void 0;if(q.length===1)return q[0].value;}}catch(n){}return this.getComposerData(m).audience;};l.prototype.getLegacyAudience=function(m){'use strict';return this.getComposerData(m).legacyAudience;};l.prototype.getAudienceElement=function(m){'use strict';return this.getComposerData(m).audienceElement;};l.prototype.getAudienceInstance=function(m){'use strict';return this.getComposerData(m).audienceInstance;};l.prototype.getPrivacyxNullDangerous=function(m){'use strict';return this.getComposerData(m).privacyxNullDangerous;};l.prototype.$ReactComposerAudienceStore1=function(m){'use strict';var n=this.validateAction(m,'composerID'),o=this.getComposerData(n);o.audience=m.audience;o.legacyAudience=m.legacyAudience;this.emitChange(n);};l.prototype.$ReactComposerAudienceStore2=function(m){'use strict';var n=this.validateAction(m,['composerID','audienceElement']),o=n[0],p=n[1],q=this.getComposerData(o);q.audienceElement=p;this.emitChange(o);};l.prototype.$ReactComposerAudienceStore3=function(m){'use strict';var n=this.validateAction(m,'composerID'),o=this.getComposerData(n);o.audienceInstance=m.audienceInstance;this.emitChange(n);};l.prototype.$ReactComposerAudienceStore4=function(m){'use strict';var n=this.validateAction(m,'composerID'),o=this.getComposerData(n);o.privacyxNullDangerous=m.privacyxNullDangerous;this.emitChange(n);};f.exports=new l();}),null);
__d('ReactComposerCustomConfigActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_IS_FEED_ONLY_POST:null},'ReactComposerCustomConfigActionType');}),null);
__d('ReactComposerCustomConfigStore',['ReactComposerStoreBase','ReactComposerCustomConfigActionType'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isFeedOnlyPost:false};},function(l){switch(l.type){case c('ReactComposerCustomConfigActionType').SET_IS_FEED_ONLY_POST:k&&k.$ReactComposerCustomConfigStore1(l);break;}});k=this;}j.prototype.isFeedOnlyPost=function(k){'use strict';return this.getComposerData(k).isFeedOnlyPost;};j.prototype.$ReactComposerCustomConfigStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','isFeedOnlyPost']),m=l[0],n=l[1],o=this.getComposerData(m);o.isFeedOnlyPost=n;this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerLocationAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({LOCATION_ATTACHMENT_ENABLED:null,FETCH_LOCATION_ATTACHMENT:null,SET_MINUTIAE_ACTION_CONTEXT:null,SET_LOCATION_MARKUP:null},'ReactComposerLocationAttachmentActionType');}),null);
__d("XReactComposerLocationAttachmentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/location\/attachment\/",{composer_id:{type:"String",required:true},location_id:{type:"String",required:true},target_id:{type:"String",required:true}});}),null);
__d('ReactComposerLocationAttachmentStore',['ReactComposerAttachmentActionType','ReactComposerAttachmentType','ReactComposerLocationAttachmentActionType','ReactComposerStoreBase','XReactComposerLocationAttachmentController','AsyncRequest'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isEnabled:false,isFetching:false,markup:null,pendingRequest:null,minutiaeTaggedPlace:null,isTimeline:false};},function(l){switch(l.type){case c('ReactComposerLocationAttachmentActionType').LOCATION_ATTACHMENT_ENABLED:k&&k.$ReactComposerLocationAttachmentStore1(l);break;case c('ReactComposerLocationAttachmentActionType').FETCH_LOCATION_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore2(l);break;case c('ReactComposerLocationAttachmentActionType').SET_MINUTIAE_ACTION_CONTEXT:k&&k.$ReactComposerLocationAttachmentStore3(l);break;case c('ReactComposerLocationAttachmentActionType').SET_LOCATION_MARKUP:k&&k.$ReactComposerLocationAttachmentStore4(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore5(l);break;}});k=this;}j.prototype.isEnabled=function(k){'use strict';return this.getComposerData(k).isEnabled;};j.prototype.getMarkup=function(k){'use strict';return this.getComposerData(k).markup;};j.prototype.getMinutiaeTaggedPlace=function(k){'use strict';return this.getComposerData(k).minutiaeTaggedPlace;};j.prototype.getIsTimeline=function(k){'use strict';return this.getComposerData(k).isTimeline;};j.prototype.isFetching=function(k){'use strict';return this.getComposerData(k).isFetching;};j.prototype.$ReactComposerLocationAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','enabled']),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n;};j.prototype.$ReactComposerLocationAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','locationID','targetID']),m=l[0],n=l[1],o=l[2];if(!this.isEnabled(m))return;var p=this.getComposerData(m);p.isFetching=true;var q=c('XReactComposerLocationAttachmentController').getURIBuilder().setString('composer_id',m).setString('location_id',n).setString('target_id',o).getURI();p.pendingRequest=new (c('AsyncRequest'))(q).setFinallyHandler(function(){p.isFetching=false;p.pendingRequest=null;this.emitChange(m);}.bind(this));p.pendingRequest.send();this.emitChange(m);};j.prototype.$ReactComposerLocationAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','objectID','isTimeline']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.minutiaeTaggedPlace=n;p.isTimeline=o;this.emitChange(m);};j.prototype.$ReactComposerLocationAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','markup']),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;this.emitChange(m);};j.prototype.$ReactComposerLocationAttachmentStore5=function(k){'use strict';var l=this.validateAction(k,['composerID','id']),m=l[0],n=l[1];if(n===c('ReactComposerAttachmentType').STATUS)return;var o=this.getComposerData(m);o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerPerfLogger',['ComposerType','ComposerXSessionIDs','MarauderLogger'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={},i=c('ComposerType').STATUS,j={logEvent:function k(l,m){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],o=h[m],p=c('ComposerXSessionIDs').getSessionID(m);if(!o||!p)return;if(n.logOncePerSession){if(!o.loggedEventTypes[p])o.loggedEventTypes[p]={};if(o.loggedEventTypes[p][l])return;o.loggedEventTypes[p][l]=true;}var q=babelHelpers['extends']({},n.extraData,{composer_type:i,target_type:o.targetType,target_id:o.targetID,ref:o.entryPointRef});c('MarauderLogger').log(l,'composer',q,undefined,undefined,p);},registerComposer:function k(l,m,n,o){h[l.id]={targetID:o,targetType:m,entryPointRef:n,loggedEventTypes:{}};},getInstance:function k(l){return h[l];}};f.exports=j;}),null);
__d("XReactComposerScrapedAttachmentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/scraper\/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true},scrape_url:{type:"String",required:true},carousel_params:{type:"String"},entry_point:{type:"String",required:true},source_attachment:{type:"String",defaultValue:""},source_logging_name:{type:"Enum",defaultValue:"others",enumType:1}});}),null);
__d("XReactComposerShareAttachmentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/share_attachment\/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true},share_type:{type:"Int",required:true},share_params:{type:"String",required:true},source_attachment:{type:"String",defaultValue:""}});}),null);
__d('ReactComposerScrapedAttachmentStore',['ActorURI','CallToActionLinkFormats','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerScrapedAttachmentActionType','ReactComposerStoreBase','XReactComposerScrapedAttachmentController','XReactComposerShareAttachmentController','AsyncRequest','PagesComposerCarouselPostChildAttachmentAttributes','PagesComposerCarouselPostLogAttributes','DOM'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {markup:null,attachmentConfig:{},enabled:false,isScraping:false,permissiveMatch:null,sourceAttachment:null};},function(l){switch(l.type){case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_ENABLED:k&&k.$ReactComposerScrapedAttachmentStore1(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_PERMISSIVE_MATCH_SETTED:k&&k.$ReactComposerScrapedAttachmentStore2(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_INTENDED:k&&k.$ReactComposerScrapedAttachmentStore3(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SHARE_SELECTED:k&&k.$ReactComposerScrapedAttachmentStore4(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:k&&k.$ReactComposerScrapedAttachmentStore5(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerScrapedAttachmentStore6(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_CAROUSEL_UPLOAD:k&&k.$ReactComposerScrapedAttachmentStore7(l);}});k=this;}j.prototype.isEnabled=function(k){'use strict';return this.getComposerData(k).isEnabled;};j.prototype.hasAttachment=function(k){'use strict';return !!this.getMarkup(k);};j.prototype.isScraping=function(k){'use strict';return this.getComposerData(k).isScraping;};j.prototype.getMarkup=function(k){'use strict';return this.getComposerData(k).markup;};j.prototype.isReadOnly=function(k){'use strict';var l=this.getComposerData(k);return l.attachmentConfig&&l.attachmentConfig.readOnly;};j.prototype.getAttachmentConfig=function(k){'use strict';var l=this.getComposerData(k);if(!l.markup)return null;if(!l.attachmentConfig.readOnly){var m=c('DOM').scry(l.markup,'input[name="attachment[params][images][0]"]').pop(),n=c('DOM').scry(l.markup,'input[name="attachment[params][title]"]').pop(),o=c('DOM').scry(l.markup,'input[name="attachment[params][summary]"]').pop();if(m!=null){if(l.attachmentConfig.params.images===undefined)l.attachmentConfig.params.images=[];l.attachmentConfig.params.images[0]=m.value;}if(n!=null)l.attachmentConfig.params.title=n.value;if(o!=null)l.attachmentConfig.params.summary=o.value;var p=c('DOM').scry(l.markup,'input[name="attachment[carousel_log]['+c('PagesComposerCarouselPostLogAttributes').USE_CAROUSEL_COMPOSER+']"]').pop();if(p!=null&&p.value==='1'){this.$ReactComposerScrapedAttachmentStore8(l);this.$ReactComposerScrapedAttachmentStore9(l);}this.$ReactComposerScrapedAttachmentStore10(l);}return l.attachmentConfig;};j.prototype.$ReactComposerScrapedAttachmentStore10=function(k){'use strict';var l={},m=Object.keys(c('PagesComposerCarouselPostLogAttributes'));for(var n=0;n<m.length;n++){var o=c('PagesComposerCarouselPostLogAttributes')[m[n]],p=c('DOM').scry(k.markup,'input[name="attachment[carousel_log]['+o+']"]').pop();if(!p)continue;l[o]=p.value;}if(Object.keys(l).length!==0)k.attachmentConfig.carousel_log=l;};j.prototype.$ReactComposerScrapedAttachmentStore8=function(k){'use strict';k.attachmentConfig.params.child_attachments={};var l=Object.keys(c('PagesComposerCarouselPostChildAttachmentAttributes')),m=0,n={};while(true){var o=false,p=0;n={};for(p=0;p<l.length;p++){var q=c('DOM').scry(k.markup,'input[name="attachment[params][child_attachments]['+m+']['+c('PagesComposerCarouselPostChildAttachmentAttributes')[l[p]]+']"]').pop();if(q==null)continue;n[c('PagesComposerCarouselPostChildAttachmentAttributes')[l[p]]]=q.value;o=true;}if(!o)break;k.attachmentConfig.params.child_attachments[m]=n;m++;}};j.prototype.$ReactComposerScrapedAttachmentStore9=function(k){'use strict';var l=k.attachmentConfig.params.child_attachments;if(!l)return;var m=null,n=0;for(var o in l)if(l.hasOwnProperty(o))if(l[o].selected==='1'){n+=1;if(n>1)return;if(l[o].video_id)m=l[o];}if(m){k.attachmentConfig.params.carousel_video_lpp={};Object.assign(k.attachmentConfig.params.carousel_video_lpp,{video_id:m.video_id,publish:true,link_title:m.name,link_description:m.description,cta_type:m.cta_type?m.cta_type:'NO_BUTTON',cta_link:m.link,cta_link_format:c('CallToActionLinkFormats').VIDEO_LPP});}};j.prototype.getPermissiveMatch=function(k){'use strict';return this.getComposerData(k).permissiveMatch;};j.prototype.$ReactComposerScrapedAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','enabled']),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n;};j.prototype.$ReactComposerScrapedAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','permissiveMatch']),m=l[0],n=l[1],o=this.getComposerData(m);o.permissiveMatch=n;this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','value','entryPoint','actorID','sourceLoggingName']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=l[5];if(!this.isEnabled(m))return;var s=this.getComposerData(k.composerID);s.isScraping=true;var t=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),u=c('XReactComposerScrapedAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setString('scrape_url',o).setString('entry_point',p).setString('source_attachment',t).setEnum('source_logging_name',r).getURI();u=c('ActorURI').create(u,q);new (c('AsyncRequest'))(u).send();this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore5=function(k){'use strict';if(!this.isEnabled(k.composerID))return;var l=this.getComposerData(k.composerID);l.markup=k.markup;l.attachmentConfig=k.attachmentConfig;l.isScraping=false;l.sourceAttachment=c('ReactComposerAttachmentStore').getSelectedAttachmentID(k.composerID);this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore6=function(k){'use strict';var l=this.getComposerData(k.composerID);if(k.id===l.sourceAttachment)return;l.markup=null;l.attachmentConfig={};l.isScraping=false;l.sourceAttachment=null;this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore7=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','scrapeUrl','carouselParams','entryPoint','actorID']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=l[5],s=this.getComposerData(k.composerID);s.isScraping=true;var t=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),u=c('XReactComposerScrapedAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setString('scrape_url',o).setString('carousel_params',p).setString('entry_point',q).setString('source_attachment',t).getURI();u=c('ActorURI').create(u,r);new (c('AsyncRequest'))(u).send();this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','actorID','shareType','shareParams']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4];if(!this.isEnabled(m))return;var r=this.getComposerData(m);r.isScraping=true;var s=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),t=c('XReactComposerShareAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setInt('share_type',p).setString('share_params',JSON.stringify(q)).setString('source_attachment',s).getURI();t=c('ActorURI').create(t,o);new (c('AsyncRequest'))(t).send();this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerLoggingStore',['invariant','ReactComposerActionTypes','ReactComposerAlbumActionType','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerAudienceActionTypes','ReactComposerAudienceStore','ReactComposerDispatcher','ReactComposerFeatureType','ReactComposerLoggingQueue','ReactComposerPerfLogger','ReactComposerPhotoActionType','ReactComposerPhotoStore','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerScrapedAttachmentActionType','ReactComposerScrapedAttachmentStore','ReactComposerSelectedImagesStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerVideoUploadActionType','Bootloader','ComposerEntryPointRef','ComposerPerfEvent','ComposerWaterfallEvent','ComposerXMarauderLogger','ComposerXSessionIDs','immutable','PhotosUploadWaterfallXMixin','PUWApplications','PUWMethods','PUWSteps','classWithMixins','mixin','performanceAbsoluteNow','nullthrows','PhotoUploadFacerecWaterfallTypedLogger','FacerecWaterfallEvent'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('classWithMixins')(c('ReactComposerStoreBase'),c('mixin')(c('PhotosUploadWaterfallXMixin'))));j=i&&i.prototype;function k(){'use strict';var l;j.constructor.call(this,function(){return {activated:false,perfTimes:{},sessionID:null,uniqueEvents:c('immutable').Map([[c('PUWSteps').CLIENT_PUBLISH_SUCCESS,false],[c('PUWSteps').CLIENT_FLOW_SUCCESS,false]])};},function(m){l&&l.handler(m);});l=this;}k.prototype.handler=function(l){'use strict';if(l.suppressWaterfallLogging)return;var m=this.getComposerData(l.composerID);if(!m.activated)return;switch(l.type){case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:this.$ReactComposerLoggingStore1(l);break;case c('ReactComposerActionTypes').COMPOSER_ENTRY:this.$ReactComposerLoggingStore2(l);break;case c('ReactComposerAttachmentActionType').SET_BOOTLOADED:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerAttachmentStore').getDispatchToken()]);this.$ReactComposerLoggingStore3(l);break;case c('ReactComposerAttachmentActionType').SET_BOOTSTRAPPED:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerAttachmentStore').getDispatchToken()]);this.$ReactComposerLoggingStore4(l);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_INPUT_CLICKED:this.$ReactComposerLoggingStore5(l);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_INPUT_DONE:this.$ReactComposerLoggingStore6(l);break;case c('ReactComposerAlbumActionType').CREATE_ALBUM_SELECTOR_CLICKED:this.$ReactComposerLoggingStore7(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore8(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_STARTED:this.$ReactComposerLoggingStore9(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_DONE:this.$ReactComposerLoggingStore10(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_FAILED:this.$ReactComposerLoggingStore11(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZER_UNAVAILABLE:this.$ReactComposerLoggingStore12(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_UPLOADING:this.$ReactComposerLoggingStore13(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:this.$ReactComposerLoggingStore14(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_FAILED:this.$ReactComposerLoggingStore15(l);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_REMOVE:this.$ReactComposerLoggingStore16(l);break;case c('ReactComposerPhotoActionType').PHOTO_REMOVE:this.$ReactComposerLoggingStore17(l);break;case c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore18(l);break;case c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_ADD:this.$ReactComposerLoggingStore19(l);break;case c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_REMOVE:this.$ReactComposerLoggingStore20(l);break;case c('ReactComposerTaggerActionType').DESELECT_TAGGER:this.$ReactComposerLoggingStore21(l);break;case c('ReactComposerTaggerActionType').SET_SELECTED_TAGGER:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerTaggerStore').getDispatchToken()]);this.$ReactComposerLoggingStore22(l);break;case c('ReactComposerTaggerActionType').SET_TAGGER_DATA:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerTaggerStore').getDispatchToken()]);this.$ReactComposerLoggingStore23(l);break;case c('ReactComposerActionTypes').POST_STARTED:this.$ReactComposerLoggingStore24(l);break;case c('ReactComposerActionTypes').POST_SUCCEEDED:this.$ReactComposerLoggingStore25(l);break;case c('ReactComposerActionTypes').POST_ERROR:this.$ReactComposerLoggingStore26(l);break;case c('ReactComposerMediaUploadActionType').PHOTOS_SELECT:this.$ReactComposerLoggingStore27(l);break;case c('ReactComposerPhotoActionType').PHOTO_EDIT_STARTED:this.$ReactComposerLoggingStore28(l);break;case c('ReactComposerPhotoActionType').PHOTO_EDIT_FINISHED:this.$ReactComposerLoggingStore29(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RETRY:this.$ReactComposerLoggingStore30(l);break;case c('ReactComposerPhotoActionType').PHOTO_ADD_FACEBOX:this.$ReactComposerLoggingStore31(l);break;case c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_ALL_FINISHED:this.$ReactComposerLoggingStore32(l);break;case c('ReactComposerActionTypes').FEATURE_INTENT:this.$ReactComposerLoggingStore33(l);break;case c('ReactComposerActionTypes').FEATURE_DONE:this.$ReactComposerLoggingStore34(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:c('ReactComposerDispatcher').waitFor([c('ReactComposerScrapedAttachmentStore').getDispatchToken()]);this.$ReactComposerLoggingStore35(l);break;case c('ReactComposerAudienceActionTypes').SET_AUDIENCE:this.$ReactComposerLoggingStore36(l);break;case c('ReactComposerActionTypes').COMPOSER_CANCEL:this.$ReactComposerLoggingStore37(l);break;default:}};k.prototype.getSessionID=function(l){'use strict';return c('ComposerXSessionIDs').getSessionID(l);};k.prototype.isActivated=function(l){'use strict';return this.getComposerData(l).activated;};k.prototype.activate=function(l){'use strict';var m=this.getComposerData(l);m.activated=true;if(c('ReactComposerLoggingQueue').getLength()>0)this.$ReactComposerLoggingStore38();};k.prototype.$ReactComposerLoggingStore2=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').COMPOSER_ENTRY,{logOncePerSession:true,extraData:{composer_entry_point_name:l.uiElementName}});};k.prototype.$ReactComposerLoggingStore33=function(l){'use strict';var m=this.validateAction(l,['composerID','featureType','uiElementName']),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore40(n,o,p);};k.prototype.$ReactComposerLoggingStore34=function(l){'use strict';var m=this.validateAction(l,['composerID','featureType','uiElementName']),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore41(n,o,p);};k.prototype.$ReactComposerLoggingStore1=function(l){'use strict';var m=this.validateAction(l,['id','currentAttachmentID','composerID']),n=m[0],o=m[1],p=m[2];if(c('ReactComposerAttachmentStore').isSelectedAttachmentActive(p))this.$ReactComposerLoggingStore2(l);};k.prototype.$ReactComposerLoggingStore3=function(l){'use strict';var m=this.validateAction(l,['id','composerID']),n=m[0],o=m[1];this.$ReactComposerLoggingStore42(o,c('ComposerPerfEvent').CLIENT_BOOTLOADED,{extraData:{attachment_type:n,duration:c('ReactComposerAttachmentStore').getBootloadDuration(o,n)}});};k.prototype.$ReactComposerLoggingStore4=function(l){'use strict';var m=this.validateAction(l,['id','composerID']),n=m[0],o=m[1];this.$ReactComposerLoggingStore42(o,c('ComposerPerfEvent').CLIENT_BOOTSTRAPPED,{extraData:{attachment_type:n,duration:c('ReactComposerAttachmentStore').getBootstrapDuration(o,n)}});};k.prototype.$ReactComposerLoggingStore7=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').ALBUM_INTENT);};k.prototype.$ReactComposerLoggingStore5=function(l){'use strict';var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore40(n,c('ReactComposerFeatureType').MEDIA,o);this.$ReactComposerLoggingStore39(n,c('ComposerWaterfallEvent').MEDIA_INTENT);this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_SELECT_BEGIN);};k.prototype.$ReactComposerLoggingStore6=function(l){'use strict';var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore41(n,c('ReactComposerFeatureType').MEDIA,o);};k.prototype.$ReactComposerLoggingStore8=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').PHOTO_ADD);this.$ReactComposerLoggingStore44(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore9=function(l){'use strict';var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_PROCESS_BEGIN,o);};k.prototype.$ReactComposerLoggingStore10=function(l){'use strict';var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_PROCESS_SUCCESS,o);};k.prototype.$ReactComposerLoggingStore11=function(l){'use strict';var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_PROCESS_FAIL,o);};k.prototype.$ReactComposerLoggingStore12=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore43(m,c('PUWSteps').CLIENT_PROCESS_UNAVAILABLE);};k.prototype.$ReactComposerLoggingStore13=function(l){'use strict';var m=this.validateAction(l,['composerID','fileUpload']),n=m[0],o=m[1];this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_TRANSFER_BEGIN,{bytes:o.getFile().size});};k.prototype.$ReactComposerLoggingStore14=function(l){'use strict';var m=this.validateAction(l,['composerID','fileUpload','timeToUpload']),n=m[0],o=m[1],p=m[2],q={};if(l.uploadID&&c('ReactComposerMediaUploadStore').getMediaUploadExists(n,l.uploadID))q=c('ReactComposerMediaUploadStore').getMediaUpload(n,l.uploadID);this.$ReactComposerLoggingStore39(n,c('ComposerWaterfallEvent').PHOTO_ADD_SUCCESS);this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_TRANSFER_SUCCESS,{bytes:o.getFile().size,auto_retry_count:o.getRetryCount(),dt:p,custom_tags:{manual_retry:!!o.getFile().manuallyRetried},projection_type:q.projectionType,fbid:l.photoID,sheight:q.height,swidth:q.width,theight:l.height,twidth:l.width});};k.prototype.$ReactComposerLoggingStore15=function(l){'use strict';var m=this.validateAction(l,['composerID','fileUpload','error','timeToUpload']),n=m[0],o=m[1],p=m[2],q=m[3],r={};if(l.uploadID&&c('ReactComposerMediaUploadStore').getMediaUploadExists(n,l.uploadID))r=c('ReactComposerMediaUploadStore').getMediaUpload(n,l.uploadID);this.$ReactComposerLoggingStore39(n,c('ComposerWaterfallEvent').PHOTO_ADD_FAILURE);this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_TRANSFER_FAIL,{bytes:o.getFile().size,error_code:p.code,error_info:p.description,auto_retry_count:o.getRetryCount(),dt:q,custom_tags:{manual_retry:!!o.getFile().manuallyRetried},projection_type:r.projectionType,sheight:r.height,swidth:r.width});};k.prototype.$ReactComposerLoggingStore16=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').PHOTO_REMOVE);this.$ReactComposerLoggingStore44(m,c('ReactComposerFeatureType').MEDIA);this.$ReactComposerLoggingStore43(m,c('PUWSteps').CLIENT_TRANSFER_CANCEL);};k.prototype.$ReactComposerLoggingStore17=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').PHOTO_REMOVE);this.$ReactComposerLoggingStore44(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore18=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore44(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore19=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').VIDEO_ADD);};k.prototype.$ReactComposerLoggingStore20=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').VIDEO_REMOVE);this.$ReactComposerLoggingStore44(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore21=function(l){'use strict';var m=this.validateAction(l,['composerID','taggerID','sourceLoggingName']),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore45(o);!(q!==null)?h(0):void 0;if(q)this.$ReactComposerLoggingStore41(n,q,p);};k.prototype.$ReactComposerLoggingStore22=function(l){'use strict';var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1],p=c('ReactComposerTaggerStore').getSelectedTagger(n),event=null;switch(p){case c('ReactComposerTaggerType').PEOPLE:this.$ReactComposerLoggingStore40(n,c('ReactComposerFeatureType').WITH_TAG,o);event=c('ComposerWaterfallEvent').FRIEND_TAG_INTENT;break;case c('ReactComposerTaggerType').LOCATION:this.$ReactComposerLoggingStore40(n,c('ReactComposerFeatureType').LOCATION,o);event=c('ComposerWaterfallEvent').LOCATION_INTENT;break;case c('ReactComposerTaggerType').ACTIVITY:this.$ReactComposerLoggingStore40(n,c('ReactComposerFeatureType').MINUTIAE,o);event=c('ComposerWaterfallEvent').MINUTIAE_INTENT;break;case c('ReactComposerTaggerType').MARKDOWN:event=c('ComposerWaterfallEvent').MARKDOWN_INTENT;break;default:var q=this.$ReactComposerLoggingStore45(p);if(q)this.$ReactComposerLoggingStore40(n,q,o);break;}if(event===null)return;this.$ReactComposerLoggingStore39(n,event);};k.prototype.$ReactComposerLoggingStore23=function(l){'use strict';var m=this.validateAction(l,['composerID','taggerID','sourceLoggingName']),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore45(o);!(q!==null)?h(0):void 0;if(q)this.$ReactComposerLoggingStore44(n,q,p);};k.prototype.$ReactComposerLoggingStore24=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.perfTimes.postStartTime=c('performanceAbsoluteNow')();this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').COMPOSER_POST);if(this.$ReactComposerLoggingStore46(m)){this.$ReactComposerLoggingStore43(m,c('PUWSteps').CLIENT_PUBLISH_BEGIN,this.$ReactComposerLoggingStore47(m));c('ReactComposerPhotoStore').getPhotos(m).forEach(function(o){o.faceboxes.forEach(function(p){return (new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('FacerecWaterfallEvent').CLIENT_PHOTO_PUBLISHED).setPhotoFbid(o.id).setFaceBoxID(p.id).setRecognizedUser(p.recognizedSubjectID).setTaggedUser(p.taggedSubjectID).log());});});}};k.prototype.$ReactComposerLoggingStore25=function(l){var m,n=this;'use strict';var o=this.validateAction(l,'composerID'),p=this.getComposerData(o),q=c('ReactComposerAttachmentStore').getSelectedAttachmentID(o);this.$ReactComposerLoggingStore39(o,c('ComposerWaterfallEvent').COMPOSER_POST_SUCCESS);this.$ReactComposerLoggingStore42(o,c('ComposerPerfEvent').CLIENT_POST_SUCCEEDED,{extraData:{attachment_type:c('ReactComposerAttachmentStore').getSelectedAttachmentID(o),duration:c('performanceAbsoluteNow')()-p.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore46(o)){var r=this.$ReactComposerLoggingStore47(o);this.$ReactComposerLoggingStore43(o,c('PUWSteps').CLIENT_PUBLISH_SUCCESS,r);this.$ReactComposerLoggingStore43(o,c('PUWSteps').CLIENT_FLOW_SUCCESS);var s=c('ReactComposerPhotoStore').getPhotos(o);if(s&&s.forEach)(function(){var t=0;s.forEach(function(u){if(u.cubestripURI)t++;});if(t>0)c('Bootloader').loadModules(["SphericalPhotoViewerLoggerUtil","SphericalMediaConstants"],function(u,v){u.logNumberOfSphericalPhoto({composerSessionID:this.getSessionID(o)||'',surface:v.LOGGER_SURFACES.composer,numberOfSphericalPhoto:t});}.bind(n),'ReactComposerLoggingStore');})();}};k.prototype.$ReactComposerLoggingStore26=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').COMPOSER_POST_FAILURE);this.$ReactComposerLoggingStore42(m,c('ComposerPerfEvent').CLIENT_POST_FAILED,{extraData:{attachment_type:c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),duration:c('performanceAbsoluteNow')()-n.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore46(m)){var o=l.response,p=Object.assign(this.$ReactComposerLoggingStore47(m),{error_code:o&&o.getError&&o.getError(),error_info:o&&o.getErrorDescription&&o.getErrorDescription()});this.$ReactComposerLoggingStore43(m,c('PUWSteps').CLIENT_PUBLISH_FAIL,p);}};k.prototype.$ReactComposerLoggingStore27=function(l){'use strict';var m=this.validateAction(l,['composerID','numPhotos','method']),n=m[0],o=m[1],p=m[2],q={method:p,volume:o};this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});if(p!==c('PUWMethods').FILE_SELECTOR)this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_SELECT_BEGIN);this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_SELECT_SUCCESS,q);};k.prototype.$ReactComposerLoggingStore28=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore43(m,c('PUWSteps').CLIENT_PHOTO_EDIT_BEGIN);};k.prototype.$ReactComposerLoggingStore29=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore43(m,c('PUWSteps').CLIENT_PHOTO_EDIT_SUCCESS);};k.prototype.$ReactComposerLoggingStore30=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore43(m,c('PUWSteps').CLIENT_TRANSFER_MANUAL_RETRY);};k.prototype.$ReactComposerLoggingStore31=function(l){'use strict';var m=this.validateAction(l,['photoID','facebox']),n=m[0],o=m[1],p=o.bestRecognition,q=null;if(p)q=p.subjectID;new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('FacerecWaterfallEvent').RECOGNITION_RECEIVED_BY_CLIENT).setPhotoFbid(n).setFaceBoxID(o.id).setRecognizedUser(q).log();};k.prototype.$ReactComposerLoggingStore32=function(l){'use strict';var m=this.validateAction(l,['photos','facerecWaterfallEvent']),n=m[0],o=m[1];n.forEach(function(p){new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('nullthrows')(o)).setPhotoFbid(p).log();});};k.prototype.$ReactComposerLoggingStore35=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore44(m,c('ReactComposerFeatureType').LINK,l.sourceLoggingName);};k.prototype.$ReactComposerLoggingStore36=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore44(m,c('ReactComposerFeatureType').PRIVACY,l.sourceLoggingName);};k.prototype.$ReactComposerLoggingStore37=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').COMPOSER_CANCEL);};k.prototype.$ReactComposerLoggingStore46=function(l){'use strict';var m=c('ReactComposerAttachmentStore').getIsAttachmentSelected(l,c('ReactComposerAttachmentType').MEDIA),n=c('ReactComposerMediaUploadStore').getUploadsOfType(l,c('ReactComposerMediaUploadType').PHOTO);return m&&!!n.size;};k.prototype.$ReactComposerLoggingStore47=function(l){'use strict';var m=c('ReactComposerTaggerStore').getTaggerData(l,c('ReactComposerTaggerType').PEOPLE)||[],n=c('ReactComposerMediaUploadStore').getTotalNumberOfStickersOnPhotos(l);return {volume:c('ReactComposerPhotoStore').getPhotos(l).size,with_tag_count:m.length,sticker_count:n};};k.prototype.$ReactComposerLoggingStore40=function(l,m,n){'use strict';this.$ReactComposerLoggingStore39(l,c('ComposerWaterfallEvent').FEATURE_INTENT,{extraData:{feature_type:m,source:n}});};k.prototype.$ReactComposerLoggingStore44=function(l,m,n){'use strict';this.$ReactComposerLoggingStore39(l,c('ComposerWaterfallEvent').FEATURE_UPDATE,{extraData:{feature_type:m,source:n}});};k.prototype.$ReactComposerLoggingStore41=function(l,m,n){'use strict';this.$ReactComposerLoggingStore39(l,c('ComposerWaterfallEvent').FEATURE_DONE,{extraData:{feature_type:m,source:n}});};k.prototype.$ReactComposerLoggingStore39=function(l,event){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];'use strict';var n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true);}if(c('ReactComposerStore').getRef(l)===c('ComposerEntryPointRef').RECENT_POSTS)c('Bootloader').loadModules(["FeedbackDigestNotifTypedLogger"],function(o){new o().setComposerWaterfallEvent(event).addToExtraData('payload',JSON.stringify(this.$ReactComposerLoggingStore48(l))).addToExtraData('message',c('ReactComposerStatusStore').getMessageText(l)).log();}.bind(this),'ReactComposerLoggingStore');m.extraData=Object.assign({is_markdown_enabled:!!c('ReactComposerTaggerStore').getTaggerData(l,c('ReactComposerTaggerType').MARKDOWN).isMarkdown,payload:this.$ReactComposerLoggingStore48(l)},m.extraData);c('ComposerXMarauderLogger').logEvent(event,l,m);};k.prototype.$ReactComposerLoggingStore42=function(l,event){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];'use strict';var n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true);}c('ReactComposerPerfLogger').logEvent(event,l,m);};k.prototype.$ReactComposerLoggingStore43=function(l,m,n,o,p){'use strict';var q=this.getComposerData(l);if(q.uniqueEvents.has(m)){if(q.uniqueEvents.get(m))return;q.uniqueEvents=q.uniqueEvents.set(m,true);}this.logPUWStep(m,this.getSessionID(l),c('PUWApplications').WEB_REACT_COMPOSER,c('ReactComposerStore').getRef(l),n,o,p);};k.prototype.$ReactComposerLoggingStore38=function(){'use strict';while(c('ReactComposerLoggingQueue').getLength()>0){var l=c('ReactComposerLoggingQueue').pop();this.handler(l);}};k.prototype.$ReactComposerLoggingStore48=function(l){'use strict';return {character:c('ReactComposerStatusStore').getTextLength(l),location_tag:c('ReactComposerTaggerStore').hasLocationTag(l),implicit_location:c('ReactComposerTaggerStore').hasImplicitLocation(l),minutiae:c('ReactComposerTaggerStore').hasMinutiae(l),with_who_tag:c('ReactComposerTaggerStore').getNumberOfWithWhoTags(l),photo:c('ReactComposerMediaUploadStore').getNonsphericalPhotoCount(l),three_sixty_photo:c('ReactComposerMediaUploadStore').getSphericalPhotoCount(l),video:c('ReactComposerMediaUploadStore').getUploadsCount(l,c('ReactComposerMediaUploadType').VIDEO),shared_link:c('ReactComposerScrapedAttachmentStore').hasAttachment(l)?1:0,backdated:c('ReactComposerTaggerStore').hasBackdate(l)?c('ReactComposerTaggerStore').getTaggerData(l,c('ReactComposerTaggerType').BACKDATE):null,audience:c('ReactComposerAudienceStore').getAudience(l)};};k.prototype.$ReactComposerLoggingStore45=function(l){'use strict';switch(l){case c('ReactComposerTaggerType').PEOPLE:return c('ReactComposerFeatureType').WITH_TAG;case c('ReactComposerTaggerType').LOCATION:return c('ReactComposerFeatureType').LOCATION;case c('ReactComposerTaggerType').ACTIVITY:return c('ReactComposerFeatureType').MINUTIAE;case c('ReactComposerTaggerType').MARKDOWN:return c('ReactComposerFeatureType').MARKDOWN;case c('ReactComposerTaggerType').BACKDATE:return c('ReactComposerFeatureType').DATE;case c('ReactComposerTaggerType').SPONSOR:return c('ReactComposerFeatureType').SPONSOR;default:return null;}};f.exports=new k();}),null);
__d('ReactComposerMinutiaeAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({FETCH_ATTACHMENT:null,SET_EXPLICIT_LOCATION:null,SET_MARKUP:null},'ReactComposerMinutiaeAttachmentActionType');}),null);
__d("XReactComposerMinutiaeAttachmentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/minutiae\/attachment\/",{composer_id:{type:"String",required:true},action_id:{type:"String",required:true},object_id:{type:"String",required:true},target_id:{type:"String",required:true},is_timeline:{type:"Bool",defaultValue:false},explicit_place_tag_id:{type:"String"}});}),null);
__d('ReactComposerMinutiaeAttachmentStore',['ReactComposerAttachmentActionType','ReactComposerAttachmentType','ReactComposerMinutiaeAttachmentActionType','ReactComposerStoreBase','XReactComposerMinutiaeAttachmentController','AsyncRequest'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isFetching:false,markup:null,pendingRequest:null,explicitLocation:null};},function(l){switch(l.type){case c('ReactComposerMinutiaeAttachmentActionType').FETCH_ATTACHMENT:k&&k.$ReactComposerMinutiaeAttachmentStore1(l);break;case c('ReactComposerMinutiaeAttachmentActionType').SET_MARKUP:k&&k.$ReactComposerMinutiaeAttachmentStore2(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerMinutiaeAttachmentStore3(l);break;case c('ReactComposerMinutiaeAttachmentActionType').SET_EXPLICIT_LOCATION:k&&k.$ReactComposerMinutiaeAttachmentStore4(l);break;}});k=this;}j.prototype.getMarkup=function(k){'use strict';return this.getComposerData(k).markup;};j.prototype.isFetching=function(k){'use strict';return this.getComposerData(k).isFetching;};j.prototype.$ReactComposerMinutiaeAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','explicitLocation']),m=l[0],n=l[1],o=this.getComposerData(m);o.explicitLocation=n;this.emitChange(m);};j.prototype.$ReactComposerMinutiaeAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','actionID','objectID','targetID','isTimeline']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=this.getComposerData(m);r.isFetching=true;var s=c('XReactComposerMinutiaeAttachmentController').getURIBuilder().setString('composer_id',m).setString('action_id',n).setString('object_id',o).setString('target_id',p).setBool('is_timeline',q);if(r.explicitLocation)s.setString('explicit_place_tag_id',r.explicitLocation);r.pendingRequest=new (c('AsyncRequest'))(s.getURI()).setFinallyHandler(function(){r.isFetching=false;r.pendingRequest=null;this.emitChange(m);}.bind(this));r.pendingRequest.send();this.emitChange(m);};j.prototype.$ReactComposerMinutiaeAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','markup']),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;this.emitChange(m);};j.prototype.$ReactComposerMinutiaeAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','id']),m=l[0],n=l[1];if(n===c('ReactComposerAttachmentType').STATUS)return;var o=this.getComposerData(m);o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerProfileBadgeActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_HAS_PROFILE_BADGE:null},'ReactComposerProfileBadgeActionType');}),null);
__d('ReactComposerProfileBadgeStore',['ReactComposerStoreBase','ReactComposerTaggerType','ReactComposerProfileBadgeActionType','ReactComposerTaggerActionType'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {hasProfileBadge:false};},function(l){switch(l.type){case c('ReactComposerTaggerActionType').SET_TAGGER_DATA:case c('ReactComposerTaggerActionType').SET_SELECTED_TAGGER:case c('ReactComposerTaggerActionType').DESELECT_TAGGER:k&&k.$ReactComposerProfileBadgeStore1(l);break;case c('ReactComposerProfileBadgeActionType').SET_HAS_PROFILE_BADGE:k&&k.$ReactComposerProfileBadgeStore2(l);break;}});k=this;}j.prototype.hasProfileBadge=function(k){'use strict';return this.getComposerData(k).hasProfileBadge;};j.prototype.$ReactComposerProfileBadgeStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','taggerID']),m=l[0],n=l[1];if(n!==c('ReactComposerTaggerType').ACTIVITY)return;var o=this.getComposerData(m);o.hasProfileBadge=true;this.emitChange(m);};j.prototype.$ReactComposerProfileBadgeStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','hasProfileBadge']),m=l[0],n=l[1],o=this.getComposerData(m);o.hasProfileBadge=n;this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerPromptsActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_MINUTIAE_DATA:null,SET_PROMPT_DATA:null,SET_PROMPT_XHP:null},'ReactComposerPromptsActionTypes');}),null);
__d('ReactComposerPromptsStore',['ReactComposerPromptsActionTypes','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {promptData:null,promptXHP:null};},function(l){k&&k.handler(l);});k=this;}j.prototype.handler=function(k){'use strict';switch(k.type){case c('ReactComposerPromptsActionTypes').SET_MINUTIAE_DATA:this.$ReactComposerPromptsStore1(k);break;case c('ReactComposerPromptsActionTypes').SET_PROMPT_DATA:this.$ReactComposerPromptsStore2(k);break;case c('ReactComposerPromptsActionTypes').SET_PROMPT_XHP:this.$ReactComposerPromptsStore3(k);break;default:}};j.prototype.$ReactComposerPromptsStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','minutiaeData']),m=l[0],n=l[1],o=this.getComposerData(m);o.minutiaeData=n;};j.prototype.getMinutiaeData=function(k){'use strict';return this.getComposerData(k).minutiaeData;};j.prototype.$ReactComposerPromptsStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','promptData']),m=l[0],n=l[1],o=this.getComposerData(m);o.promptData=n;};j.prototype.getPromptData=function(k){'use strict';return this.getComposerData(k).promptData;};j.prototype.$ReactComposerPromptsStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','promptXHP']),m=l[0],n=l[1],o=this.getComposerData(m);o.promptXHP=n;this.emitChange(m);};j.prototype.getPromptXHP=function(k){'use strict';return this.getComposerData(k).promptXHP;};f.exports=new j();}),null);
__d('ReactComposerTopicFeedsTaggerActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({USER_ADD_TAG:null,USER_REMOVE_TAG:null,PREFILL_TAGS:null,SERVER_UPDATE_TAGS:null,SET_COMPOSER_FEED_ID:null,SET_PHOTO_AUTO_TAGGING_DELAY:null,SET_PHOTO_POLLING_DURATION:null,SET_PHOTO_POLLING_INTERVAL:null,SET_TAGGER_MOUNTED:null,SET_TEXT_AUTO_TAGGING_DELAY:null,SET_RESHARE_URL:null,SET_DARK_LAUNCH:null,SET_TARGET_ID:null},'ReactComposerTopicFeedsTaggerActionType');}),null);
__d('ReactComposerTopicFeedsTaggerActions',['ReactComposerTopicFeedsTaggerActionType','ReactComposerDispatcher'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();h.prototype.addTag=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topicID:j,type:c('ReactComposerTopicFeedsTaggerActionType').USER_ADD_TAG});};h.prototype.removeTag=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topicID:j,type:c('ReactComposerTopicFeedsTaggerActionType').USER_REMOVE_TAG});};h.prototype.setDarkLaunch=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,isDarkLaunch:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_DARK_LAUNCH});};h.prototype.setPhotoAutoTaggingDelay=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,delay:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_AUTO_TAGGING_DELAY});};h.prototype.setPhotoPollingDuration=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,duration:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_DURATION});};h.prototype.setPhotoPollingInterval=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,interval:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_INTERVAL});};h.prototype.setTaggerMounted=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,isMounted:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_TAGGER_MOUNTED});};h.prototype.setTextAutoTaggingDelay=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,delay:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_TEXT_AUTO_TAGGING_DELAY});};h.prototype.updateTags=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topics:j,type:c('ReactComposerTopicFeedsTaggerActionType').SERVER_UPDATE_TAGS});};h.prototype.prefillTags=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topicIDs:j,type:c('ReactComposerTopicFeedsTaggerActionType').PREFILL_TAGS});};h.prototype.setComposerFeedID=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,composerFeedID:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_COMPOSER_FEED_ID});};h.prototype.setReshareURL=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,reshareURL:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_RESHARE_URL});};h.prototype.setTargetID=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,targetID:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_TARGET_ID});};function h(){'use strict';}f.exports=new h();}),null);
__d("XFeedTopicClassifierController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/feed\/topic\/classifier\/",{message:{type:"String",defaultValue:""},place_tag_id:{type:"FBID"},photo_ids:{type:"FBIDVector"},captions:{type:"StringVector"},urls:{type:"StringVector"},session_id:{type:"String"},tagged_profile_ids:{type:"FBIDVector"},mention_ids:{type:"FBIDVector"},mentions:{type:"HackType"},minutiae_action_id:{type:"FBID"},minutiae_object_id:{type:"FBID"},minutiae_object_string:{type:"String"},target_ent_id:{type:"FBID"},topics:{type:"HackType"},use_new_form:{type:"Bool",defaultValue:false},classification_session_id:{type:"String"},sequence_number:{type:"Int"}});}),null);
__d('ReactComposerTopicFeedsAutoTaggingRequester',['AsyncRequest','ReactComposerLoggingStore','ReactComposerMediaUploadType','ReactComposerMediaUploadStore','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTopicFeedsTaggerActions','ReactComposerTopicFeedsTaggerStore','DraftEntity','EditorState','Map','TopicFeedsComposerTypedLogger','XFeedTopicClassifierController','emptyFunction','uuid'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=5000;function i(){'use strict';this.$ReactComposerTopicFeedsAutoTaggingRequester1=new (c('Map'))();this.$ReactComposerTopicFeedsAutoTaggingRequester2=new (c('Map'))();this.$ReactComposerTopicFeedsAutoTaggingRequester3=new (c('Map'))();this.$ReactComposerTopicFeedsAutoTaggingRequester4=Date.now();}i.prototype.sendThrottledRequest=function(j,k){'use strict';if(this.$ReactComposerTopicFeedsAutoTaggingRequester1.has(j))return;this.$ReactComposerTopicFeedsAutoTaggingRequester1.set(j,setTimeout(function(){this.sendImmediateRequest(j);this.$ReactComposerTopicFeedsAutoTaggingRequester1['delete'](j);}.bind(this),k||h));};i.prototype.sendPhotoPollingRequest=function(j,k,l){'use strict';this.$ReactComposerTopicFeedsAutoTaggingRequester5(j);var m=[];for(var n=l;n<=k;n+=l)m.push(setTimeout(function(){return this.sendImmediateRequest(j);}.bind(this),n));this.$ReactComposerTopicFeedsAutoTaggingRequester2.set(j,m);};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester5=function(j){'use strict';var k=this.$ReactComposerTopicFeedsAutoTaggingRequester2.get(j);if(k){k.forEach(function(l){clearTimeout(l);});this.$ReactComposerTopicFeedsAutoTaggingRequester2['delete'](j);}};i.prototype.sendImmediateRequest=function(j){'use strict';var k=c('ReactComposerStatusStore').getMessageText(j),l=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').LOCATION),m=l.place&&l.place.getUniqueID(),n=c('ReactComposerMediaUploadStore').getUploadsOfType(j,c('ReactComposerMediaUploadType').PHOTO).map(function(ca){return ca.photoID;}).toArray().filter(function(ca){return ca;}),o=null,p=c('ReactComposerTopicFeedsTaggerStore').getReshareURL(j);if(!p)p=c('ReactComposerScrapedAttachmentStore').getMarkup(j)&&c('ReactComposerScrapedAttachmentStore').getPermissiveMatch(j);if(p)o=[p];var q=this.$ReactComposerTopicFeedsAutoTaggingRequester6(c('ReactComposerStatusStore').getEditorState(j)),r=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').PEOPLE)||[],s=r.map(function(ca){return ca.getUniqueID();}),t=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').ACTIVITY),u=null,v=null,w=null;if(t&&t.action&&t.object){u=t.action.getUniqueID();if(isNaN(t.object.getUniqueID())){w=t.object.getUniqueID();}else v=t.object.getUniqueID();}var x=c('ReactComposerTopicFeedsTaggerStore').getNextPredictionSequenceNumber(j),y=c('ReactComposerTopicFeedsTaggerStore').getTargetID(j),z=c('uuid')(),aa=Date.now(),ba=c('XFeedTopicClassifierController').getURIBuilder().setString('message',k).setFBID('place_tag_id',m).setFBIDVector('photo_ids',n).setHackType('mentions',q).setFBIDVector('tagged_profile_ids',s).setStringVector('urls',o).setString('session_id',c('ReactComposerLoggingStore').getSessionID(j)).setFBID('minutiae_action_id',u).setFBID('minutiae_object_id',v).setString('minutiae_object_string',w).setFBID('target_ent_id',y).setHackType('topics',c('ReactComposerTopicFeedsTaggerStore').getComposerData(j).topicsInfoList.toArray()).setString('classification_session_id',z).setInt('sequence_number',x).getURI();new (c('AsyncRequest'))(ba).setHandler(function(ca){return this.$ReactComposerTopicFeedsAutoTaggingRequester7(ca,j,z,aa,x);}.bind(this)).send();new (c('TopicFeedsComposerTypedLogger'))().setEvent('topic_feeds_composer_predict_start').setComposerID(c('ReactComposerLoggingStore').getSessionID(j)).setClassifySessionID(z).setLinkAttachmentCount(o?o.length:0).setPhotoAttachmentCount(n?n.length:0).setSequenceNumber(x).setClientEventTimeMs(Date.now()).log();};i.prototype.clearAllPendingRequests=function(j){'use strict';if(!this.$ReactComposerTopicFeedsAutoTaggingRequester1.has(j))return;clearTimeout(this.$ReactComposerTopicFeedsAutoTaggingRequester1.get(j));this.$ReactComposerTopicFeedsAutoTaggingRequester5(j);this.$ReactComposerTopicFeedsAutoTaggingRequester1['delete'](j);this.$ReactComposerTopicFeedsAutoTaggingRequester4=Date.now();};i.prototype.updatePostStatus=function(j,k){'use strict';this.$ReactComposerTopicFeedsAutoTaggingRequester3.set(j,k);};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester7=function(j,k,l,m,n){'use strict';if(!j||!j.payload){new (c('TopicFeedsComposerTypedLogger'))().setEvent('topic_feeds_composer_predict_finish').setComposerID(c('ReactComposerLoggingStore').getSessionID(k)).setClassifySessionID(l).setPredictionDuration(Date.now()-m).setPredictionIsSuccessful(false).setPredictionErrorReason(j?'No data':'No payload').setSequenceNumber(n).setClientEventTimeMs(Date.now()).setIsPredictionApplied(false).log();return;}var o=null,p=true;if(this.$ReactComposerTopicFeedsAutoTaggingRequester3.get(k)){p=false;o='This post has already been submitted.';}else if(m<this.$ReactComposerTopicFeedsAutoTaggingRequester4){p=false;o='Classify start time < Last Request Timestamp';}new (c('TopicFeedsComposerTypedLogger'))().setEvent('topic_feeds_composer_predict_finish').setComposerID(c('ReactComposerLoggingStore').getSessionID(k)).setClassifySessionID(l).setTopicsAutoTagged(j.payload.map(function(q){return q.feed_id;})).setPredictionDuration(Date.now()-m).setPredictionIsSuccessful(true).setPredictionCount(j.payload.length).setSequenceNumber(n).setClientEventTimeMs(Date.now()).setIsPredictionApplied(p).setPredictionErrorReason(o).log();if(p){this.$ReactComposerTopicFeedsAutoTaggingRequester4=m;c('ReactComposerTopicFeedsTaggerActions').updateTags(k,j.payload);}};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester6=function(j){'use strict';if(!j)return [];var k=j.getCurrentContent(),l=[];k.getBlockMap().forEach(function(m){m.findEntityRanges(c('emptyFunction').thatReturnsTrue,function(n,o){var p=m.getEntityAt(n);if(!p)return;var q=c('DraftEntity').get(p);if(q.getType()!=='MENTION')return;l.push({mention_id:q.getData().id,mention_type:q.getData().type,offset:n,length:o-n});});});return l;};f.exports=new i();}),null);
__d('ReactComposerTopicFeedsTaggerStore',['invariant','ReactComposerActionTypes','ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerScrapedAttachmentActionType','ReactComposerStatusActionType','ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerType','ReactComposerTopicFeedsTaggerActionType','ReactComposerTopicFeedsAutoTaggingRequester','immutable','TopicFeedsConstant'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('TopicFeedsConstant').DEFAULT_PHOTO_AUTO_TAGGING_DELAY,l=c('TopicFeedsConstant').DEFAULT_PHOTO_POLLING_DURATION,m=c('TopicFeedsConstant').DEFAULT_PHOTO_POLLING_INTERVAL,n=c('TopicFeedsConstant').DEFAULT_TEXT_AUTO_TAGGING_DELAY,o=c('TopicFeedsConstant').TOPIC_CONFIDENCE_USER_ADD,p=c('TopicFeedsConstant').TOPIC_CONFIDENCE_USER_REMOVE,q=c('TopicFeedsConstant').TOPIC_CONFIDENCE_BOOTSTRAP;i=babelHelpers.inherits(r,c('ReactComposerStoreBase'));j=i&&i.prototype;function r(){'use strict';var s=void 0;j.constructor.call(this,function(){return {autoTaggingEnabled:true,photoAutoTaggingDelay:k,photoPollingDuration:l,photoPollingInterval:m,reshareURL:null,sequenceCounter:0,topicsInfoList:c('immutable').List(),taggerEnabled:false,targetID:null,textAutoTaggingDelay:n};},function(t){if(!s)return;var u=s.validateAction(t,'composerID');if(!s.getIsTaggerEnabled(u)&&!s.$ReactComposerTopicFeedsTaggerStore1(t))return;switch(t.type){case c('ReactComposerTopicFeedsTaggerActionType').SET_TAGGER_MOUNTED:s.$ReactComposerTopicFeedsTaggerStore2(t);break;case c('ReactComposerTopicFeedsTaggerActionType').USER_ADD_TAG:s.$ReactComposerTopicFeedsTaggerStore3(t);break;case c('ReactComposerTopicFeedsTaggerActionType').USER_REMOVE_TAG:s.$ReactComposerTopicFeedsTaggerStore4(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SERVER_UPDATE_TAGS:s.$ReactComposerTopicFeedsTaggerStore5(t);break;case c('ReactComposerTopicFeedsTaggerActionType').PREFILL_TAGS:s.$ReactComposerTopicFeedsTaggerStore6(t);break;case c('ReactComposerStatusActionType').SET_EDITOR_STATE:s.$ReactComposerTopicFeedsTaggerStore7(t);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:c('ReactComposerDispatcher').waitFor([c('ReactComposerMediaUploadStore').getDispatchToken()]);s.$ReactComposerTopicFeedsTaggerStore8(t);break;case c('ReactComposerActionTypes').POST_STARTED:s.$ReactComposerTopicFeedsTaggerStore9(t);break;case c('ReactComposerActionTypes').POST_ERROR:s.$ReactComposerTopicFeedsTaggerStore10(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_COMPOSER_FEED_ID:s.$ReactComposerTopicFeedsTaggerStore11(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_TEXT_AUTO_TAGGING_DELAY:s.$ReactComposerTopicFeedsTaggerStore12(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_AUTO_TAGGING_DELAY:s.$ReactComposerTopicFeedsTaggerStore13(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_DURATION:s.$ReactComposerTopicFeedsTaggerStore14(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_INTERVAL:s.$ReactComposerTopicFeedsTaggerStore15(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_DARK_LAUNCH:s.$ReactComposerTopicFeedsTaggerStore16(t);break;case c('ReactComposerTaggerActionType').SET_TAGGER_DATA:s.$ReactComposerTopicFeedsTaggerStore17(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_RESHARE_URL:s.$ReactComposerTopicFeedsTaggerStore18(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_TARGET_ID:s.$ReactComposerTopicFeedsTaggerStore19(t);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:s.$ReactComposerTopicFeedsTaggerStore20(t);break;}});s=this;}r.prototype.getComposerFeedID=function(s){'use strict';return this.getComposerData(s).composerFeedID;};r.prototype.getUserAddedTopics=function(s){'use strict';return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence===o;}).map(function(t){return t.feed_id;});};r.prototype.getUserRemovedTopics=function(s){'use strict';return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence===p;}).map(function(t){return t.feed_id;});};r.prototype.getTaggedTopics=function(s){'use strict';return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence>0;}).map(function(t){return t.feed_id;});};r.prototype.getIsTaggerEnabled=function(s){'use strict';return this.getComposerData(s).taggerEnabled;};r.prototype.getIsDarkLaunch=function(s){'use strict';return this.getComposerData(s).isDarkLaunch;};r.prototype.getReshareURL=function(s){'use strict';return this.getComposerData(s).reshareURL;};r.prototype.getTargetID=function(s){'use strict';return this.getComposerData(s).targetID;};r.prototype.getNextPredictionSequenceNumber=function(s){'use strict';return ++this.getComposerData(s).sequenceCounter;};r.prototype.$ReactComposerTopicFeedsTaggerStore1=function(s){'use strict';return (s.type===c('ReactComposerTopicFeedsTaggerActionType').SET_TAGGER_MOUNTED||s.type===c('ReactComposerTopicFeedsTaggerActionType').PREFILL_TAGS);};r.prototype.$ReactComposerTopicFeedsTaggerStore2=function(s){'use strict';var t=this.validateAction(s,['composerID','isMounted']),u=t[0],v=t[1],w=this.getComposerData(u);w.taggerEnabled=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore3=function(s){'use strict';var t=this.validateAction(s,['composerID','topicID']),u=t[0],v=t[1],w=this.getComposerData(u),x={feed_id:v,confidence:o,context:''},y=w.topicsInfoList.findIndex(function(aa){return aa.feed_id===v;});if(y>=0){var z=w.topicsInfoList.get(y);!(z.confidence===p)?h(0):void 0;x.context=z.context;w.topicsInfoList=w.topicsInfoList['delete'](y);}w.topicsInfoList=w.topicsInfoList.push(x);w.autoTaggingEnabled=false;c('ReactComposerTopicFeedsAutoTaggingRequester').clearAllPendingRequests(u);this.emitChange(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore4=function(s){'use strict';var t=this.validateAction(s,['composerID','topicID']),u=t[0],v=t[1],w=this.getComposerData(u),x=w.topicsInfoList.findIndex(function(z){return z.feed_id===v;});!(x>=0)?h(0):void 0;var y={feed_id:v,confidence:p,context:w.topicsInfoList.get(x).context};w.topicsInfoList=w.topicsInfoList['delete'](x);w.topicsInfoList=w.topicsInfoList.push(y);c('ReactComposerTopicFeedsAutoTaggingRequester').clearAllPendingRequests(u);c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(u);w.autoTaggingEnabled=false;this.emitChange(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore5=function(s){'use strict';var t=this.validateAction(s,['composerID','topics']),u=t[0],v=t[1],w=this.getComposerData(u);if(w.autoTaggingEnabled){w.topicsInfoList=c('immutable').List(v);this.emitChange(u);}};r.prototype.$ReactComposerTopicFeedsTaggerStore6=function(s){'use strict';var t=this.validateAction(s,['composerID','topicIDs']),u=t[0],v=t[1],w=this.getComposerData(u);w.topicsInfoList=c('immutable').List(v.map(function(x){return {feed_id:x,confidence:q,context:''};}));this.emitChange(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore7=function(s){'use strict';var t=this.validateAction(s,['composerID','editorState']),u=t[0],v=t[1];if(this.getComposerData(u).autoTaggingEnabled&&v.getCurrentContent().getPlainText().length>0)c('ReactComposerTopicFeedsAutoTaggingRequester').sendThrottledRequest(u,this.getComposerData(u).textAutoTaggingDelay);};r.prototype.$ReactComposerTopicFeedsTaggerStore11=function(s){'use strict';var t=this.validateAction(s,['composerID','composerFeedID']),u=t[0],v=t[1];this.getComposerData(u).composerFeedID=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore8=function(s){'use strict';var t=this.validateAction(s,'composerID');if(this.getComposerData(t).autoTaggingEnabled)c('ReactComposerTopicFeedsAutoTaggingRequester').sendPhotoPollingRequest(t,this.getComposerData(t).photoPollingDuration,this.getComposerData(t).photoPollingInterval);};r.prototype.$ReactComposerTopicFeedsTaggerStore9=function(s){'use strict';var t=this.validateAction(s,'composerID');c('ReactComposerTopicFeedsAutoTaggingRequester').clearAllPendingRequests(t);c('ReactComposerTopicFeedsAutoTaggingRequester').updatePostStatus(t,true);this.getComposerData(t).autoTaggingEnabled=false;};r.prototype.$ReactComposerTopicFeedsTaggerStore10=function(s){'use strict';var t=this.validateAction(s,'composerID');this.getComposerData(t).autoTaggingEnabled=true;c('ReactComposerTopicFeedsAutoTaggingRequester').updatePostStatus(t,false);};r.prototype.$ReactComposerTopicFeedsTaggerStore12=function(s){'use strict';var t=this.validateAction(s,['composerID','delay']),u=t[0],v=t[1];this.getComposerData(u).textAutoTaggingDelay=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore13=function(s){'use strict';var t=this.validateAction(s,['composerID','delay']),u=t[0],v=t[1];this.getComposerData(u).photoAutoTaggingDelay=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore14=function(s){'use strict';var t=this.validateAction(s,['composerID','duration']),u=t[0],v=t[1];this.getComposerData(u).photoPollingDuration=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore15=function(s){'use strict';var t=this.validateAction(s,['composerID','interval']),u=t[0],v=t[1];this.getComposerData(u).photoPollingInterval=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore17=function(s){'use strict';var t=this.validateAction(s,['composerID','taggerID','taggerData']),u=t[0],v=t[1],w=t[2];if(v===c('ReactComposerTaggerType').ACTIVITY&&w.object||v===c('ReactComposerTaggerType').PEOPLE&&w.length>0||v===c('ReactComposerTaggerType').LOCATION&&w.place)c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore16=function(s){'use strict';var t=this.validateAction(s,['composerID','isDarkLaunch']),u=t[0],v=t[1];this.getComposerData(u).isDarkLaunch=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore18=function(s){'use strict';var t=this.validateAction(s,['composerID','reshareURL']),u=t[0],v=t[1];this.getComposerData(u).reshareURL=v;c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore19=function(s){'use strict';var t=this.validateAction(s,['composerID','targetID']),u=t[0],v=t[1];this.getComposerData(u).targetID=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore20=function(s){'use strict';var t=this.validateAction(s,'composerID');c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(t);};f.exports=new r();}),null);
__d('SlideshowUtil',['SlideshowConstants','SlideshowImageUtil'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=1000,i='_',j=2,k={getDurationParam:function l(m,n,o){var p=Math.min(m,c('SlideshowConstants').max_photo_num),q=h*n,r=o*(p-1),s=Math.floor((q-r)/p);return {durationInMS:s,transitionInMS:o};},getTotalLengthInSec:function l(m,n){var o=Math.min(n,c('SlideshowConstants').max_photo_num);return Math.round(m*o/h);},getTotalNumFramesFromVideo:function l(){return c('SlideshowConstants').frames_from_video.default_num_selected_frames+j;},getSelectedFramesFromVideo:function l(m,n){var o=m.length>=n+2?2:0,p=m.length-o,q=o==2?1:0,r=p+q,s=[],t=Math.max(1,(p-1)/(n-1));while(q<r){s.push(m[Math.floor(q)]);q+=t;}return s;},convertHexToRGB:function l(m){if(!m)return null;m=m.replace('#','');var n=parseInt(m.substring(0,2),16),o=parseInt(m.substring(2,4),16),p=parseInt(m.substring(4,6),16);return [Math.round(255*c('SlideshowImageUtil').getOpacity()),n,o,p];},getTextoverlayParam:function l(m,n){if(!m.textoverlay_content)return [{text_content:' ',textbox_coordinates:[0,0,0,0]}];var o=c('SlideshowImageUtil').getScaleMultiplierFromCrops(n);return [{background_color:k.convertHexToRGB(m.background_color),text_content:' ',textbox_coordinates:c('SlideshowImageUtil').getOuterTextboxCoordinatesForAPI(n,m,o)},{text_content:m.textoverlay_content,textbox_coordinates:c('SlideshowImageUtil').getInnerTextboxCoordinatesForAPI(n,m,o),text_color:k.convertHexToRGB(m.font_color),text_font:m.font,text_weight:m.bold,text_halign:c('SlideshowImageUtil').getHorizontalAlignmentForAPI(m.text_alignment),text_size:c('SlideshowImageUtil').getFontSize(o)}];}};f.exports=k;}),null);
__d('ReactComposerPostDataUtils',['AdsAPITargetFields','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerAudienceStore','ReactComposerCTAStore','ReactComposerCustomConfigStore','ReactComposerLocationAttachmentStore','ReactComposerLoggingStore','ReactComposerMarkdownStore','ReactComposerMediaUploadType','ReactComposerMinutiaeAttachmentStore','ReactComposerMultilingualStatusStore','ReactComposerPhotoStore','ReactComposerPostUtilsCore','ReactComposerProfileBadgeStore','ReactComposerPromptsStore','ReactComposerScrapedAttachmentStore','ReactComposerSessionMetricsStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerSelectedImagesStore','ReactComposerSlideshowAudioStore','ReactComposerSlideshowStore','ReactComposerTopicFeedsTaggerStore','ComposerXMarauderLogger','PagesComposerBoostedPostsStore','PhotoEditorLoggingConstants','PhotoEditorSaveStates','PlaceAttachmentSetting','PUWApplications','SlideshowUtil','isNumberLike','StorySurfaces'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getPostData:function i(j){var k=j.composerID,l=j.targetID,m=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').PEOPLE)||[],n=[],o=[];m.forEach(function(za){n.push(za.getTitle());o.push(za.getUniqueID());});var p=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').PRODUCT)||[];p=p.filter(function(za){return !za.getAuxiliaryData().isFacebox;});var q=p.map(function(za){return za.getUniqueID();}),r=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').ACTIVITY),s=[],t=[],u=[],v;if(r&&r.action&&r.object){s.push(r.action.getUniqueID());v=r.actionIconID;if(c('isNumberLike')(r.object.getUniqueID())){t.push(r.object.getUniqueID());u.push('');}else u.push(r.object.getTitle());}var w=!c('ReactComposerMinutiaeAttachmentStore').getMarkup(k),x=c('ReactComposerLocationAttachmentStore').getMarkup(k)!==null?c('PlaceAttachmentSetting').SHOW_ATTACHMENT:c('PlaceAttachmentSetting').HIDE_ATTACHMENT,y=c('ReactComposerMultilingualStatusStore').getMessages(k),z=c('ReactComposerMultilingualStatusStore').getLanguageDialects(k),aa=c('ReactComposerMultilingualStatusStore').getSpecifiedPostLanguage(k),ba=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').LOCATION),ca=ba?ba.place:null,da=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').BACKDATE)||{},ea={year:this._sanitizeDateField(da.year),month:this._sanitizeDateField(da.month),day:this._sanitizeDateField(da.day),hour:this._sanitizeDateField(da.hour),minute:this._sanitizeDateField(da.minute)},fa=ba&&ba.implicitLocation?ba.implicitLocation.citypageid:null,ga=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').SPONSOR)||[],ha=[];ga.forEach(function(za){ha.push(za.getUniqueID());});var ia,ja=c('ReactComposerAudienceStore').getLegacyAudience(k);if(ja)ia=[{value:ja}];var ka=j.useHints,la=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').TARGETING),ma=la?ka?la.hints:la.targeting:null;if(ma){if(!ka&&ma.fan_of)ma.fan_of=ma.fan_of.map(function(za){return za.id;});if(ka&&ma[c('AdsAPITargetFields').INTERESTS])ma[c('AdsAPITargetFields').INTERESTS]=ma[c('AdsAPITargetFields').INTERESTS].map(function(za){return za.id;});}var na=la?la.gating:null;if(j.composerConfig.contextInfo.stopFeedDistributionDateFormatted){if(!ma)ma={};ma['relevant-until-date']=j.composerConfig.contextInfo.stopFeedDistributionDateFormatted;ma['relevant-until-time']=j.composerConfig.contextInfo.stopFeedDistributionTimeFormatted;}var oa=c('PagesComposerBoostedPostsStore').getConfig(k),pa=c('ReactComposerScrapedAttachmentStore').getAttachmentConfig(k);if(pa===null)pa=c('ReactComposerCTAStore').getAttachmentConfig(k);var qa=!!c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').MARKDOWN).isMarkdown||c('ReactComposerMarkdownStore').isMarkdownEnabled(k),ra=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').CONTENT_WARNINGS);if(ra!=null)ra=ra.map(function(za){return za.getUniqueID();});var sa=null;if(!c('ReactComposerTopicFeedsTaggerStore').getIsDarkLaunch(k))sa=c('ReactComposerTopicFeedsTaggerStore').getTaggedTopics(k).toArray();var ta=c('ReactComposerPromptsStore').getPromptData(k),ua=c('ReactComposerCustomConfigStore').isFeedOnlyPost(k)?[c('StorySurfaces').TIMELINE]:null,va=c('ReactComposerSessionMetricsStore').getComposerStartTime(k),wa=null;if(va)wa=Math.round((Date.now()-va)/1000);var xa=c('ComposerXMarauderLogger').getInstance(k),ya=xa&&xa.composerSourceSurface;return Object.assign(babelHelpers['extends']({},c('ReactComposerStatusStore').getRichTextBlocks(k),{action_type_id:s,attachment:pa,backdated_date:ea,boosted_post_config:oa,audience:ia,composer_entry_time:c('ReactComposerSessionMetricsStore').getComposerEntryTime(k),composer_session_id:c('ReactComposerLoggingStore').getSessionID(k),composer_session_duration:wa,composer_source_surface:ya,composer_type:j.composerType,composertags_city:fa,composertags_place:ca&&ca.getUniqueID()||fa,composertags_place_name:ca&&ca.getTitle(),composertags_with:o,composertags_sponsors:ha,composertags_product_items:q,content_warnings:ra,feed_targeted_data:ma,feed_topics:sa,hide_object_attachment:w,icon_id:v,is_explicit_place:!!ca,is_markdown:qa,is_q_and_a:c('ReactComposerAttachmentStore').getIsAttachmentSelected(k,c('ReactComposerAttachmentType').QANDA),is_profile_badge_post:c('ReactComposerProfileBadgeStore').hasProfileBadge(k),multilingual_statuses:y,multilingual_status_langs:z,multilingual_specified_lang:aa,num_keystrokes:c('ReactComposerSessionMetricsStore').getKeystrokeCount(k),num_pastes:c('ReactComposerSessionMetricsStore').getPasteCount(k),object_id:t,object_str:u,place_attachment_setting:x,post_surfaces_blacklist:ua,privacyx:c('ReactComposerAudienceStore').getAudience(k),prompt_id:ta?ta.promptID:null,prompt_tracking_string:ta?ta.trackingString:null,ref:c('ReactComposerStore').getRef(k),tagger_session_id:ba&&ba.sessionID,target_type:c('ReactComposerStore').getTargetType(k),targeted_privacy_data:na,text_composertags_with:n,xhpc_message:c('ReactComposerStatusStore').getMessage(k),xhpc_message_text:c('ReactComposerStatusStore').getMessageText(k),is_forced_reshare_of_post:pa&&pa.reshare_original_post,xc_disable_config:{xc_disable_link:pa&&pa.readOnly}}),this._getScrapedAttachmentData(pa),c('ReactComposerPostUtilsCore').getCoreData(k,j.composerConfig.contextInfo,l));},getMediaUploadsData:function i(j,k){var l=c('ReactComposerPhotoStore').getPhotos(j);k=k.filter(function(m){return m.mediaType===c('ReactComposerMediaUploadType').VIDEO?true:l.some(function(n){return n.id===m.photoID;});});return this.getMediaDataWithoutFiltering(j,k);},getMediaDataWithoutFiltering:function i(j,k){var l=k.map(function(o){return o.photoID;}).toArray(),m=c('ReactComposerSlideshowStore').isSlideshowSelected(j),n=null;if(m)n=this._getSlideshowSpec(j);return Object.assign({composer_unpublished_photo:l,qn:c('ReactComposerLoggingStore').getSessionID(j),slideshow_spec:n,waterfallxapp:c('PUWApplications').WEB_REACT_COMPOSER,xy_tags:this._getXYTagData(j)},this._getCreativeEditingToolsData(k));},_sanitizeDateField:function i(j){return !j||j===-1||j===0?null:j;},_getSlideshowSpec:function i(j){var k=c('ReactComposerSlideshowAudioStore').getSelectedStorylineMood(j),l=null;if(k!=null)l=k.moodID;var m=c('ReactComposerSlideshowStore').getDurationInMS(j),n=c('ReactComposerSlideshowStore').getTransitionInMS(j),o=c('ReactComposerSelectedImagesStore').getNumberOfImages(j),p=c('SlideshowUtil').getTotalLengthInSec(m,o),q=c('SlideshowUtil').getDurationParam(o,p,n);return {photo_ids:c('ReactComposerSelectedImagesStore').getPhotoIDs(j),images_crops:c('ReactComposerSelectedImagesStore').getImagesCrops(j),photo_duration:q.durationInMS,photo_transition_duration:q.transitionInMS,storyline_mood_id:l};},_getXYTagData:function i(j){var k=c('ReactComposerPhotoStore').getAllTaggedFaceboxes(j).map(function(m){return {fbid:m.get('photoID'),x:m.get('x'),y:m.get('y'),name:m.get('taggedValue'),subject:m.get('taggedSubjectID'),from_facebox:true,source:m.get('isMagicTag')?'composerx_suggestions':'composerx_flyout'};}),l=c('ReactComposerPhotoStore').getAllXYTags(j).map(function(m){return {fbid:m.get('photoID'),x:m.get('x'),y:m.get('y'),name:m.get('name'),subject:m.get('subject'),from_facebox:m.get('from_facebox'),source:m.get('source')};});return k.concat(l);},_getCreativeEditingToolsData:function i(j){var k={},l={},m={},n={};j.forEach(function(p){var q=p.get('photoID'),r=c('PhotoEditorSaveStates').getLoggingData(p.get('originalPhotoID'));if(r){k[q]=r.hasFilter?true:null;l[q]=r.hasCrop?true:null;m[q]=r.textOverlays;n[q]=r.stickers;}});var o={};o[c('PhotoEditorLoggingConstants').COMPOSER_IMAGE_HAS_FILTER]=k;o[c('PhotoEditorLoggingConstants').COMPOSER_IMAGE_HAS_CROP]=l;o[c('PhotoEditorLoggingConstants').COMPOSER_IMAGE_TEXT_OVERLAY]=m;o[c('PhotoEditorLoggingConstants').COMPOSER_IMAGE_STICKER]=n;return o;},_getScrapedAttachmentData:function i(j){if(!j||!j.params||j.readOnly)return null;return {xc_share_params:JSON.stringify(j.params),xc_share_target_type:j.type,xc_share_images:j.params.images,xc_share_title:j.params.title,xc_share_summary:j.params.summary,xc_link_url:j.params.url};}};f.exports=h;}),null);
__d("PhotoEditorImageData",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j,k,l,m){"use strict";this.r=j;this.g=k;this.b=l;this.a=m;}h.fromArray=function(j,k){return new h(j[k],j[k+1],j[k+2],j[k+3]);};function i(j){"use strict";this.image_data=j;this.width=j.width;this.height=j.height;this.array=j.data;}i.prototype.getData=function(){"use strict";return this.image_data;};i.prototype.getWidth=function(){"use strict";return this.width;};i.prototype.getHeight=function(){"use strict";return this.height;};i.prototype.getPixel=function(j,k){"use strict";var l=this.getIndex(j,k);return h.fromArray(this.array,l);};i.prototype.setPixel=function(j,k,l){"use strict";var m=this.getIndex(j,k);this.array[m]=l.r;this.array[m+1]=l.g;this.array[m+2]=l.b;this.array[m+3]=l.a;};i.prototype.getIndex=function(j,k){"use strict";return 4*(j+k*this.width);};i.prototype.forEach=function(j){"use strict";for(var k=0;k<this.getWidth();k++)for(var l=0;l<this.getHeight();l++)this.setPixel(k,l,j(this.getPixel(k,l)));};i.Pixel=h;f.exports=i;}),null);
__d('PhotoEditorCanvas',['BlobFactory','DOM','PhotoEditorImageData','PhotoResizeModeConst','Vector','sprintf'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this._editor=i;this._canvas=c('DOM').create('canvas');this._ctx=this._canvas.getContext('2d');this._drawHandler=null;}h.prototype.setImageContent=function(i){'use strict';this._canvas.width=i.width;this._canvas.height=i.height;this._ctx.drawImage(i,0,0);return this;};h.prototype.drawGraphic=function(){'use strict';this._ctx.drawImage.apply(this._ctx,arguments);return this;};h.prototype.isBlobSupported=function(){'use strict';return !!this._canvas.toBlob;};h.prototype.getElement=function(){'use strict';return this._canvas;};h.prototype.getDimensions=function(){'use strict';return new (c('Vector'))(this._canvas.width,this._canvas.height,'document');};h.prototype.getWidth=function(){'use strict';return this._canvas.width;};h.prototype.getHeight=function(){'use strict';return this._canvas.height;};h.prototype.getContext=function(){'use strict';return this._ctx;};h.prototype.setWidth=function(i){'use strict';this._canvas.width=i;return this;};h.prototype.setHeight=function(i){'use strict';this._canvas.height=i;return this;};h.prototype.toBlob=function(i){'use strict';if(this.isBlobSupported()){this._canvas.toBlob(i);return;}this.getBlobFromDataURL(i);};h.prototype.getBlobFromDataURL=function(i){'use strict';var j=this.toDataURL('image/png'),k=j.match(/^data:(.*?);base64,/),l=k[1],m=j.substr(k[0].length),n=b.atob(m),o=new ArrayBuffer(n.length),p=new Uint8Array(o);for(var q=0;q<n.length;q++)p[q]=n.charCodeAt(q);var r=c('BlobFactory').getBlob([o],{type:l});i(r);};h.prototype.toBlobURL=function(i){'use strict';this.toBlob(function(j){i(b.URL.createObjectURL(j));});};h.prototype.toURL=function(i){'use strict';if(this.isBlobSupported()){this.toBlobURL(i);return;}i(this.toDataURL());};h.prototype.toDataURL=function(i){'use strict';return this._canvas.toDataURL(i);};h.prototype.resizedCopy=function(i,j){'use strict';var k=i.x/this.getWidth(),l=i.y/this.getHeight();if(j==c('PhotoResizeModeConst').CONTAIN){if(k>l){return this.scaledCopy(l);}else return this.scaledCopy(k);}else if(j==c('PhotoResizeModeConst').COVER){if(k<l){return this.scaledCopy(l);}else return this.scaledCopy(k);}else throw new Error('mode must be one of PhotoResizeModeConst');};h.prototype.scaledCopy=function(i){'use strict';var j=this._canvas.width*i,k=this._canvas.height*i;return new h().setWidth(j).setHeight(k).drawGraphic(this._canvas,0,0,j,k);};h.prototype.copy=function(){'use strict';return this.scaledCopy(1);};h.prototype.getPixelColor=function(i,j,k){'use strict';var l=new (c('PhotoEditorImageData'))(this.getImageData(i,j,1,1)).getPixel(0,0);if(k)l=k(l);return c('sprintf')('rgba(%s,%s,%s,%s)',l.r,l.g,l.b,l.a);};h.prototype.getImageData=function(i,j,k,l){'use strict';return this._ctx.getImageData(i||0,j||0,k||this.getWidth(),l||this.getHeight());};h.prototype.putImageData=function(i,j,k){'use strict';this._ctx.putImageData(i,j||0,k||0);return this;};h.prototype.toDataURI=function(){'use strict';return this._canvas.toDataURL('image/png');};h.prototype.toBase64=function(){'use strict';var i='data:image/png;base64,',j=this.toDataURI();return j.slice(i.length);};h.prototype.applyFilter=function(i,j){'use strict';this.putImageData(new i(this).run(j));};h.prototype.enableDrawing=function(i,j){'use strict';if(!this._editor)return;this.disableDrawing();this._drawHandler=new i(this._editor,j).start();return this._drawHandler;};h.prototype.setDrawingFillStyle=function(i){'use strict';if(!this._drawHandler)return;this._drawHandler.setFillStyle(i);};h.prototype.setFillStyle=function(i){'use strict';this._ctx.fillStyle=i;};h.prototype.disableDrawing=function(){'use strict';if(!this._drawHandler)return;this._drawHandler.stop();this._drawHandler=null;};h.prototype.clear=function(){'use strict';this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height);return this;};h.prototype.crop=function(i,j,k,l){'use strict';var m=new h().setWidth(k).setHeight(l);m.drawGraphic(this._canvas,Math.max(0,i),Math.max(0,j),k,l,0,0,k,l);this.setImageContent(m.getElement());return this;};h.prototype.fillText=function(i,j,k,l,m,n){'use strict';this._ctx.font=j;if(n){this._canvas.width=this._ctx.measureText(i).width;this._ctx.font=j;}this._ctx.textBaseline='top';this._ctx.fillStyle=k;this._ctx.fillText(i,l,m);return this;};h.prototype.fillCircle=function(i,j,k,l){'use strict';this._ctx.fillStyle=l||'black';this._ctx.beginPath();this._ctx.arc(i,j,k,0,Math.PI*2);this._ctx.closePath();this._ctx.fill();};h.prototype.fillRect=function(i,j,k,l,m){'use strict';this._ctx.fillStyle=m||'black';this._ctx.fillRect(i||0,j||0,k||this._canvas.width,l||this._canvas.height);return this;};f.exports=h;}),null);
__d('PhotoEditorFont',['PhotoEditorConfig','sprintf'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('PhotoEditorConfig').Constants;function i(j,k,l){'use strict';this.$PhotoEditorFont1=j||h.DEFAULT_FONT_FAMILY;this.$PhotoEditorFont2=k||h.DEFAULT_FONT_SIZE;this.$PhotoEditorFont3=l||h.DEFAULT_FONT_METRIC;}i.prototype.setFamily=function(j){'use strict';this.$PhotoEditorFont1=j;};i.prototype.getFamily=function(){'use strict';return this.$PhotoEditorFont1;};i.prototype.setSize=function(j){'use strict';this.$PhotoEditorFont2=j;};i.prototype.getSize=function(){'use strict';return this.$PhotoEditorFont2;};i.prototype.setMetric=function(j){'use strict';this.$PhotoEditorFont3=j;};i.prototype.getMetric=function(){'use strict';return this.$PhotoEditorFont3;};i.prototype.toString=function(){'use strict';return c('sprintf')('%s%s %s',this.$PhotoEditorFont2,this.$PhotoEditorFont3,this.$PhotoEditorFont1);};i.prototype.copy=function(){'use strict';return new i(this.$PhotoEditorFont1,this.$PhotoEditorFont2,this.$PhotoEditorFont3);};i.getDefault=function(){return new i();};f.exports=i;}),null);
__d('PhotoEditorGraphic',['cx','ArbiterMixin','PhotoEditorCanvas','CSS','DOM','Draggable','Event','PhotoEditorFont','Rect','SimpleDrag','Style','SubscriptionsHandler','UserAgent_DEPRECATED','Vector','clamp','emptyFunction','mixin','throttle'],(function a(b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r;if(c.__markCompiled)c.__markCompiled();var s=0,t=[],u=.7,v=.25,w=30,x=50,y=4,z=.8,aa=150,ba=5,ca=function ma(na){return {'-webkit-transform':na,'-moz-transform':na,'-ms-transform':na,transform:na};},da=function ma(na,oa){var pa=na.x*oa.x+na.y*oa.y,qa=pa/(na.magnitude()*oa.magnitude());qa=c('clamp')(qa,-1,1);var ra=Math.acos(qa)*(180/Math.PI),sa=na.x*oa.y-oa.x*na.y;if(sa<0)ra*=-1;return ra;};function ea(){'use strict';this.root=c('DOM').create('div');c('CSS').addClass(this.root,"_5g8y");c('CSS').addClass(this.root,"_5a2z");var ma=c('DOM').create('div');c('CSS').addClass(ma,"_2fb7");c('CSS').addClass(ma,"_5a2-");this.root.appendChild(ma);this.$FreeFormEditButton1=c('emptyFunction');this.$FreeFormEditButton2=c('emptyFunction');this.$FreeFormEditButton3=c('emptyFunction');var na=new (c('SimpleDrag'))(this.root);na.subscribe('start',function(oa,event){if(event.button!==0)return false;this.$FreeFormEditButton4=true;c('CSS').addClass(this.root,"_2fb8");this.$FreeFormEditButton1(event);}.bind(this));na.subscribe('update',c('throttle')(this.$FreeFormEditButton5,w,this));na.subscribe('end',function(oa,event){this.$FreeFormEditButton4=false;c('CSS').removeClass(this.root,"_2fb8");c('Style').apply(this.root,ca('translate(50%, -50%)'));this.$FreeFormEditButton2(event);}.bind(this));}ea.prototype.$FreeFormEditButton5=function(ma,event){'use strict';if(!this.$FreeFormEditButton4)return;this.$FreeFormEditButton3(event);};ea.prototype.setDragStartHandler=function(ma){'use strict';this.$FreeFormEditButton1=ma;return this;};ea.prototype.setDragMoveHandler=function(ma){'use strict';this.$FreeFormEditButton3=ma;return this;};ea.prototype.setDragEndHandler=function(ma){'use strict';this.$FreeFormEditButton2=ma;return this;};ea.prototype.getElement=function(){'use strict';return this.root;};function fa(){'use strict';this.$DOMDrawer1=new (c('Vector'))();this.$DOMDrawer2=new XMLSerializer();this.$DOMDrawer3=undefined;}fa.prototype.setDimensions=function(ma){'use strict';this.$DOMDrawer1=ma;return this;};fa.prototype.render=function(ma){'use strict';var na='<svg xmlns="http://www.w3.org/2000/svg" '+'width="'+this.$DOMDrawer1.x+'" '+'height="'+this.$DOMDrawer1.y+'">'+'<foreignObject width="100%" height="100%">'+'<div xmlns="http://www.w3.org/1999/xhtml">'+this.$DOMDrawer2.serializeToString(ma)+'</div>'+'</foreignObject>'+'</svg>',oa=new Image();oa.width=this.$DOMDrawer1.x;oa.height=this.$DOMDrawer1.y;oa.src=this.$DOMDrawer4(na);return oa;};fa.prototype.$DOMDrawer4=function(ma){'use strict';return 'data:image/svg+xml;base64,'+b.btoa(ma);};i=babelHelpers.inherits(ga,c('mixin')(c('ArbiterMixin')));j=i&&i.prototype;function ga(ma,na,oa){'use strict';j.constructor.call(this);this.id=s++;this.photoEditor=ma;t.push(this);this.root=c('DOM').create('div');this.maxWidth=na;this.maxHeight=oa;c('CSS').addClass(this.root,"_55gm");var pa=c('DOM').create('div');c('CSS').addClass(pa,"_5g8y");c('CSS').addClass(pa,"_bbn");var qa=c('DOM').create('div');c('CSS').addClass(qa,"_2fb7");c('CSS').addClass(qa,"_bbo");pa.appendChild(qa);this.root.appendChild(pa);this.$Graphic1=c('DOM').create('div');c('CSS').addClass(this.$Graphic1,"_5lzw");this.$Graphic1.appendChild(this.root);this.$Graphic2=new (c('Vector'))(0,0,'document');this.subscriptionsHandler=new (c('SubscriptionsHandler'))();this.subscriptionsHandler.addSubscriptions(c('Event').listen(pa,'click',this.remove.bind(this)),c('Event').listen(pa,'mousedown',function(event){c('CSS').addClass(pa,"_2fb8");event.stopPropagation();}),c('Event').listen(pa,'mouseleave',function(event){c('CSS').removeClass(pa,"_2fb8");}));}ga.prototype.serialize=function(){'use strict';var ma=this.getPos(),na=this.getDimensions(),oa=this.photoEditor.getCanvasDimensions();return {type:this.constructor,left:ma.x/oa.x,top:ma.y/oa.y,width:na.x/oa.x,height:na.y/oa.y,rotation:this.getRotation()};};ga.prototype.initFromSerializedState=function(ma){'use strict';var na=this.photoEditor.getCanvasDimensions();this.setDimensions(new (c('Vector'))(ma.width*na.x,ma.height*na.y));this.setPos(new (c('Vector'))(ma.left*na.x,ma.top*na.y));this.setRotation(ma.rotation);};ga.prototype.onActive=function(){'use strict';this.__draggable=this.__draggable||new (c('Draggable'))(this.$Graphic1).setUseAbsolute(true).setUseScroller(false).addHandle(this.root).setDragHandler(this.onDrag.bind(this)).setDropHandler(this.onDrop.bind(this));c('CSS').addClass(this.root,"_36w9");this.updateDraggableBoundingBox();};ga.prototype.onInactive=function(){'use strict';this.__draggable&&this.__draggable.destroy();this.__draggable=null;c('CSS').removeClass(this.root,"_36w9");};ga.prototype.updateDraggableBoundingBox=function(){'use strict';if(this.__draggable){var ma=this.getDimensions(),na=this.photoEditor.getGraphicsLayer(),oa=c('Vector').getElementPosition(na),pa=c('Vector').getElementDimensions(na),qa=new (c('Rect'))(oa.y-ma.y,oa.x+pa.x+ma.x,oa.y+pa.y+ma.y,oa.x-ma.x);this.__draggable.setBoundingBox(qa);}};ga.prototype.onBeforeSuddenTransformation=function(){'use strict';};ga.prototype.onAfterSuddenTransformation=function(){'use strict';};ga.prototype.getElement=function(){'use strict';return this.$Graphic1;};ga.prototype.getInitialDimensions=function(){'use strict';return new (c('Vector'))(this.maxWidth,this.maxHeight,'document').mul(v);};ga.prototype.getPos=function(){'use strict';return this.$Graphic2;};ga.prototype.getCenterPos=function(){'use strict';return this.getPos().add(this.getDimensions().div(2));};ga.prototype.getCenterCoordinates=function(){'use strict';return c('Vector').getElementPosition(this.$Graphic1).add(this.getDimensions().div(2));};ga.prototype.isRemoved=function(){'use strict';return !this.$Graphic1.parentNode;};ga.prototype.setPos=function(ma){'use strict';this.$Graphic2=ma;c('Style').apply(this.$Graphic1,{left:this.$Graphic2.x+'px',top:this.$Graphic2.y+'px'});};ga.prototype.updatePos=function(){'use strict';this.setPos(this.getNewPos());};ga.prototype.getNewPos=function(){'use strict';return new (c('Vector'))(c('Style').get(this.$Graphic1,'left'),c('Style').get(this.$Graphic1,'top'));};ga.prototype.setDimensions=function(ma){'use strict';c('Style').apply(this.root,{width:ma.x+'px',height:ma.y+'px'});this.updateDraggableBoundingBox();};ga.prototype.remove=function(event){'use strict';this.subscriptionsHandler.release();c('DOM').remove(this.$Graphic1);this.photoEditor.removeGraphic(this);};ga.prototype.getDrawableObj=function(){'use strict';};ga.prototype.getDimensions=function(){'use strict';return c('Vector').getElementDimensions(this.$Graphic1);};ga.prototype.getDimensionsForDrawable=function(){'use strict';return c('Vector').getElementDimensions(this.root);};ga.prototype.getRotation=function(){'use strict';return 0;};ga.prototype.setRotation=function(ma){'use strict';};ga.prototype.onDrag=function(ma){'use strict';};ga.prototype.onDrop=function(ma){'use strict';this.updatePos();};k=babelHelpers.inherits(ha,ga);l=k&&k.prototype;function ha(ma,na,oa,pa,qa){'use strict';l.constructor.call(this,ma,oa,pa);this.$ImageGraphic1=c('DOM').create('div');c('CSS').addClass(this.$ImageGraphic1,"_36wa");this.root.appendChild(this.$ImageGraphic1);this.$ImageGraphic2=oa/pa;this.$ImageGraphic3=0;this.$ImageGraphic4=0;this.$ImageGraphic5=true;this.$ImageGraphic6=true;this.$ImageGraphic7=Math.sqrt(2);this.$ImageGraphic8=false;this.$ImageGraphic9=new Image();this.$ImageGraphic9.crossOrigin='anonymous';c('Style').apply(this.$ImageGraphic9,{maxWidth:oa+'px',maxHeight:pa+'px'});c('CSS').addClass(this.root,"_55jn");c('CSS').addClass(this.root,'loading');this.$ImageGraphic10=c('DOM').create('div');c('CSS').addClass(this.$ImageGraphic10,"_5a2y");if(!qa)this.$ImageGraphic11();this.subscriptionsHandler.addSubscriptions(c('Event').listen(this.$ImageGraphic9,'load',this.$ImageGraphic12.bind(this)),c('Event').listen(this.root,'dragenter',c('Event').prevent),c('Event').listen(this.root,'dragover',c('Event').prevent),c('Event').listen(this.$ImageGraphic1,'mousedown',this.$ImageGraphic13.bind(this)));this.$ImageGraphic9.src=na;this.imageURL=na;this.setDimensions(this.getInitialDimensions());}ha.prototype.serialize=function(){'use strict';return babelHelpers['extends']({},l.serialize.call(this),{imageURL:this.imageURL});};ha.prototype.getDrawableObj=function(){'use strict';return this.$ImageGraphic9;};ha.prototype.onDragStart=function(ma){'use strict';l.onDragStart.call(this,ma);ma.dataTransfer.setData('text/plain',this.$ImageGraphic9.src);};ha.prototype.$ImageGraphic11=function(){'use strict';var ma=new ea();this.$ImageGraphic10.appendChild(ma.getElement());this.root.appendChild(this.$ImageGraphic10);this.subscriptionsHandler.addSubscriptions(c('Event').listen(ma.getElement(),'mousedown',function(event){event.stopPropagation();}));ma.setDragStartHandler(function(){this.$ImageGraphic14=this.getCenterCoordinates();this.$ImageGraphic15();}.bind(this)).setDragMoveHandler(this.$ImageGraphic16.bind(this)).setDragEndHandler(function(){this.$ImageGraphic3=this.$ImageGraphic4;this.$ImageGraphic17();this.$ImageGraphic18();}.bind(this));this.$ImageGraphic19=ma;};ha.prototype.$ImageGraphic16=function(event){'use strict';var ma=c('Vector').getEventPosition(event),na=this.getDimensions(),oa=na.magnitude(),pa=na.div(oa),qa=this.$ImageGraphic14,ra=qa.distanceTo(ma),sa=c('clamp')(ra*2,x,Math.max(this.maxWidth,this.maxHeight))*this.$ImageGraphic7,ta=pa.mul(sa);ta.x=ta.y*this.$ImageGraphic20;var ua=ta.sub(na);if(ua.magnitude()>y){var va=this.getPos().sub(ua.div(2));this.setDimensions(ta);this.setPos(va);}if(this.$ImageGraphic5===true){var wa=ma.sub(qa),xa=pa.mul(1,-1),ya=da(xa,wa);this.$ImageGraphic21(ya);}this.updatePos();if(this.$ImageGraphic22)this.$ImageGraphic22();};ha.prototype.setPostFreeformEditDragHandler=function(ma){'use strict';this.$ImageGraphic22=ma;};ha.prototype.$ImageGraphic21=function(ma){'use strict';this.$ImageGraphic4=this.$ImageGraphic3+ma;c('Style').apply(this.$ImageGraphic1,ca('rotate('+this.$ImageGraphic4+'deg)'));this.$ImageGraphic23(this.$ImageGraphic24+ma);c('Style').apply(this.$ImageGraphic19.getElement(),ca('translate(50%, -50%) rotate('+ma+'deg)'));};ha.prototype.$ImageGraphic18=function(){'use strict';this.$ImageGraphic23(this.$ImageGraphic24);};ha.prototype.$ImageGraphic17=function(){'use strict';c('Style').set(this.$ImageGraphic10,'transition','transform 0.3s cubic-bezier(.08,.98,.15,1.09)');};ha.prototype.$ImageGraphic15=function(){'use strict';c('Style').set(this.$ImageGraphic10,'transition','');};ha.prototype.$ImageGraphic23=function(ma){'use strict';c('Style').apply(this.$ImageGraphic10,ca('rotate('+ma+'deg) '+'translateX('+this.getDimensions().magnitude()/(2*this.$ImageGraphic7)+'px) '+'rotate('+ -1*ma+'deg)'));};ha.prototype.$ImageGraphic13=function(event){'use strict';this.photoEditor.setActiveGraphic(this);};ha.prototype.$ImageGraphic12=function(){'use strict';c('CSS').removeClass(this.root,'loading');c('CSS').addClass(this.root,'loaded');this.$ImageGraphic2=this.$ImageGraphic9.width/this.$ImageGraphic9.height;var ma=new (c('PhotoEditorCanvas'))();ma.setImageContent(this.$ImageGraphic9);c('Style').set(this.$ImageGraphic1,'backgroundImage','url('+ma.toDataURL()+')');this.setDimensions(this.getDimensions());this.updatePos();this.inform('loaded');};ha.prototype.setPos=function(ma){'use strict';l.setPos.call(this,ma);var na=this.$ImageGraphic25();c('Style').apply(this.$ImageGraphic1,{left:na.x+'px',top:na.y+'px'});};ha.prototype.setDimensions=function(ma){'use strict';this.$ImageGraphic20=this.$ImageGraphic6?1:ma.x/ma.y;c('Style').apply(this.root,{height:(this.$ImageGraphic6?ma.x:ma.y)+'px',width:ma.x+'px'});this.$ImageGraphic24=-Math.atan2(ma.y,ma.x)*180/Math.PI;var na=this.getImageScale(),oa=new (c('Vector'))(ma.x,this.$ImageGraphic6?ma.x:ma.y).mul(na.x,na.y);c('Style').apply(this.$ImageGraphic1,{height:Math.round(oa.y)+'px',width:Math.round(oa.x)+'px'});this.$ImageGraphic18();this.updateDraggableBoundingBox();};ha.prototype.getImageScale=function(){'use strict';var ma=this.$ImageGraphic2>1?new (c('Vector'))(1,1/this.$ImageGraphic2):new (c('Vector'))(this.$ImageGraphic2,1);return ma.mul(u);};ha.prototype.$ImageGraphic25=function(){'use strict';var ma=this.getDimensions(),na=this.getDimensionsForDrawable();return ma.sub(na).div(2);};ha.prototype.getInitialDimensions=function(){'use strict';var ma=Math.min(this.maxWidth,this.maxHeight);return new (c('Vector'))(ma,ma,'document').mul(v);};ha.prototype.getDimensionsForDrawable=function(){'use strict';return c('Vector').getElementDimensions(this.$ImageGraphic1);};ha.prototype.getRotation=function(){'use strict';return this.$ImageGraphic4;};ha.prototype.setRotation=function(ma){'use strict';this.$ImageGraphic3=this.$ImageGraphic4=ma;c('Style').apply(this.$ImageGraphic1,ca('rotate('+this.$ImageGraphic3+'deg)'));};ha.prototype.setAllowRotation=function(ma){'use strict';this.$ImageGraphic5=ma;return this;};ha.prototype.setCircleBoundingBox=function(ma){'use strict';this.$ImageGraphic6=ma;this.$ImageGraphic7=ma?Math.sqrt(2):1;return this;};ha.prototype.onBeforeSuddenTransformation=function(){'use strict';this.$ImageGraphic15();};ha.prototype.onAfterSuddenTransformation=function(){'use strict';this.$ImageGraphic17();};m=babelHelpers.inherits(ia,ha);n=m&&m.prototype;function ia(ma,na,oa,pa,qa,ra){'use strict';n.constructor.call(this,ma,oa,pa,qa,ra);this.$StickerGraphic1=na;}ia.prototype.serialize=function(){'use strict';return babelHelpers['extends']({},n.serialize.call(this),{sticker_id:this.$StickerGraphic1});};o=babelHelpers.inherits(ja,ga);p=o&&o.prototype;function ja(ma,na,oa,pa,qa,ra,sa,ta,ua,va){'use strict';p.constructor.call(this,ma,ta,ua);this.$TextGraphic1=new Image();this.$TextGraphic2=pa;this.$TextGraphic3=new (c('PhotoEditorFont'))(oa);this.$TextGraphic4=null;this.$TextGraphic5=0;this.$TextGraphic6=1;this.$TextGraphic7=0;this.$TextGraphic8=new fa().setDimensions(ja.ImageSettings.DIMENSIONS);this.$TextGraphic9=ra;this.$TextGraphic10=c('DOM').create('textarea');c('Style').apply(this.$TextGraphic10,{position:'absolute',width:ja.ImageSettings.WIDTH+'px',padding:'0px',margin:'0px',border:'none',overflow:'hidden',resize:'none',background:'transparent'});var wa=c('DOM').create('div',{className:"_3bul"});c('Style').set(wa,'width',ja.ImageSettings.WIDTH+'px');wa.appendChild(this.$TextGraphic10);this.root.appendChild(wa);this.$TextGraphic11=qa||new (c('Vector'))(0,0,'document');this.focusInput=c('DOM').create('textarea',{className:"_5g78"});this.$TextGraphic12=c('DOM').create('div',{className:"_5l-2"});this.root.appendChild(this.focusInput);this.root.appendChild(this.$TextGraphic12);c('CSS').addClass(this.root,'loaded');c('CSS').addClass(this.root,"_5g79");this.subscriptionsHandler.addSubscriptions(c('Event').listen(this.$TextGraphic12,'click',function(){this.focusInput.focus();}.bind(this)),c('Event').listen(this.focusInput,'blur',function(){c('CSS').removeClass(this.root,"_5g7a");}.bind(this)),c('Event').listen(this.focusInput,'focus',function(){ma.setActiveGraphic(this);c('CSS').addClass(this.root,"_5g7a");this.adjustFontSizeFit();}.bind(this)),c('Event').listen(this.focusInput,'keyup',c('throttle')(this.$TextGraphic13,50,this)));if(!va)this.$TextGraphic14();var xa=Math.min(ta,ua)*z,ya=xa/ja.ImageSettings.WIDTH;this.$TextGraphic6=ya;this.$TextGraphic15=new (c('Vector'))(xa,ya*ja.ImageSettings.HEIGHT,'document');this.$TextGraphic15.setElementDimensions(this.root);this.updateText(na);}ja.prototype.getInitialDimensions=function(){'use strict';return this.$TextGraphic15;};ja.prototype.$TextGraphic16=function(event){'use strict';if(this.$TextGraphic17!==true){var ma=c('Vector').getEventPosition(event),na=this.getDimensions(),oa=na.magnitude(),pa=na.div(oa),qa=this.$TextGraphic18,ra=qa.distanceTo(ma),sa=this.photoEditor.getCanvasDimensions(),ta=Math.max(sa.x,sa.y),ua=c('clamp')(ra*2,x,ta),va=pa.mul(ua),wa=va.sub(na);if(wa.magnitude()>y){var xa=this.getPos().sub(wa.div(2));this.setDimensions(va);this.setPos(xa);}var ya=qa.sub(ma),za=da(na.mul(-1,1),ya);za=(za+360)%360;if(za%90<ba||za%90>90-ba)za=Math.round(za/90)*90;this.setRotation(za);this.updateDraggableBoundingBox();this.updatePos();}else{na=this.getDimensions();ma=c('Vector').getEventPosition(event);qa=this.$TextGraphic18;ra=qa.sub(ma);va=ra.mul(-2,2);wa=va.sub(na);if(wa.magnitude()>y){xa=this.getPos().sub(wa.div(2));this.setDimensions(va);this.setPos(xa);}}if(this.$TextGraphic19)this.$TextGraphic19();};ja.prototype.setPostFreeformEditDragHandler=function(ma){'use strict';this.$TextGraphic19=ma;};ja.prototype.$TextGraphic14=function(){'use strict';var ma=new ea();this.root.appendChild(ma.getElement());this.subscriptionsHandler.addSubscriptions(c('Event').listen(ma.getElement(),'mousedown',function(event){event.stopPropagation();}));ma.setDragStartHandler(function(){this.$TextGraphic18=this.getCenterCoordinates();}.bind(this)).setDragMoveHandler(this.$TextGraphic16.bind(this));};ja.prototype.setAllowChangeAspectRatio=function(ma){'use strict';this.$TextGraphic17=ma;};ja.prototype.$TextGraphic13=function(){'use strict';var ma=this.focusInput.value;if(ma.length>aa)this.focusInput.value=ma.substr(0,aa);this.updateText(this.focusInput.value);};ja.prototype.onActive=function(){'use strict';p.onActive.call(this);this.focusInput.focus();this.inform('focus');};ja.prototype.onInactive=function(){'use strict';p.onInactive.call(this);this.focusInput.blur();c('CSS').removeClass(this.root,"_5g7a");this.inform('blur');var ma=this.$TextGraphic4.replace(/^\s*/,'').replace(/\s*$/,'');if(!ma.length)this.remove();};ja.prototype.getRotation=function(){'use strict';return this.$TextGraphic5;};ja.prototype.setRotation=function(ma){'use strict';this.$TextGraphic5=ma;c('Style').apply(this.root,ca('rotate('+this.$TextGraphic5+'deg)'));};ja.prototype.setDimensions=function(ma){'use strict';this.$TextGraphic6=ma.x/ja.ImageSettings.WIDTH;c('Style').apply(this.root,{width:ma.x+'px',height:this.$TextGraphic6*ja.ImageSettings.HEIGHT+'px'});this.$TextGraphic20();};ja.prototype.getDrawableObj=function(){'use strict';return this.$TextGraphic1;};ja.prototype.getTextAlign=function(){'use strict';return this.$TextGraphic9;};ja.prototype.getText=function(){'use strict';return this.$TextGraphic4;};ja.prototype.getFillStyle=function(){'use strict';return this.$TextGraphic2;};ja.prototype.getFontFamily=function(){'use strict';return this.$TextGraphic3.getFamily();};ja.prototype.updateText=function(ma,na,oa){'use strict';if(oa)this.$TextGraphic2=oa;if(na)this.$TextGraphic3.setFamily(na);if(typeof ma==='string'){ma=ma.substr(0,aa);if(this.$TextGraphic4!=ma){this.focusInput.value=this.$TextGraphic4=ma;this.$TextGraphic10.innerText=this.$TextGraphic10.textContent=ma;}}c('Style').apply(this.focusInput,{textAlign:this.$TextGraphic9,color:this.$TextGraphic2,fontFamily:this.$TextGraphic3.getFamily()});c('Style').apply(this.$TextGraphic10,{textAlign:this.$TextGraphic9,font:this.$TextGraphic3.toString(),color:this.$TextGraphic2});this.adjustFontSizeFit();this.$TextGraphic1=this.$TextGraphic8.render(this.$TextGraphic10);};ja.prototype.adjustFontSizeFit=function(){'use strict';var ma=ja.ImageSettings.MAX_FONT;this.$TextGraphic3.setSize(ma);c('Style').apply(this.$TextGraphic10,{font:this.$TextGraphic3.toString(),height:'0px'});while(this.$TextGraphic10.scrollHeight>ja.ImageSettings.HEIGHT){this.$TextGraphic3.setSize(--ma);c('Style').set(this.$TextGraphic10,'font',this.$TextGraphic3.toString());}this.$TextGraphic7=(ja.ImageSettings.HEIGHT-this.$TextGraphic10.scrollHeight)/2;c('Style').apply(this.$TextGraphic10,{marginTop:this.$TextGraphic7+'px',marginBottom:this.$TextGraphic7+'px',height:this.$TextGraphic10.scrollHeight+'px'});this.$TextGraphic20();};ja.prototype.setFontSize=function(ma){'use strict';this.$TextGraphic3.setSize(ma);};ja.prototype.$TextGraphic20=function(){'use strict';var ma=this.$TextGraphic6,na=this.$TextGraphic10.clientHeight;setTimeout(function(){c('Style').apply(this.focusInput,{width:ja.ImageSettings.WIDTH*ma+'px',height:na*ma+'px',marginTop:this.$TextGraphic7*ma+'px',marginBottom:this.$TextGraphic7*ma+'px',fontSize:this.$TextGraphic3.getSize()*ma+'px'});}.bind(this),0);};ja.prototype.setTextAlign=function(ma){'use strict';this.$TextGraphic9=ma;this.updateText();return this;};ja.prototype.setText=function(ma){'use strict';this.updateText(ma);};ja.prototype.setFontFamily=function(ma){'use strict';this.$TextGraphic3.setFamily(ma);this.updateText();};ja.prototype.setFillStyle=function(ma){'use strict';this.$TextGraphic2=ma;this.updateText();};ja.prototype.getColorCoordinates=function(){'use strict';return new (c('Vector'))(this.$TextGraphic11.x,this.$TextGraphic11.y,'document');};ja.prototype.setColorCoordinates=function(ma){'use strict';this.$TextGraphic11=ma;};ja.prototype.serialize=function(){'use strict';return babelHelpers['extends']({},p.serialize.call(this),{text:this.$TextGraphic4,fontFamily:this.$TextGraphic3.getFamily(),fill:this.$TextGraphic2,textAlign:this.$TextGraphic9,colorCoordinates:{x:this.$TextGraphic11.x,y:this.$TextGraphic11.y}});};ja.prototype.initFromSerializedState=function(ma){'use strict';this.$TextGraphic9=ma.textAlign;this.$TextGraphic11=ma.colorCoordinates;this.updateText(ma.text,ma.fontFamily,ma.fill);p.initFromSerializedState.call(this,ma);};ja.ImageSettings={WIDTH:200,HEIGHT:120,MAX_FONT:30,DIMENSIONS:new (c('Vector'))(200,120)};q=babelHelpers.inherits(ka,ha);r=q&&q.prototype;ka.prototype.remove=function(){'use strict';r.remove.call(this);b.URL.revokeObjectURL(this.imageURL);};function ka(){'use strict';q.apply(this,arguments);}function la(ma,na){if(t[ma])t[ma].onDrop(na);}f.exports={Blob:ka,FreeFormEditButton:ea,Graphic:ga,Image:ha,onDrop:la,Sticker:ia,Text:ja};}),null);
__d('ProfilePicCanvas',['PhotoEditorCanvas'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$ProfilePicCanvas1=new (c('PhotoEditorCanvas'))();this.$ProfilePicCanvas1.setImageContent(i);this.$ProfilePicCanvas2=[];this.$ProfilePicCanvas3=1;}h.prototype.toBlob=function(i){'use strict';this.$ProfilePicCanvas4().toBlob(i);};h.prototype.addGraphic=function(i,j){'use strict';i.setPos(j);this.$ProfilePicCanvas2.push(i);};h.prototype.setResizeFactor=function(i){'use strict';this.$ProfilePicCanvas3=i;return this;};h.prototype.$ProfilePicCanvas5=function(){'use strict';return window.devicePixelRatio||1;};h.prototype.$ProfilePicCanvas6=function(i){'use strict';return i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1;};h.prototype.$ProfilePicCanvas4=function(){'use strict';var i=this.$ProfilePicCanvas1.getWidth(),j=new (c('PhotoEditorCanvas'))(),k=j.getContext();j.setImageContent(this.$ProfilePicCanvas1.getElement());var l=this.$ProfilePicCanvas5(),m=this.$ProfilePicCanvas6(k),n=l/m;if(n!==1){j=j.scaledCopy(n);k=j.getContext();k.scale(n,n);k.save();}var o,p;for(var q=0;q<this.$ProfilePicCanvas2.length;q++){o=this.$ProfilePicCanvas2[q];p=o.getPos();k.save();k.translate(p.x,p.y);j.drawGraphic(o.getDrawableObj(),0,0,i*this.$ProfilePicCanvas3,i*this.$ProfilePicCanvas3);k.restore();}return j;};f.exports=h;}),null);
__d('ProfilePictureOverlay',['invariant','immutable'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('immutable').Map,l=c('immutable').Record,m=l({id:'',name:'',src:new k()});i=babelHelpers.inherits(n,m);j=i&&i.prototype;n.fromObject=function(o){return new n(babelHelpers['extends']({},o,{src:new k(o.src)}));};n.prototype.getSrc=function(o){var p=this.src.get(o.toString());!p?h(0):void 0;return p;};function n(){i.apply(this,arguments);}f.exports=n;}),null);
__d('ReactComposerProfilePictureFrameActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({CROP_IMAGE:null,POST_START:null,POST_SUCCESS:null,SET_OVERLAYS:null,SET_PHOTO_DATA:null,SET_SCHEDULE_DATE:null,SET_SELECTED_ID:null},'ReactComposerProfilePictureFrameActionTypes');}),null);
__d("XPagesComposerPublishFrameCropController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/composer\/publish_frame\/crop\/",{height:{type:"Float"},overlay_id:{type:"Int"},width:{type:"Float"},x:{type:"Float"},y:{type:"Float"}});}),null);
__d('ReactComposerProfilePictureFrameStore',['fbt','invariant','ActorURI','AsyncUploadRequest','ReactComposerPhotoUpload','Event','ProfilePicCanvas','ProfilePictureOverlay','ReactComposerProfilePictureFrameActionTypes','ReactComposerStoreBase','Vector','XPagesComposerPublishFrameCropController','immutable','PhotoEditorGraphic','tidyEvent'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('immutable').List,m=c('PhotoEditorGraphic').Sticker;function n(p,q){var r=new Image();r.crossOrigin='anonymous';r.src=p;c('tidyEvent')([c('Event').listen(r,'load',function(){return q(r);})]);}j=babelHelpers.inherits(o,c('ReactComposerStoreBase'));k=j&&j.prototype;function o(){'use strict';var p=void 0;k.constructor.call(this,function(){return {croppedPhotoID:null,overlays:{},photoData:null,savingMessage:null,scheduledPostDate:null,selectedOverlayID:null};},function(q){if(p)p.$ReactComposerProfilePictureFrameStore1(q);});p=this;}o.prototype.getSavingMessage=function(p){'use strict';return this.getComposerData(p).savingMessage;};o.prototype.getCroppedPhotoID=function(p){'use strict';return this.getComposerData(p).croppedPhotoID;};o.prototype.getOverlays=function(p){'use strict';return this.getComposerData(p).overlays;};o.prototype.getPhotoData=function(p){'use strict';return this.getComposerData(p).photoData;};o.prototype.getSelectedOverlayID=function(p){'use strict';return this.getComposerData(p).selectedOverlayID;};o.prototype.getScheduledPostDate=function(p){'use strict';return this.getComposerData(p).scheduledPostDate;};o.prototype.getCroppedPhotoForUpload=function(p){'use strict';var q=this.getCroppedPhotoID(p);!q?i(0):void 0;return l([new (c('ReactComposerPhotoUpload'))({photoID:q,originalPhotoID:q})]);};o.prototype.$ReactComposerProfilePictureFrameStore1=function(p){'use strict';switch(p.type){case c('ReactComposerProfilePictureFrameActionTypes').SET_OVERLAYS:this.$ReactComposerProfilePictureFrameStore2(p);break;case c('ReactComposerProfilePictureFrameActionTypes').SET_PHOTO_DATA:this.$ReactComposerProfilePictureFrameStore3(p);break;case c('ReactComposerProfilePictureFrameActionTypes').SET_SELECTED_ID:this.$ReactComposerProfilePictureFrameStore4(p);break;case c('ReactComposerProfilePictureFrameActionTypes').CROP_IMAGE:this.$ReactComposerProfilePictureFrameStore5(p);break;case c('ReactComposerProfilePictureFrameActionTypes').POST_START:this.$ReactComposerProfilePictureFrameStore6(p);break;case c('ReactComposerProfilePictureFrameActionTypes').POST_SUCCESS:this.$ReactComposerProfilePictureFrameStore7(p);break;case c('ReactComposerProfilePictureFrameActionTypes').SET_SCHEDULE_DATE:this.$ReactComposerProfilePictureFrameStore8(p);break;}};o.prototype.$ReactComposerProfilePictureFrameStore8=function(p){'use strict';var q=this.getComposerData(p.composerID);q.scheduledPostDate=p.scheduledPostDate;this.emitChange(p.composerID);};o.prototype.$ReactComposerProfilePictureFrameStore6=function(p){'use strict';var q=this.getComposerData(p.composerID);q.savingMessage=h._("Posting frame");this.emitChange(p.composerID);};o.prototype.$ReactComposerProfilePictureFrameStore7=function(p){'use strict';var q=this.getComposerData(p.composerID);q.savingMessage=null;this.emitChange(p.composerID);};o.prototype.$ReactComposerProfilePictureFrameStore4=function(p){'use strict';var q=this.getComposerData(p.composerID);if(q.selectedOverlayID!==p.selectedOverlayID){q.selectedOverlayID=p.selectedOverlayID;this.emitChange(p.composerID);}};o.prototype.$ReactComposerProfilePictureFrameStore2=function(p){'use strict';var q={};p.overlays.map(function(s){q[s.id]=c('ProfilePictureOverlay').fromObject(s);});var r=this.getComposerData(p.composerID);r.overlays=q;r.selectedOverlayID=p.selectedOverlayID;this.emitChange(p.composerID);};o.prototype.$ReactComposerProfilePictureFrameStore3=function(p){'use strict';var q=this.getComposerData(p.composerID);if(!q.photoData||q.photoData.original.uri!==p.photoData.original.uri){q.photoData=p.photoData;this.emitChange(p.composerID);}};o.prototype.$ReactComposerProfilePictureFrameStore5=function(p){'use strict';var q=p.composerID,r=this.getComposerData(q),s=r.savingMessage,t=r.overlays,u=r.photoData,v=r.selectedOverlayID;if(!u||!v||s)return;r.savingMessage=h._("Processing image");this.emitChange(q);n(u.original.uri,function(w){var x=t[v],y=u.original,z=new m(null,x.id,x.getSrc(p.overlaySize),y.width,y.height);z.subscribe('loaded',function(){this.$ReactComposerProfilePictureFrameStore9(p,w,z);}.bind(this));}.bind(this));};o.prototype.$ReactComposerProfilePictureFrameStore9=function(p,q,r){'use strict';var s=p.composerID,t=p.dimensions,u=this.$ReactComposerProfilePictureFrameStore10(s).original,v=new (c('ProfilePicCanvas'))(q),w=t.getArea();v.addGraphic(r,new (c('Vector'))(w.x,w.y));v.setResizeFactor(w.width/u.width);v.toBlob(function(x){return this.$ReactComposerProfilePictureFrameStore11(p,x);}.bind(this));};o.prototype.$ReactComposerProfilePictureFrameStore11=function(p,q){'use strict';var r=p.composerID,s=this.$ReactComposerProfilePictureFrameStore10(r),t=s.original,u=p.dimensions.getArea(),v={x:u.x/t.width,y:u.y/t.height,width:u.width/t.width,height:u.height/t.height},w=c('XPagesComposerPublishFrameCropController').getURIBuilder().setFloat('height',Math.min(v.height,1)).setFloat('width',Math.min(v.width,1)).setFloat('x',v.x).setFloat('y',v.y).setInt('overlay_id',this.getSelectedOverlayID(r)).getURI(),x=new (c('AsyncUploadRequest'))().setFiles({image:q}).setAllowCrossOrigin(true).setURI(c('ActorURI').create(w,p.targetID));c('tidyEvent')([x.subscribe('success',function(y,z){var aa=z.getResponse(),ba=aa.payload,ca=this.getComposerData(r);ca.croppedPhotoID=ba.cropped_fbid;ca.savingMessage=null;p.onCropSuccess();this.emitChange(r);}.bind(this))]);x.send();};o.prototype.$ReactComposerProfilePictureFrameStore10=function(p){'use strict';var q=this.getPhotoData(p);!q?i(0):void 0;return q;};f.exports=new o();}),null);
__d('ReactComposerQuestionActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({ADD_OPTION:null,ANYONE_ADD_OPTIONS:null,CHOOSE_MULTIPLE_OPTIONS:null,RANK_OPTIONS:null,ENTER_POLL_OPTIONS_MODE:null,SHOW_QUESTION_CONFIG:null,SAVE_OPTION_DATA:null,SET_QUESTION_CONFIG:null},'ReactComposerQuestionActionType');}),null);
__d('ReactComposerQuestionStore',['ReactComposerQuestionActionType','ReactComposerStoreBase','Map'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=3;h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return {anyoneAddPollOptions:true,chooseMultiplePollOptions:true,dataSource:null,maxOptionsShown:null,optionIDs:new (c('Map'))(),optionStrings:new (c('Map'))(),pollLinkEnabled:true,rankPollOptions:false};},function(m){switch(m.type){case c('ReactComposerQuestionActionType').ADD_OPTION:l&&l.$ReactComposerQuestionStore1(m);break;case c('ReactComposerQuestionActionType').ANYONE_ADD_OPTIONS:l&&l.$ReactComposerQuestionStore2(m);break;case c('ReactComposerQuestionActionType').CHOOSE_MULTIPLE_OPTIONS:l&&l.$ReactComposerQuestionStore3(m);break;case c('ReactComposerQuestionActionType').ENTER_POLL_OPTIONS_MODE:l&&l.$ReactComposerQuestionStore4(m);break;case c('ReactComposerQuestionActionType').RANK_OPTIONS:l&&l.$ReactComposerQuestionStore5(m);break;case c('ReactComposerQuestionActionType').SAVE_OPTION_DATA:l&&l.$ReactComposerQuestionStore6(m);break;case c('ReactComposerQuestionActionType').SET_QUESTION_CONFIG:l&&l.$ReactComposerQuestionStore7(m);break;}});l=this;}k.prototype.canAnyoneAddPollOptions=function(l){'use strict';return this.getComposerData(l).anyoneAddPollOptions;};k.prototype.canChooseMultiplePollOptions=function(l){'use strict';return this.getComposerData(l).chooseMultiplePollOptions;};k.prototype.canRankPollOptions=function(l){'use strict';return this.getComposerData(l).rankPollOptions;};k.prototype.getDataSource=function(l){'use strict';return this.getComposerData(l).dataSource;};k.prototype.getMaxOptionsShown=function(l){'use strict';return this.getComposerData(l).maxOptionsShown;};k.prototype.getNumberOptionsShown=function(l){'use strict';return j;};k.prototype.getOptionIDs=function(l){'use strict';var m=[],n=this.getComposerData(l).optionIDs;n.forEach(function(o,p){return m.push(o);});return m;};k.prototype.getOptionStrings=function(l){'use strict';var m=[],n=this.getComposerData(l).optionStrings;n.forEach(function(o,p){return m.push(o);});return m;};k.prototype.getSearchSource=function(l){'use strict';return this.getComposerData(l).dataSource;};k.prototype.isPollLinkEnabled=function(l){'use strict';return this.getComposerData(l).pollLinkEnabled;};k.prototype.$ReactComposerQuestionStore1=function(l){'use strict';var m=this.validateAction(l,'composerID');j++;this.emitChange(m);};k.prototype.$ReactComposerQuestionStore2=function(l){'use strict';var m=this.validateAction(l,['composerID','value']),n=m[0],o=m[1],p=this.getComposerData(n);p.anyoneAddPollOptions=o;this.emitChange(n);};k.prototype.$ReactComposerQuestionStore3=function(l){'use strict';var m=this.validateAction(l,['composerID','value']),n=m[0],o=m[1],p=this.getComposerData(n);p.chooseMultiplePollOptions=o;this.emitChange(n);};k.prototype.$ReactComposerQuestionStore4=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.pollLinkEnabled=false;this.emitChange(m);};k.prototype.$ReactComposerQuestionStore5=function(l){'use strict';var m=this.validateAction(l,['composerID','value']),n=m[0],o=m[1],p=this.getComposerData(n);p.rankPollOptions=o;this.emitChange(n);};k.prototype.$ReactComposerQuestionStore6=function(l){'use strict';var m=this.validateAction(l,['composerID','optionData']),n=m[0],o=m[1],p=this.getComposerData(n);p.optionIDs.set(o.keyID,o.ID);p.optionStrings.set(o.keyID,o.content);this.emitChange(n);};k.prototype.$ReactComposerQuestionStore7=function(l){'use strict';var m=this.validateAction(l,['composerID','config']),n=m[0],o=m[1],p=this.getComposerData(n);p.dataSource=o.dataSource;p.maxOptionsShown=o.maxOptionsShown;this.emitChange(n);};f.exports=new k();}),null);
__d('ReactComposerRedEnvelopeActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_RED_ENVELOPE_CONFIG:null,SET_AVAILABLE_AMOUNT:null,SET_TOTAL_AMOUNT:null,SET_DISTIBUTION:null,SET_NUMBER_OF_ENVELOPES:null},'ReactComposerRedEnvelopeActionType');}),null);
__d('ReactComposerRedEnvelopeStore',['ReactComposerRedEnvelopeActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {availableAmount:0,totalAmount:1000,distribution:'RND',numberOfEnvelopes:5,contextInfo:null};},function(l){switch(l.type){case c('ReactComposerRedEnvelopeActionType').SET_AVAILABLE_AMOUNT:k&&k.$ReactComposerRedEnvelopeStore1(l);break;case c('ReactComposerRedEnvelopeActionType').SET_TOTAL_AMOUNT:k&&k.$ReactComposerRedEnvelopeStore2(l);break;case c('ReactComposerRedEnvelopeActionType').SET_DISTIBUTION:k&&k.$ReactComposerRedEnvelopeStore3(l);break;case c('ReactComposerRedEnvelopeActionType').SET_NUMBER_OF_ENVELOPES:k&&k.$ReactComposerRedEnvelopeStore4(l);break;case c('ReactComposerRedEnvelopeActionType').SET_RED_ENVELOPE_CONFIG:k&&k.$ReactComposerRedEnvelopeStore5(l);break;}});k=this;}j.prototype.getAvailableAmount=function(k){'use strict';return this.getComposerData(k).availableAmount;};j.prototype.getTotalAmount=function(k){'use strict';return this.getComposerData(k).totalAmount;};j.prototype.getDistribution=function(k){'use strict';return this.getComposerData(k).distribution;};j.prototype.getNumberOfEnvelopes=function(k){'use strict';return this.getComposerData(k).numberOfEnvelopes;};j.prototype.getContextInfo=function(k){'use strict';return this.getComposerData(k).contextInfo;};j.prototype.$ReactComposerRedEnvelopeStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','availableAmount']),m=l[0],n=l[1],o=this.getComposerData(m);o.availableAmount=n;this.emitChange(m);};j.prototype.$ReactComposerRedEnvelopeStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','totalAmount']),m=l[0],n=l[1],o=this.getComposerData(m);o.totalAmount=n;this.emitChange(m);};j.prototype.$ReactComposerRedEnvelopeStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','numberOfEnvelopes']),m=l[0],n=l[1],o=this.getComposerData(m);o.numberOfEnvelopes=n;this.emitChange(m);};j.prototype.$ReactComposerRedEnvelopeStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','distribution']),m=l[0],n=l[1],o=this.getComposerData(m);o.distribution=n;this.emitChange(m);};j.prototype.$ReactComposerRedEnvelopeStore5=function(k){'use strict';var l=this.validateAction(k,['composerID','config']),m=l[0],n=l[1],o=this.getComposerData(m);o.availableAmount=n.availableAmount;o.contextInfo=n.contextInfo;this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerStatusDonateButtonActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_DONATE_CONFIG:null,UPDATE_DESCRIPTION:null,UPDATE_TITLE:null,SET_DATA:null,SET_ENABLED:null,SET_ERRORS:null,SET_TEXT_DISABLED:null},'ReactComposerStatusDonateButtonActionType');}),null);
__d('ReactComposerStatusDonateButtonStore',['ReactComposerStatusDonateButtonActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {charityName:'',fundraiserCampaignId:1,enabled:false,textDisabled:false,errors:false};},function(l){switch(l.type){case c('ReactComposerStatusDonateButtonActionType').SET_DONATE_CONFIG:k&&k.$ReactComposerStatusDonateButtonStore1(l);break;case c('ReactComposerStatusDonateButtonActionType').UPDATE_TITLE:k&&k.$ReactComposerStatusDonateButtonStore2(l);break;case c('ReactComposerStatusDonateButtonActionType').UPDATE_DESCRIPTION:k&&k.$ReactComposerStatusDonateButtonStore3(l);break;case c('ReactComposerStatusDonateButtonActionType').SET_DATA:k&&k.$ReactComposerStatusDonateButtonStore4(l);break;case c('ReactComposerStatusDonateButtonActionType').SET_ENABLED:k&&k.$ReactComposerStatusDonateButtonStore5(l);break;case c('ReactComposerStatusDonateButtonActionType').SET_ERRORS:k&&k.$ReactComposerStatusDonateButtonStore6(l);break;case c('ReactComposerStatusDonateButtonActionType').SET_TEXT_DISABLED:k&&k.$ReactComposerStatusDonateButtonStore7(l);break;}});k=this;}j.prototype.getFundraiserCampaignID=function(k){'use strict';return this.getComposerData(k).fundraiserCampaignId;};j.prototype.getCharityName=function(k){'use strict';return this.getComposerData(k).charityName;};j.prototype.getTitle=function(k){'use strict';return this.getComposerData(k).title;};j.prototype.getDescription=function(k){'use strict';return this.getComposerData(k).description;};j.prototype.getEnabled=function(k){'use strict';return this.getComposerData(k).enabled;};j.prototype.getErrors=function(k){'use strict';return this.getComposerData(k).errors;};j.prototype.getTextDisabled=function(k){'use strict';return this.getComposerData(k).textDisabled;};j.prototype.$ReactComposerStatusDonateButtonStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','config']),m=l[0],n=l[1],o=this.getComposerData(m);o.fundraiserCampaignId=n.fundraiserCampaignId;o.charityName=n.charityName;this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','title']),m=l[0],n=l[1],o=this.getComposerData(m);o.title=n.substring(0,60);this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','description']),m=l[0],n=l[1],o=this.getComposerData(m);o.description=n;this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','title','description']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.title=n;p.description=o;this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore5=function(k){'use strict';var l=this.validateAction(k,['composerID','enabled']),m=l[0],n=l[1],o=this.getComposerData(m);o.enabled=n;this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore6=function(k){'use strict';var l=this.validateAction(k,['composerID','errors']),m=l[0],n=l[1],o=this.getComposerData(m);o.errors=n;this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore7=function(k){'use strict';var l=this.validateAction(k,['composerID','textDisabled']),m=l[0],n=l[1],o=this.getComposerData(m);o.textDisabled=n;this.emitChange(k.composerID);};f.exports=new j();}),null);
__d("XComposerXMediaInterceptController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/intercept\/media\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}});}),null);
__d("XComposerXMediaMarkdownInterceptController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/markdown_intercept\/media\/",{xhpc_composerid:{type:"String",required:true},markdown_enabled:{type:"Bool",defaultValue:false},xhpc_message:{type:"String"}});}),null);
__d("XComposerXMediaOfferUpsellController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/offer_upsell\/media\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_photo_fbids:{type:"FBIDVector"},xhpc_pageid:{type:"Int",required:true}});}),null);
__d("XComposerXStatusInterceptController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/intercept\/status\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}});}),null);
__d("XComposerXStatusMarkdownInterceptController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/markdown_intercept\/status\/",{xhpc_composerid:{type:"String",required:true},markdown_enabled:{type:"Bool",defaultValue:false},xhpc_message:{type:"String"}});}),null);
__d("XComposerXStatusOfferUpsellController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/offer_upsell\/status\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_photo_fbids:{type:"FBIDVector"},xhpc_pageid:{type:"Int",required:true}});}),null);
__d("XMarketplaceCreatePostController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ajax\/marketplace\/create_post\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int",required:true}});}),null);
__d("XRedEnvelopeSaveController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/redenv\/save\/",{xhpc_targetid:{type:"Int",required:true},xhpc_composerid:{type:"String",required:true},composer_attachment_message:{type:"String"},distribution:{type:"String",required:true},total_amount:{type:"Int",required:true},number_of_envelopes:{type:"Int",required:true}});}),null);
__d("XTimelineMLEWriteController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/mle\/save\/",{create_scrapbook:{type:"Bool",defaultValue:false}});}),null);
__d("XVideoEditDialogSaveController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/edit\/dialog\/save\/",{v:{type:"Int",required:true}});}),null);
__d('ReactComposerPostUtils',['invariant','ReactComposerActions','ReactComposerAsyncRequest','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerAutosSellStore.react','ReactComposerCTAAttachmentUtils','ReactComposerCTAStore','ComposerEntryPointRef','ReactComposerFileStore','ReactComposerLifeEventStore','ReactComposerMediaUploadStore','ReactComposerPhotoStore','ReactComposerPlaceListStore.react','ReactComposerPostDataUtils','ReactComposerProfilePictureFrameStore','ReactComposerQuestionStore','ReactComposerRedEnvelopeStore','ReactComposerSellStore','ReactComposerMarkdownStore','ReactComposerSlideshowStore','ReactComposerStatusDonateButtonStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerVideoUploadStore','DateConsts','PagesComposerUnpublishedPostsStore','VideoEditSource','XComposerXMediaMarkdownInterceptController','XComposerXStatusMarkdownInterceptController','XComposerXMediaOfferUpsellController','XComposerXStatusOfferUpsellController','XComposerXStatusInterceptController','XComposerXMediaInterceptController','XMarketplaceCreatePostController','XRedEnvelopeSaveController','XTimelineMLEWriteController','XVideoEditDialogSaveController','PagesComposerActionsLogger','PagesComposerBoostedPostsStore','ActorURI','Arbiter','HTML','URI','formatDate'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={publish:function j(k,l){c('ReactComposerActions').publishStarted(k);l=l||{};l.composer_id=k;if(l.streamNode){l.streamStory=l.streamNode;}else if(l.streamMarkup)l.streamStory=c('HTML')(l.streamMarkup).getRootNode();if(l.contentID)l.matchData={content_id:l.contentID};c('Arbiter').inform('composer/publish',l);},isPostButtonDisabled:function j(k,l){var m=c('ReactComposerPhotoStore').isLimitExceeded(k,l),n=c('ReactComposerMediaUploadStore').isUploading(k),o=c('ReactComposerPhotoStore').isRecognizing(k),p=!!c('ReactComposerVideoUploadStore').getVideo(k)&&c('ReactComposerStore').isPosting(k);return m||n||o||p;},post:function j(k){!!!k.actorID?h(0):void 0;!!!k.composerConfig?h(0):void 0;!!!k.composerConfig.contextInfo?h(0):void 0;!!!k.composerID?h(0):void 0;!!!k.targetID?h(0):void 0;var l=k.actorID,m=k.composerID,n=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').MEDIA),o=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').QANDA),p=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').FILE),q=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').QUESTION),r=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').RED_ENVELOPE),s=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').SELL)||c('ReactComposerSellStore').getInterceptSell(m),t=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').LIFE_EVENT),u=c('ReactComposerCTAAttachmentUtils').isCTAAttachmentSelected(m),v=c('ReactComposerSlideshowStore').isSlideshowSelected(m),w=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').PROFILE_PIC_FRAME),x=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').PLACE_LIST),y=k.composerConfig.attachmentsConfig||{},z=y[c('ReactComposerAttachmentType').STATUS]||{},aa=z.attemptIntercept&&z.nluIntercept&&!s&&!c('ReactComposerSellStore').showNLUIntercept(m)&&!c('ReactComposerSellStore').showURLIntercept(m),ba=c('ReactComposerPostDataUtils').getPostData(k);if(c('ReactComposerStatusDonateButtonStore').getEnabled(m))Object.assign(ba,{cta_data:{type:'DONATE',value:{fundraiser_campaign_id:c('ReactComposerStatusDonateButtonStore').getFundraiserCampaignID(m),link_title:c('ReactComposerStatusDonateButtonStore').getTitle(m),link_description:c('ReactComposerStatusDonateButtonStore').getDescription(m)}}});var ca=c('ReactComposerVideoUploadStore').getVideo(m);if(n&&!!ca){var da=c('ReactComposerVideoUploadStore').getUploader(m);da&&da.uploadFromFile(ca.file,ba);return;}var ea,fa=c('ReactComposerPhotoStore').getPhotos(m),ga=c('ReactComposerMediaUploadStore').getUploads(m);if(s)Object.assign(ba,{composer_attachment_sell_title:c('ReactComposerSellStore').getTitleText(m),composer_attachment_sell_price:c('ReactComposerSellStore').getPrice(m),composer_attachment_sell_price_type:c('ReactComposerSellStore').getPriceType(m),composer_attachment_sell_currency:c('ReactComposerSellStore').getCurrency(m),composer_attachment_sell_category:c('ReactComposerSellStore').getCategoryID(m),composer_attachment_sell_location_page_id:c('ReactComposerSellStore').getLocationID(m),composer_attachment_sell_pickup_note:c('ReactComposerSellStore').getPickupNoteText(m),post_to_marketplace:c('ReactComposerSellStore').isNearbyLocationChecked(m),cross_post_checked:c('ReactComposerSellStore').isCrossPostChecked(m),composer_attachment_sell_audience_group_ids:Array.from(c('ReactComposerSellStore').getAudienceGroupIDs(m)).join(','),composer_attachment_sell_autos_make:c('ReactComposerAutosSellStore.react').getMake(m),composer_attachment_sell_autos_model:c('ReactComposerAutosSellStore.react').getModel(m),composer_attachment_sell_autos_vin:c('ReactComposerAutosSellStore.react').getVIN(m),composer_attachment_sell_autos_year:c('ReactComposerAutosSellStore.react').getYear(m),composer_attachment_sell_autos_odometer:c('ReactComposerAutosSellStore.react').getOdometerValue(m),composer_attachment_sell_autos_odometer_units:c('ReactComposerAutosSellStore.react').getOdometerUnits(m)});if(u)Object.assign(ba,{cta_data:c('ReactComposerCTAStore').getCTAData(m)});if(x)Object.assign(ba,{recommendations_post:true,recommendations_within_page:c('ReactComposerPlaceListStore.react').getPageID(m)});var ha=ga.size>0,ia=n||o||s,ja=v||ia&&ha,ka=z.showOfferUpsell===true&&!c('PagesComposerUnpublishedPostsStore').showOfferUpsell(m)&&!c('PagesComposerBoostedPostsStore').getConfig(m),la=z.attemptMarkdownIntercept&&!c('ReactComposerMarkdownStore').showIntercept(m),ma=y[c('ReactComposerAttachmentType').SELL],na=c('ReactComposerSellStore').getPostDirectlyToMarketplace(m),oa=[];if(ka){var pa=0;if(!(!!ba.attachment&&!!ba.attachment.params&&!!ba.attachment.params.child_attachments)){pa=fa.size;oa=fa.map(function(ib){return ib.id;}).toArray();}if(!!ca||v){ka=z.enableOfferVideoUpsell===true;}else if(pa==1){ka=z.enableOfferOnePhotoUpsell===true;}else if(pa>1){ka=z.enableOfferMultiPhotoUpsell===true;}else ka=z.enableOfferTextUpsell===true;}if(ja){if(ka){ea=c('XComposerXMediaOfferUpsellController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setInt('xhpc_pageid',l).setFBIDVector('xhpc_photo_fbids',oa).getURI();}else if(aa){ea=c('XComposerXMediaInterceptController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setInt('xhpc_targetid',k.targetID).getURI();}else if(la){ea=c('XComposerXMediaMarkdownInterceptController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setBool('markdown_enabled',ba.is_markdown).getURI();}else if(na){ea=c('XMarketplaceCreatePostController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setInt('xhpc_targetid',k.targetID).getURI();}else ea=new (c('URI'))('/media/upload/photos/composer/');var qa=c('ReactComposerPostDataUtils').getMediaUploadsData(m,ga);Object.assign(ba,qa);}else if(p){ea=new (c('URI'))(c('ReactComposerFileStore').getURI(m));Object.assign(ba,{transaction_id:c('ReactComposerFileStore').getDropboxFileID(m)});}else if(q){ea=new (c('URI'))('/ajax/questions/save.php');var ra=c('ReactComposerQuestionStore').getOptionIDs(m),sa=c('ReactComposerQuestionStore').getOptionStrings(m);ra.push('');sa.push('');var ta=c('ReactComposerStore').getRef(m),ua=null;switch(ta){case c('ComposerEntryPointRef').GROUP:ua='group';break;case c('ComposerEntryPointRef').EVENT:case c('ComposerEntryPointRef').EVENT_ABOUT:ua='event';break;case c('ComposerEntryPointRef').PAGES_FEED:ua='composer';break;default:ua=ta;}Object.assign(ba,{composerAttachmentQuestion:c('ReactComposerStatusStore').getMessage(m),question_option_ids:ra,question_options:sa,source:ua,create_eigenpoll:c('ReactComposerQuestionStore').canChooseMultiplePollOptions(m),anyone_add_options:c('ReactComposerQuestionStore').canAnyoneAddPollOptions(m),create_ranked_poll:c('ReactComposerQuestionStore').canRankPollOptions(m)});}else if(r){Object.assign(ba,{composer_attachment_message:c('ReactComposerStatusStore').getMessageText(m),total_amount:c('ReactComposerRedEnvelopeStore').getTotalAmount(m),distribution:c('ReactComposerRedEnvelopeStore').getDistribution(m),number_of_envelopes:c('ReactComposerRedEnvelopeStore').getNumberOfEnvelopes(m)});ea=c('XRedEnvelopeSaveController').getURIBuilder().setString('composer_attachment_message',ba.composer_attachment_message).setString('distribution',ba.distribution).setInt('total_amount',ba.total_amount).setInt('number_of_envelopes',ba.number_of_envelopes).setInt('xhpc_targetid',k.targetID).setString('xhpc_composerid',k.composerID).getURI();}else if(s){ea=new (c('URI'))('/ajax/groups/sell/save.php');}else if(t){ea=c('XTimelineMLEWriteController').getURIBuilder().getURI();var va=babelHelpers['extends']({},c('ReactComposerLifeEventStore').getSelectedLifeEventFields(m)),wa=Object.keys(ba.backdated_date).some(function(ib){return ba.backdated_date[ib]!==null;});if(wa)va.date_start=ba.backdated_date;var xa=ga.map(function(ib){return {fbid:ib.photoID};});Object.assign(ba,{field_data_json:JSON.stringify(va),icon:c('ReactComposerLifeEventStore').getSelectedLifeEventIconID(m),photos:JSON.stringify(xa),story:c('ReactComposerLifeEventStore').getSelectedLifeEventStory(m),surface:'composer',title:c('ReactComposerLifeEventStore').getSelectedLifeEventTitle(m),type:c('ReactComposerLifeEventStore').getSelectedLifeEventType(m)});}else if(w){var ya=c('ReactComposerProfilePictureFrameStore').getSelectedOverlayID(m),za=c('ReactComposerProfilePictureFrameStore').getScheduledPostDate(m),ab=void 0,bb=void 0,cb=false;if(za){ab=c('formatDate')(za,'m/d/Y',{skipPatternLocalization:true});var db=za.getHours()*c('DateConsts').MIN_PER_HOUR+za.getMinutes();bb=c('DateConsts').SEC_PER_MIN*db;cb=true;}qa=c('ReactComposerPostDataUtils').getMediaDataWithoutFiltering(m,c('ReactComposerProfilePictureFrameStore').getCroppedPhotoForUpload(m));ea=new (c('URI'))('/media/upload/photos/composer/');Object.assign(ba,babelHelpers['extends']({},qa,{scheduled:cb,sticker_id:ya,future_date:ab,future_time:bb}));}else if(ba.attachment&&ba.attachment.params.carousel_video_lpp){ea=c('XVideoEditDialogSaveController').getURIBuilder().setInt('v',ba.attachment.params.carousel_video_lpp.video_id).getURI();Object.assign(ba,ba.attachment.params.carousel_video_lpp);Object.assign(ba,{description:ba.xhpc_message,source:c('VideoEditSource').PAGE_VIDEO_LPP_PUBLISH});var eb={child_attachments:ba.attachment.params.child_attachments,event:'publish',target_id:k.targetID,content_id:ba.attachment.params.carousel_video_lpp.video_id,is_old_composer:false,scraped_url:ba.attachment.params.url};c('PagesComposerActionsLogger').log(eb);}else if(ka){ea=c('XComposerXStatusOfferUpsellController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setInt('xhpc_pageid',l).setFBIDVector('xhpc_photo_fbids',oa).getURI();}else if(aa){ea=c('XComposerXStatusInterceptController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setInt('xhpc_targetid',k.targetID).getURI();}else if(la){ea=c('XComposerXStatusMarkdownInterceptController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setBool('markdown_enabled',ba.is_markdown).getURI();}else ea=new (c('URI'))('/ajax/updatestatus.php');ea=c('ActorURI').create(ea,l);var fb=new (c('ReactComposerAsyncRequest'))(k.composerID,ea).setData(ba).setHandler(k.onPostSuccess).setErrorHandler(k.onPostFailure);if(p&&c('ReactComposerFileStore').hasFile(m)){var gb=c('ReactComposerFileStore').getFile(m),hb=new FormData();hb.append('file1',gb);fb.setRawData(hb);}fb.send();}};f.exports=i;}),null);
__d('ReactComposerPagesStore',['ReactComposerActionStore','ReactComposerMediaConfig','ReactComposerPostUtils','ReactComposerTaggerType','PagesComposerActionsTypes','PagesComposerUnpublishedPostsStore','dotAccess','formatDate'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j={instagramCrossPosting:false};h=babelHelpers.inherits(k,c('ReactComposerActionStore'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return Object.assign({},j);},function(m){switch(m.type){case c('PagesComposerActionsTypes').INSTAGRAM_CROSS_POSTING:l&&l.$ReactComposerPagesStore1(m);break;}});l=this;}k.prototype.__onPostStarted=function(l){'use strict';var m=c('PagesComposerUnpublishedPostsStore').getIsDraft(l.composerID),n=Object.assign({},l.config);n.contextInfo=Object.assign({},n.contextInfo||{});n.contextInfo.draft=m;var o=c('PagesComposerUnpublishedPostsStore').getScheduledPublishTime(l.composerID);if(o){var p=c('formatDate')(o,'m/d/Y',{skipPatternLocalization:true}),q=60*(60*o.getHours()+o.getMinutes());n.contextInfo.scheduled=true;n.contextInfo.future_date=p;n.contextInfo.future_time=q;}var r=c('PagesComposerUnpublishedPostsStore').getBackdateConfig(l.composerID);if(r){n.contextInfo.backdated_date={year:r.year,month:r.month,day:r.day};n.contextInfo.hide_from_newsfeed=r.hideFromNewsFeed;}var s=c('PagesComposerUnpublishedPostsStore').getStopFeedDistributionTime(l.composerID);if(s){n.contextInfo.stopFeedDistributionDateFormatted=c('formatDate')(s,'m/d/Y',{skipPatternLocalization:true});n.contextInfo.stopFeedDistributionTimeFormatted=60*(60*s.getHours()+s.getMinutes());}var t=c('PagesComposerUnpublishedPostsStore').getIsAdsPost(l.composerID);if(t)n.contextInfo.is_ad_post=1;var u=this.getComposerData(l.composerID).instagramCrossPosting;if(u)n.contextInfo.instagramCrossPosting=true;var v=l.config.taggersConfig[c('ReactComposerTaggerType').TARGETING],w=v?c('dotAccess')(v,'feedTargetingGK'):false;c('ReactComposerPostUtils').post({actorID:l.actorID,composerConfig:n,composerID:l.composerID,composerType:l.composerType,targetID:l.targetID,onPostSuccess:l.onPostSuccess,useHints:w});};k.prototype.__canPost=function(l){'use strict';return !c('ReactComposerPostUtils').isPostButtonDisabled(l.composerID,c('ReactComposerMediaConfig').photo.limit);};k.prototype.$ReactComposerPagesStore1=function(l){'use strict';var m=this.getComposerData(l.composerID);m.instagramCrossPosting=l.enabled;};f.exports=new k();}),null);
__d('PagesComposerExtraAttachmentSelector.react',['fbt','invariant','ix','ReactComponentWithPureRenderMixin','React','ReactDOM','ReactFragment','BanzaiODS','ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComposerLoggingName','DOM','JobsActionsTypedLogger','LayerHideOnTransition','PagesCalloutActions','PagesCalloutDispatcher','PagesCalloutHelper','XUIAmbientNUX.react','PagesComposerExtraAttachmentIcons','getByPath'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'PagesComposerExtraAttachmentSelector',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{label:k.string.isRequired,icon:k.oneOf(Object.keys(c('PagesComposerExtraAttachmentIcons'))).isRequired,attachmentsConfig:k.object.isRequired},getInitialState:function m(){return {offersNuxShown:false,showJobOpeningNUX:false,showProductNux:false};},componentDidMount:function m(){var n=this.props.attachmentsConfig.attachments;if(n.JOB_OPENING&&n.JOB_OPENING.jobTipID)c('PagesCalloutDispatcher').dispatch({type:c('PagesCalloutActions').REGISTER_CALLOUT,data:{tip_id:n.JOB_OPENING.jobTipID,showCallback:function(){return this._showJobNux();}.bind(this),nux_id:n.JOB_OPENING.jobNuxID}});if(n.OFFER&&n.OFFER.offersTipID)c('PagesCalloutDispatcher').dispatch({type:c('PagesCalloutActions').REGISTER_CALLOUT,data:{tip_id:n.OFFER.offersTipID,showCallback:function(){return this._showOffersNux();}.bind(this),nux_id:n.OFFER.offersNuxID}});if(n.PRODUCT&&n.PRODUCT.productNuxTipData.tip_id)c('PagesCalloutDispatcher').dispatch({type:c('PagesCalloutActions').REGISTER_CALLOUT,data:{tip_id:n.PRODUCT.productNuxTipData.tip_id,showCallback:function(){return this._showProductNux();}.bind(this),nux_id:n.PRODUCT.productNuxTipData.nux_id}});},_showJobNux:function m(){new (c('JobsActionsTypedLogger'))().setName('pages_extra_composer_job_nux_impression').setEmployerID(c('getByPath')(this.props,['config','attachments','JOB_OPENING','pageID'],null)).log();this.setState({showJobOpeningNUX:true,offersNuxShown:false,showProductNux:false});},_showOffersNux:function m(){c('BanzaiODS').bumpEntityKey('offers','offers_v2_pages_composer_nux_shown');this.setState({offersNuxShown:true,showJobOpeningNUX:false,showProductNux:false});},_showProductNux:function m(){this.setState({showProductNux:true,showJobOpeningNUX:false,offersNuxShown:false});},_onOffersNUXCloseButtonClick:function m(){var n=this.props.attachmentsConfig.attachments;if(n.OFFER&&n.OFFER.offersTipID)c('PagesCalloutHelper').logXout(n.OFFER.offersTipID);c('BanzaiODS').bumpEntityKey('offers','offers_v2_pages_composer_nux_dismissed');this.setState({offersNuxShown:false});},_onJobPostingComposerNUXCloseButtonClick:function m(){var n=this.props.attachmentsConfig.attachments;if(n.JOB_OPENING&&n.JOB_OPENING.jobTipID)c('PagesCalloutHelper').logXout(n.JOB_OPENING.jobTipID);new (c('JobsActionsTypedLogger'))().setName('pages_extra_composer_job_nux_xout').setEmployerID(c('getByPath')(this.props,['config','attachments','JOB_OPENING','pageID'],null)).log();this.setState({showJobOpeningNUX:false});},_onProductNuxClose:function m(){var n=this.props.attachmentsConfig.attachments;if(n.PRODUCT&&n.PRODUCT.productNuxTipData)c('PagesCalloutHelper').logXout(n.PRODUCT.productNuxTipData.tip_id);this.setState({showProductNux:false});},renderLayers:function m(){var n={offers_nux:c('React').createElement(c('XUIAmbientNUX.react'),{behaviors:{LayerHideOnTransition:c('LayerHideOnTransition')},contextRef:function(){return this.refs.composerSelector;}.bind(this),position:'right',shown:this.state.offersNuxShown,onCloseButtonClick:this._onOffersNUXCloseButtonClick,key:'ambientNUX'},h._("Now you can create an offer directly from your Page.")),job_posting_nux:c('React').createElement(c('XUIAmbientNUX.react'),{behaviors:{LayerHideOnTransition:c('LayerHideOnTransition')},contextRef:function(){return this.refs.composerSelector;}.bind(this),key:'ambientNUX',onCloseButtonClick:this._onJobPostingComposerNUXCloseButtonClick,position:'above',shown:this.state.showJobOpeningNUX},h._("Introducing Job Posts - create them for free from your Page!")),product_nux:null},o=c('ReactDOM').findDOMNode(this.refs.composerSelector),p=o?c('DOM').scry(o,'i')[0]:null;if(p!==null)n.product_nux=c('React').createElement(c('XUIAmbientNUX.react'),{behaviors:{LayerHideOnTransition:c('LayerHideOnTransition')},context:p,key:'ambientNUX',onCloseButtonClick:this._onProductNuxClose,position:'above',shown:this.state.showProductNux},h._("Share a product from your Shop"));return c('ReactFragment').create(n);},render:function m(){return (c('React').createElement('span',null,c('React').createElement(c('ReactComposerAttachmentSelectorContainer.react'),{attachmentID:c('ReactComposerAttachmentType').PAGES_EXTRA,label:this.props.label,icon:this._renderIcon(),id:'extraAttachmentSelector',ref:'composerSelector',loggingName:c('ReactComposerLoggingName').PAGES_EXTRA_TAB_SELECTOR}),this.renderLayers()));},_renderIcon:function m(){switch(this.props.icon){case c('PagesComposerExtraAttachmentIcons').FINCH_COUPONS_ICON:return j('/images/icons/pages/coupons/finch-offers.png');case c('PagesComposerExtraAttachmentIcons').Q_AND_A_ICON:return j('/images/litestand/composer/icons/qanda.png');case c('PagesComposerExtraAttachmentIcons').CAUSE_ICON:return j('/images/icons/pages/donations/cause.png');case c('PagesComposerExtraAttachmentIcons').COUPONS_ICON:return j('/images/icons/pages/coupons/offers.png');case c('PagesComposerExtraAttachmentIcons').FINCH_EVENTS_ICON:return j('/images/icons/finch-event.png');case c('PagesComposerExtraAttachmentIcons').EVENTS_ICON:return j('/images/icons/event.gif');case c('PagesComposerExtraAttachmentIcons').PRODUCT_ICON:return j('/images/litestand/composer/icons/sell.png');case c('PagesComposerExtraAttachmentIcons').OFFERS_ICON:return j('/images/facelift/composer/icons/offer_event_16.png');case c('PagesComposerExtraAttachmentIcons').BOOK_TRAVEL_ICON:return j('/images/icons/pages/composer/booknow_1x.png');case c('PagesComposerExtraAttachmentIcons').LEARN_MORE_ICON:return j('/images/icons/pages/composer/learnmore_1x.png');case c('PagesComposerExtraAttachmentIcons').SHOP_NOW_ICON:return j('/images/icons/pages/composer/shopnow_1x.png');case c('PagesComposerExtraAttachmentIcons').SIGN_UP_ICON:return j('/images/icons/pages/composer/signup_1x.png');case c('PagesComposerExtraAttachmentIcons').MORE_ICON:return j('/images/facelift/composer/icons/more_16.png');default:i(0);}}});f.exports=l;}),null);
__d("XPagesExtraAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/pages\/extra\/bootstrap\/",{});}),null);
__d('PagesComposerExtraLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerLoadableAttachmentBodyMixin','ReactComposerBootloaderPropTypes','ActorURI','React','XPagesExtraAttachmentBootstrapController'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'PagesComposerExtraLazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],propTypes:{bootloader:c('ReactComposerBootloaderPropTypes').isRequired},statics:{attachmentID:c('ReactComposerAttachmentType').PAGES_EXTRA},bootload:function j(k){this.props.bootloader.extraAttachment(k);},getBootstrapURI:function j(){var k=c('XPagesExtraAttachmentBootstrapController').getURIBuilder().getURI();return c('ActorURI').create(k,this.context.actorID);}});f.exports=i;}),null);
__d("XReactComposerCTAAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/cta\/bootstrap\/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"Int",required:true},cta_type:{type:"String",required:true}});}),null);
__d('ReactComposerCTALazyAttachment.react',['ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerLoadableAttachmentBodyMixin','ActorURI','Bootloader','React','XReactComposerCTAAttachmentBootstrapController'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerCTALazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],statics:{attachmentID:c('ReactComposerAttachmentType').CTA},propTypes:{bootloader:c('ReactComposerBootloaderPropTypes')},bootload:function i(j){if(this.props.bootloader&&this.props.bootloader.ctaAttachment){this.props.bootloader.ctaAttachment(j);}else c('Bootloader').loadModules(["ReactComposerCTAAttachmentContainer.react"],j,'ReactComposerCTALazyAttachment.react');},getBootstrapURI:function i(){var j=this.props.config.attachmentsConfig,k=j[c('ReactComposerAttachmentType').PAGES_EXTRA],l=k.attachments[c('ReactComposerAttachmentType').CTA],m=c('XReactComposerCTAAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setInt('target_id',this.context.targetID).setString('cta_type',l.ctaType).getURI();return c('ActorURI').create(m,this.context.actorID);}});f.exports=h;}),null);
__d('ReactComposerCallLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerLoadableAttachmentBodyMixin','AdsCallToActionTypes','ActorURI','Bootloader','React','XReactComposerCTAAttachmentBootstrapController'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerCallLazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],statics:{attachmentID:c('ReactComposerAttachmentType').CALL},propTypes:{bootloader:c('ReactComposerBootloaderPropTypes')},bootload:function i(j){if(this.props.bootloader&&this.props.bootloader.ctaAttachment){this.props.bootloader.ctaAttachment(j);}else c('Bootloader').loadModules(["ReactComposerCTAAttachmentContainer.react"],j,'ReactComposerCallLazyAttachment.react');},getBootstrapURI:function i(){var j=c('XReactComposerCTAAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setInt('target_id',this.context.targetID).setString('cta_type',c('AdsCallToActionTypes').TYPES.CALL_NOW.name).getURI();return c('ActorURI').create(j,this.context.actorID);}});f.exports=h;}),null);
__d('ReactComposerGetDirectionsLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerLoadableAttachmentBodyMixin','AdsCallToActionTypes','ActorURI','Bootloader','React','XReactComposerCTAAttachmentBootstrapController'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerGetDirectionsLazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],statics:{attachmentID:c('ReactComposerAttachmentType').GET_DIRECTIONS},propTypes:{bootloader:c('ReactComposerBootloaderPropTypes')},bootload:function i(j){if(this.props.bootloader&&this.props.bootloader.ctaAttachment){this.props.bootloader.ctaAttachment(j);}else c('Bootloader').loadModules(["ReactComposerCTAAttachmentContainer.react"],j,'ReactComposerGetDirectionsLazyAttachment.react');},getBootstrapURI:function i(){var j=c('XReactComposerCTAAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setInt('target_id',this.context.targetID).setString('cta_type',c('AdsCallToActionTypes').TYPES.GET_DIRECTIONS.name).getURI();return c('ActorURI').create(j,this.context.actorID);}});f.exports=h;}),null);
__d('ReactComposerMessageLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerLoadableAttachmentBodyMixin','AdsCallToActionTypes','ActorURI','Bootloader','React','XReactComposerCTAAttachmentBootstrapController'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerMessageLazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],statics:{attachmentID:c('ReactComposerAttachmentType').MESSAGE},propTypes:{bootloader:c('ReactComposerBootloaderPropTypes')},bootload:function i(j){if(this.props.bootloader&&this.props.bootloader.ctaAttachment){this.props.bootloader.ctaAttachment(j);}else c('Bootloader').loadModules(["ReactComposerCTAAttachmentContainer.react"],j,'ReactComposerMessageLazyAttachment.react');},getBootstrapURI:function i(){var j=c('XReactComposerCTAAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setInt('target_id',this.context.targetID).setString('cta_type',c('AdsCallToActionTypes').TYPES.MESSAGE_PAGE.name).getURI();return c('ActorURI').create(j,this.context.actorID);}});f.exports=h;}),null);
__d('ReactTargetingTaggerStore.react',['ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerType'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){var l={};l[c('ReactComposerTaggerType').TARGETING]={};return {taggersData:l,taggersSource:{}};},function(l){if(l.type===c('ReactComposerTaggerActionType').SET_TAGGER_DATA)k&&k.$ReactTargetingTaggerStore1(l);});k=this;}j.prototype.getTaggerData=function(k,l){'use strict';return this.getComposerData(k).taggersData[l];};j.prototype.$ReactTargetingTaggerStore1=function(k){'use strict';var l=this.getComposerData(k.composerID),m=Array.isArray(k.taggerData)?k.taggerData.slice():Object.assign({},k.taggerData);l.taggersData[k.taggerID]=m;this.emitChange(k.composerID);};f.exports=new j();}),null);
__d("XPagesGetTargetingMetadataController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/targeting\/metadata\/",{page_id:{type:"Int",required:true},target_spec:{type:"String",required:true}});}),null);
__d('ReactComposerTargetingUtils',['fbt','AsyncRequest','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ReactTargetingTaggerStore.react','XPagesGetTargetingMetadataController','XUIText.react','React','curry','intlList'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={fetchMetadata:function j(k,l,m){var n=c('XPagesGetTargetingMetadataController').getURIBuilder().setInt('page_id',l).setString('target_spec',JSON.stringify(k)).getURI();new (c('AsyncRequest'))().setURI(n).setHandler(c('curry')(this._onFetchMetadataHandler,m)).send();},_onFetchMetadataHandler:function j(k,l){var m=l.payload,n=m.sentences.map(function(o){return (c('React').createElement('span',null,h._("{content_label} {children}",[h.param('content_label',c('React').createElement(c('XUIText.react'),{weight:'bold'},o.content)),h.param('children',c('intlList')(o.children,c('intlList').CONJUNCTIONS.OR))])));});k(JSON.parse(m.target_spec),c('React').createElement('span',null,c('intlList')(n,c('intlList').CONJUNCTIONS.NONE)),m.reach_estimate);},getDataFromComposerTaggerStore:function j(k){return c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').TARGETING);},getDataFromTargetingTaggerStore:function j(k){return c('ReactTargetingTaggerStore.react').getTaggerData(k,c('ReactComposerTaggerType').TARGETING);},setData:function j(k,l){var m={},n=['targeting','gating','hints','targetingSentences','gatingSentences','reachEstimate'];n.map(function(o){if(l[o])m[o]=l[o];});c('ReactComposerTaggerActions').setTaggerDataWithoutLogging(k,c('ReactComposerTaggerType').TARGETING,m);}};f.exports=i;}),null);
__d('PagesComposerAudiences.react',['cx','fbt','BanzaiODS','BootloadedComponent.react','ReactComposerContextMixin','JSResource','LayerFadeOnHide','Link.react','React','ReactComposerTaggerStore','ReactComposerTargetingUtils','ReactTargetingTaggerStore.react','TargetingSpecStore','XUIDialog.react','XUIDialogBody.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogSaveButton.react','XUISpinner.react','XUIText.react','areEqual','isEmpty'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=587,l=c('React').createClass({displayName:'PagesComposerAudiences',mixins:[c('ReactComposerContextMixin')],propTypes:{shown:j.bool.isRequired,onToggle:j.func.isRequired,onSave:j.func.isRequired,rootElement:j.object,callbackDataStatus:j.func,callbackSelectionStatus:j.func,saveData:j.func,initialActiveKey:j.string,canSeeCompleteList:j.bool,useTargetingAsFilter:j.bool,canSeeDemographicOptions:j.bool,feedTargetingShowReachGK:j.bool,hideFeedTargeting:j.bool,useFromLegacyComposer:j.bool,shouldShowRestrictionTabNux:j.bool,shouldHideLeftFooter:j.bool,allowExclusionsWithoutInclusions:j.bool},getStores:function m(){if(this.props.useFromLegacyComposer)return [c('ReactTargetingTaggerStore.react')];return [c('ReactComposerTaggerStore')];},getInitialState:function m(){return {fetching:false,targeting:this.getInitialSavedData('targeting'),gating:this.getInitialSavedData('gating'),hints:this.getInitialSavedData('hints'),targetingSentences:this.getInitialSavedData('targetingSentences'),gatingSentences:this.getInitialSavedData('gatingSentences'),reachEstimate:this.getInitialReachEstimate()};},componentWillMount:function m(){if(this.props.callbackSelectionStatus)this.props.callbackSelectionStatus(true);},componentWillUnmount:function m(){if(this.props.callbackSelectionStatus)this.props.callbackSelectionStatus(false);},componentDidMount:function m(){c('BanzaiODS').bumpEntityKey('ui_audience_targeting','dialog_open');},_onSave:function m(){var n={};Object.assign(n,this.state);if(!c('isEmpty')(n.targeting))n.targeting=this.convertConnectionsToInterestsFromApiToTargetingSpec(c('TargetingSpecStore').getTargetingApiSpec());if(!c('isEmpty')(n.gating))n.gating=c('TargetingSpecStore').getTargetingApiSpec();if(this.props.useFromLegacyComposer){this._onSaveLegacy(n);}else this._onSaveStore(n);this.props.onSave();},_onSaveStore:function m(n){c('ReactComposerTargetingUtils').setData(this.context.composerID,n);},_isDefaultSpec:function m(n){return c('areEqual')(n,{age_max:65,age_min:13});},_onSaveLegacy:function m(n){if(this.props.callbackDataStatus)this.props.callbackDataStatus(n.gating&&!c('isEmpty')(n.gating)&&!this._isDefaultSpec(n.gating)||n.targeting&&!c('isEmpty')(n.targeting)&&!this._isDefaultSpec(n.targeting)||n.hints&&!c('isEmpty')(n.hints)&&!this._isDefaultSpec(n.hints));c('ReactComposerTargetingUtils').setData(this.context.targetID,n);},_onTargetingChange:function m(n){if(!this.props.useTargetingAsFilter){delete n.age_min;delete n.age_max;}if(c('areEqual')(this.state.targeting,n)||c('areEqual')(this.state.hints,n))return;this.setState({fetching:true});var o=this.props.useTargetingAsFilter?n:Object.assign({},n,this.state.gating);c('ReactComposerTargetingUtils').fetchMetadata(o,this.context.targetID,this._onTargetingChangeHandler);},_onTargetingChangeHandler:function m(n,o,p){if(this.props.useTargetingAsFilter){this.setState({fetching:false,targeting:n,targetingSentences:o,reachEstimate:p});}else this.setState({fetching:false,hints:n,targetingSentences:o});},_onGatingChange:function m(n){if(c('areEqual')(this.state.gating,n))return;this.setState({fetching:true});var o=this.props.useTargetingAsFilter?n:Object.assign({},n,this.state.hints);c('ReactComposerTargetingUtils').fetchMetadata(o,this.context.targetID,this._onGatingChangeHandler);},_onGatingChangeHandler:function m(n,o){if(this.props.useTargetingAsFilter){this.setState({fetching:false,gating:n,gatingSentences:o});}else this.setState({fetching:false,gating:n,targetingSentences:o});},convertConnectionsToInterestsFromApiToTargetingSpec:function m(n){if(n&&n.connections&&!n.fan_of){n.fan_of=n.connections;delete n.connections;}return n;},convertInterestsToConnectionsFromTargetingSpecToApi:function m(n){if(n&&n.fan_of&&!n.connections){n.connections=n.fan_of;delete n.fan_of;}return n;},getInitialSavedData:function m(n){var o={};if(this.props.useFromLegacyComposer){o=this.getSavedSpec(n,this.context.targetID);}else o=this.getSavedSpec(n,this.context.composerID);return this.convertInterestsToConnectionsFromTargetingSpecToApi(o);},getSavedSpec:function m(n,o){if(this.props.useFromLegacyComposer){var p=c('ReactComposerTargetingUtils').getDataFromTargetingTaggerStore(o);}else p=c('ReactComposerTargetingUtils').getDataFromComposerTaggerStore(o);return p==null?null:p[n];},getInitialReachEstimate:function m(){if(!this.props.useTargetingAsFilter){return null;}else{var n=c('ReactComposerTargetingUtils').getDataFromComposerTaggerStore(this.context.composerID);return n==null?null:n.reachEstimate;}},renderReachEstimate:function m(){if(!this.state.reachEstimate)return null;var n=this.state.reachEstimate===20?i._("0\u201320"):this.state.reachEstimate,o=i._("Reach estimate for News Feed targeting: {estimate_number}",[i.param('estimate_number',n)]);return (c('React').createElement(c('XUIText.react'),null,o));},renderHelpLink:function m(){var n=i._("Have a question?"),o='https://www.facebook.com/facebookmedia/get-started/'+'audience-optimization/',p=c('React').createElement(c('Link.react'),{href:o,target:'_blank'},i._("Read our Guidelines."));return (c('React').createElement('div',{className:"_3xrd"},c('React').createElement(c('XUIText.react'),null,n),' ',p));},renderFooterLeftContent:function m(){if(this.props.shouldHideLeftFooter)return null;if(!this.props.useTargetingAsFilter)return this.renderHelpLink();return this.renderReachEstimate();},render:function m(){var n=c('React').createElement('div',{className:"_1220"},c('React').createElement(c('XUISpinner.react'),null)),o=this.props.useTargetingAsFilter?this.state.targeting:this.state.hints;return (c('React').createElement(c('XUIDialog.react'),{shown:this.props.shown,behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},layerHideOnBlur:false,onToggle:this.props.onToggle,width:k},c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('PagesComposerAudiencesBody.react').__setRef('PagesComposerAudiences.react'),bootloadPlaceholder:n,initialTargetingSpec:o,initialGatingSpec:this.state.gating,onTargetingChange:this._onTargetingChange,onGatingChange:this._onGatingChange,initialActiveKey:this.props.initialActiveKey,canSeeCompleteList:this.props.canSeeCompleteList,useTargetingAsFilter:this.props.useTargetingAsFilter,canSeeDemographicOptions:this.props.canSeeDemographicOptions,feedTargetingShowReachGK:this.props.feedTargetingShowReachGK,hideFeedTargeting:this.props.hideFeedTargeting,shouldShowRestrictionTabNux:this.props.shouldShowRestrictionTabNux,allowExclusionsWithoutInclusions:this.props.allowExclusionsWithoutInclusions})),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:this.renderFooterLeftContent()},c('React').createElement(c('XUIDialogCancelButton.react'),{use:'default'}),c('React').createElement(c('XUIDialogSaveButton.react'),{className:"_2uyv",use:'confirm',action:'confirm',disabled:this.state.fetching,onClick:this._onSave}))));}});f.exports=l;}),null);
__d('ReactComposerPagesPrivacySelector.react',['cx','fbt','ix','ReactComposerContextMixin','Image.react','PagesComposerAudiences.react','PopoverMenu.react','ReactComponentWithPureRenderMixin','React','ReactComposerTargetingUtils','ReactLayeredComponentMixin_DEPRECATED','ReactSelectorUtils','Tooltip.react','XUIGrayText.react','ReactXUIMenu','XUIMenuSeparator.react','XUIMenuStaticItem.react','XUISelector.react','XUISelectorButton.react','PagesComposerAudiencesConstants'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('ReactXUIMenu').SelectableMenu,l=c('XUISelector.react').Option,m=c('PagesComposerAudiencesConstants').TABS,n=j('/images/icons/audience/everyone.png'),o=j('/images/icons/audience/custom.png'),p='everyone',q='custom',r=c('React').PropTypes,s=c('React').createClass({displayName:'ReactComposerPagesPrivacySelector',mixins:[c('ReactComposerContextMixin'),c('ReactComponentWithPureRenderMixin'),c('ReactLayeredComponentMixin_DEPRECATED')],propTypes:{gatingSentences:r.object,useReactPrivacyDialogForLegacy:r.bool,isVideoDialog:r.bool,useTargetingAsFilter:r.bool},getInitialState:function t(){return {dialogShown:false};},_getSelectorButton:function t(){var u=this.props.gatingSentences?o:n;return (c('React').createElement(c('XUISelectorButton.react'),{image:c('React').createElement(c('Image.react'),{src:u}),suppressed:true}));},_getMenuItems:function t(){return [c('React').createElement(l,{icon:c('React').createElement(c('Image.react'),{src:n}),value:p,onclick:this._onClearPrivacy},i._("Public")),c('React').createElement(c('XUIMenuSeparator.react'),null),c('React').createElement(c('XUIMenuStaticItem.react'),null,c('React').createElement(c('XUIGrayText.react'),{shade:'light'},i._("Limit audience by:"))),c('React').createElement(l,{icon:c('React').createElement(c('Image.react'),{src:o}),value:q,onclick:function(){return this._onToggle(true);}.bind(this)},i._("Demographics"))];},_onToggle:function t(u){setTimeout(function(){return this.setState({dialogShown:u});}.bind(this),0);},_onClearPrivacy:function t(){var u=c('ReactComposerTargetingUtils').getDataFromComposerTaggerStore(this.context.composerID),v=Object.assign({},u);v.gating=null;v.gatingSentences=null;c('ReactComposerTargetingUtils').setData(this.context.composerID,v);},renderLayers:function t(){if(!this.state.dialogShown)return {};return (c('React').createElement(c('PagesComposerAudiences.react'),{shown:this.state.dialogShown,onToggle:this._onToggle,onSave:function(){return this._onToggle(false);}.bind(this),initialActiveKey:m.GATING,useFromLegacyComposer:this.props.isVideoDialog,useTargetingAsFilter:this.props.useTargetingAsFilter}));},render:function t(){var u=this.props.gatingSentences?q:p,v=c('ReactSelectorUtils').processMenuItems(this._getMenuItems(),u),w=c('React').createElement(k,{value:u},v.items);return (c('React').createElement(c('Tooltip.react'),{tooltip:this.props.gatingSentences},c('React').createElement('div',{className:"_5dd8"},c('React').createElement(c('PopoverMenu.react'),{menu:w},this._getSelectorButton()))));}});f.exports=s;}),null);
__d('ReactComposerPagesPrivacyContainer.react',['fbt','ix','cx','ReactComposerPagesPrivacySelector.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComponentWithPureRenderMixin','React','Image.react','Tooltip.react'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=i('/images/icons/audience/everyone_gray.png'),l=c('React').PropTypes,m=c('React').createClass({displayName:'ReactComposerPagesPrivacyContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore'))],propTypes:{lockToPrivacy:l.string,useTargetingAsFilter:l.bool},statics:{calculateState:function n(o,p){var q=c('ReactComposerTaggerStore').getTaggerData(o,c('ReactComposerTaggerType').TARGETING)||{};return {gatingSentences:q.gatingSentences};}},render:function n(){if(this.props.lockToPrivacy){return this._renderLockedIcon();}else return this._renderSelector();},_renderSelector:function n(){return (c('React').createElement(c('ReactComposerPagesPrivacySelector.react'),{gatingSentences:this.state.gatingSentences,useTargetingAsFilter:this.props.useTargetingAsFilter}));},_renderLockedIcon:function n(){switch(this.props.lockToPrivacy){case 'everyone':return (c('React').createElement('div',{className:"_3jv0"},c('React').createElement(c('Tooltip.react'),{tooltip:h._("Everyone can see posts on this public Page")},c('React').createElement('div',{className:"_3jv1"},c('React').createElement(c('Image.react'),{src:k})))));default:return null;}}});f.exports=m;}),null);
__d('ReactComposerProductTaggerButton.react',['fbt','cx','CommerceProductTaggerType','ReactComposerTaggerActions','ReactComposerTaggerButtonMixin','ReactComposerTaggerType','PagesCalloutHelper','React','XUIAmbientNUX.react'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerProductTaggerButton',mixins:[c('ReactComposerTaggerButtonMixin')],statics:{taggerID:c('ReactComposerTaggerType').PRODUCT},propTypes:{nuxTipID:j.string,productTaggerType:j.string.isRequired},getTitle:function l(){return h._("Tag a product");},getNUX:function l(){if(!this.state.showNUX||!this.state.contextRef)return null;var m=this.props.productTaggerType===c('CommerceProductTaggerType').SHOP_PAGE?h._("Tag products from your shop in your post"):h._("Tag products from your product catalogue in your post");return (c('React').createElement(c('XUIAmbientNUX.react'),{alignment:'center',contextRef:function(){return this.state.contextRef;}.bind(this),position:'above',shown:true,onCloseButtonClick:this._hideNUX},m));},getTooltip:function l(){return h._("Tag a product");},getClassName:function l(){return "_22ma";},getRef:function l(){return 'fbReactComposerProductTaggerButton';},componentDidMount:function l(){this.setState({contextRef:this.refs.fbReactComposerProductTaggerButton});},_hideNUX:function l(){c('ReactComposerTaggerActions').handleSetTaggerShowNUX(this.context.composerID,c('ReactComposerTaggerType').PRODUCT,false);if(this.props.nuxTipID)c('PagesCalloutHelper').logXout(this.props.nuxTipID);}});f.exports=k;}),null);
__d('PageCommerceProductVariantPage.react',['cx','fbt','glyph','AccessibleTableParts.react','AdsCurrencyInput.react','AdsHelpLink.react','CommerceProductVariantType','CommerceUI','DummySearchSource','FreeformSearchSource','Image.react','Layout.react','Link.react','NumberInput.atlas','React','SearchableEntry','XUIGrayText.react','XUISingleSelector.react','XUITable.react','XUITokenizer.react','isEmpty'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('AccessibleTableParts.react').BodyRow,m=c('AccessibleTableParts.react').HeadRow,n=c('Layout.react').Column,o=c('Layout.react').FillColumn,p=c('XUISingleSelector.react').Option,q=c('React').createClass({displayName:'PageCommerceProductVariantPage',propTypes:{currencyCode:k.string.isRequired,defaultVariantPrice:k.number,getPriceError:k.func.isRequired,isOnSale:k.bool.isRequired,setVariantInfo:k.func.isRequired,variants:k.arrayOf(k.shape({label:k.string,options:k.arrayOf(k.string)})).isRequired,variantItems:k.objectOf(k.shape({properties:k.object,price:k.number.isRequired,salePrice:k.number.isRequired,inventory:k.number,productID:k.number})).isRequired},_cachedItems:{},_deepClone:function r(s){return JSON.parse(JSON.stringify(s));},getInitialState:function r(){this._cachedItems=this._deepClone(this.props.variantItems);return {searchSource:new (c('FreeformSearchSource'))(new (c('DummySearchSource'))(),function(s){return s;},0)};},render:function r(){var s=null;if(this.props.variants.length<c('CommerceUI').MAX_VARIANTS)s=c('React').createElement(c('Link.react'),{onClick:this._addNewVariantInput},'Add Variant');return (c('React').createElement('div',{className:"_3-8j"},c('React').createElement('div',{ref:'variant_input_list'},this.props.variants.map(function(t,u){return (this._getVariantInput(t,u,this._getVariantLabels()));}.bind(this))),s,this._getVariantsTable()));},_getVariantInput:function r(s,t,u){return (c('React').createElement('div',{key:'variant'+t,className:"_3-95"},c('React').createElement(c('Layout.react'),null,c('React').createElement(n,null,this._getVariantOptions(s,t,u)),c('React').createElement(o,{className:"_2pis"},c('React').createElement(c('XUITokenizer.react'),{entries:this._getTokenizerEntries(s),searchSource:this.state.searchSource,onRemoveEntryAttempt:this._onRemoveVariantOptionAttempt.bind(this,s,t),onAddEntryAttempt:this._onAddVariantOptionAttempt.bind(this,s,t),tokenizeQueryString:this._tokenizeQueryString.bind(this,s,t),selectOnBlur:true})),c('React').createElement(n,null,c('React').createElement(c('Image.react'),{className:"_11dw",onClick:this._removeVariant.bind(this,s,t),src:j('remove')})))));},_getVariantsTable:function r(){if(c('isEmpty')(this.props.variants))return null;var s=[];for(var t in this.props.variantItems){var u=this.props.variantItems[t],v=u.properties,w=[];this.props.variants.forEach(function(z,aa){var ba=v&&v[z.label]?v[z.label]:'';w.push(c('React').createElement('td',{className:"_2ncv",key:aa},ba));});w.push(c('React').createElement('td',{width:'50',key:t+'inventory'},c('React').createElement(c('NumberInput.atlas'),{isZeroValidValue:true,name:'inventory',nonnegative:true,value:u.inventory,formatNumber:false,onValueUpdated:this._updateVariantItem.bind(this,t,'inventory')})));var x=u.price*100;w.push(c('React').createElement('td',{width:'50',key:t+'price'},c('React').createElement(c('AdsCurrencyInput.react'),{currency:this.props.currencyCode,onDataUpdate:this._updateVariantPrice.bind(this,t),value:x,xuiError:this.props.getPriceError(u.price)})));if(this.props.isOnSale)w.push(c('React').createElement('td',{width:'50',key:t+'salePrice'},c('React').createElement(c('AdsCurrencyInput.react'),{currency:this.props.currencyCode,onDataUpdate:this._updateVariantSalePrice.bind(this,t),value:u.salePrice*100,xuiError:this.props.getPriceError(u.salePrice)})));s.push(c('React').createElement(l,{key:t},w));}var y=[];this.props.variants.forEach(function(z,aa){y.push(c('React').createElement('th',{key:z.label+aa},z.label));});y.push(c('React').createElement('th',{key:'inventory'},i._("Inventory")));y.push(c('React').createElement('th',{key:'price'},i._("Price")));if(this.props.isOnSale)y.push(c('React').createElement('th',{key:'salePrice'},i._("Sale Price"),c('React').createElement(c('AdsHelpLink.react'),{width:350,position:'below'},i._("You can disable individual \"Sale Prices\" by setting them equal to regular \"Prices\"."))));return (c('React').createElement(c('XUITable.react'),{outerBorder:true,className:"_2ncw"},c('React').createElement('thead',null,c('React').createElement(m,null,y)),c('React').createElement('tbody',null,s)));},_updateVariantPrice:function r(s,t){this._updateVariantItem(s,'price',t/100);},_updateVariantSalePrice:function r(s,t){this._updateVariantItem(s,'salePrice',t/100);},_updateVariantItem:function r(s,t,u){var v=this.props.variantItems;v[s][t]=u;this._cachedItems[s][t]=u;this.props.setVariantInfo({variantItems:v});},_getVariantItems:function r(s){var t={};if(s.length===0)return t;this._getVariantCombos(s.slice(0)).forEach(function(u){var v=[];for(var w in u)v.push(u[w]);v.sort();var x=JSON.stringify(v);if(x in this._cachedItems){t[x]=this._deepClone(this._cachedItems[x]);}else{t[x]={properties:u,price:this.props.defaultVariantPrice,salePrice:this.props.defaultVariantPrice,inventory:0};this._cachedItems[x]=this._deepClone(t[x]);}}.bind(this));return t;},_getVariantCombos:function r(s){if(s.length===0)return [{}];var t=[],u=s.shift(),v=this._getVariantCombos(s.slice(0));if(u.options.length==0)return v;u.options.forEach(function(w){v.forEach(function(x){var y=Object.assign({},x);y[u.label]=w;t.push(y);});});return t;},_getTokenizerEntries:function r(s){return s.options.map(function(t){return new (c('SearchableEntry'))({uniqueID:t,title:t});});},_onRemoveVariantOptionAttempt:function r(s,t,u){var v=u.getTitle().trim(),w=s.options.indexOf(v);if(w>=0)s.options.splice(w,1);this._updateVariant(s,t);},_onAddVariantOptionAttempt:function r(s,t,u){var v=u.getTitle().trim();if(s.options.indexOf(v)>=0||v.length===0)return;s.options.push(v);this._updateVariant(s,t);},_updateVariant:function r(s,t){var u=this.props.variants;u[t]=s;var v=this._getVariantItems(u);this.props.setVariantInfo({variants:u,variantItems:v});},_tokenizeQueryString:function r(s,t,u){if(!u||!u.includes(','))return null;var v=u.split(',').filter(function(x){return x!=='';}),w=v.pop();v.map(function(x){this._onAddVariantOptionAttempt(s,t,new (c('SearchableEntry'))({uniqueID:x,title:x}));}.bind(this));return new (c('SearchableEntry'))({uniqueID:w,title:w});},_addNewVariantInput:function r(){var s=this.props.variants;s.push(this._getDefaultVariant());this.props.setVariantInfo({variants:s,variantItems:this._getVariantItems(s)});},_removeVariant:function r(s,t){var u=this.props.variants;u.splice(t,1);this.props.setVariantInfo({variants:u,variantItems:this._getVariantItems(u)});},_getVariantLabels:function r(){return this.props.variants.map(function(s){return String(s.label);});},_getDefaultVariant:function r(){var s=this._getVariantLabels(),t=void 0;for(var u in c('CommerceProductVariantType')){var v=c('CommerceProductVariantType')[u];if(s.indexOf(v)===-1){t=v;break;}}return {label:t,options:[]};},_getVariantOptions:function r(s,t,u){var v=[];for(var w in c('CommerceProductVariantType')){var x=c('CommerceProductVariantType')[w];if(s.label!==x&&u.indexOf(x)!==-1)continue;v.push(c('React').createElement(p,{key:w+t,value:x},x));}return (c('React').createElement(c('XUISingleSelector.react'),{className:"_11dy",onChange:this._onSelectorChange.bind(this,s,t),value:s.label,size:'large'},v));},_onSelectorChange:function r(s,t,u){s.label=u.value;this._updateVariant(s,t);}});f.exports=q;}),null);
__d('PageContentTabDispatcher',['Dispatcher_DEPRECATED','PageContentTabConstants'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('PageContentTabConstants').ACTION_TYPES,k=c('PageContentTabConstants').PAYLOAD_SOURCES,l=c('PageContentTabConstants').TABS;h=babelHelpers.inherits(m,c('Dispatcher_DEPRECATED'));i=h&&h.prototype;m.prototype.handleServerResponse=function(n){'use strict';this.dispatch({action:n,payloadSource:k.SERVER});};m.prototype.handleViewAction=function(n){'use strict';this.dispatch({action:n,payloadSource:k.VIEW_ACTION});};m.prototype.handleInitialization=function(n,o,p,q){'use strict';if(n.externalURI)return;this.dispatch({action:{posts:{key:o,data:p},actionType:j.ADD_POSTS,tab:n,pageID:q},payloadSource:k.SERVER});};m.prototype.handlePostRemoved=function(n,o,p){'use strict';if(p){this.dispatch({payloadSource:k.VIEW_ACTION,action:{actionType:j.REMOVE_POST,postID:o,tab:p,pageID:n}});}else Object.keys(l).forEach(function(q){return this.dispatch({payloadSource:k.VIEW_ACTION,action:{actionType:j.REMOVE_POST,postID:o,tab:q,pageID:n}});}.bind(this),this);};m.prototype.handlePostsRemoved=function(n,o,p){'use strict';if(p){this.dispatch({payloadSource:k.VIEW_ACTION,action:{actionType:j.REMOVE_POSTS,postIDs:o,tab:p,pageID:n}});}else Object.keys(l).forEach(function(q){return this.dispatch({payloadSource:k.VIEW_ACTION,action:{actionType:j.REMOVE_POSTS,postIDs:o,tab:q,pageID:n}});}.bind(this));};m.prototype.handlePageInitialization=function(n){'use strict';this.dispatch({payloadSource:k.SERVER,action:{page:n,actionType:j.INIT_PAGE}});};m.prototype.handlePostCreated=function(n,o,p){'use strict';this.dispatch({payloadSource:k.VIEW_ACTION,action:{tab:n,actionType:j.CREATE_POST,post:o,pageID:p}});};m.prototype.handlePostsCreated=function(n,o,p){'use strict';this.dispatch({payloadSource:k.VIEW_ACTION,action:{tab:n,actionType:j.CREATE_POSTS,posts:o,pageID:p}});};m.prototype.handlePostChanged=function(n,o,p,q){'use strict';this.dispatch({payloadSource:k.SERVER,action:{actionType:j.EDIT_POSTS,isViewedUpdated:q,posts:[n],tab:o,pageID:p}});};m.prototype.handlePostsChanged=function(n,o,p,q){'use strict';this.dispatch({payloadSource:k.SERVER,action:{actionType:j.EDIT_POSTS,isViewedUpdated:q,posts:n,tab:o,pageID:p}});};m.prototype.handleStaleContentNoticeStatus=function(n,o,p){'use strict';this.dispatch({payloadSource:k.VIEW_ACTION,action:{tab:o,actionType:j.UPDATE_STALE_CONTENT_NOTICE,status:p,pageID:n}});};m.prototype.handleFilterStatus=function(n,o,p){'use strict';this.dispatch({payloadSource:k.VIEW_ACTION,action:{tab:o,actionType:j.UPDATE_FILTER_STATUS,status:p,pageID:n}});};m.prototype.handleSetCustomTabState=function(n,o,p){'use strict';this.dispatch({payloadSource:k.VIEW_ACTION,action:{tab:n,actionType:j.SET_CUSTOM_TAB_STATE,customTabState:o,pageID:p}});};m.prototype.handleError=function(n,o,p){'use strict';this.dispatch({payloadSource:k.SERVER,action:{tab:n,actionType:j.ERROR,error:o,pageID:p}});};m.prototype.handlePagingChanged=function(n,o,p,q){'use strict';this.dispatch({payloadSource:k.VIEW_ACTION,action:{tab:o,pageID:n,actionType:j.PAGING_CHANGED,currentPage:q,queryKey:p}});};m.prototype.handleQueryKeyChanged=function(n,o,p){'use strict';this.dispatch({payloadSource:k.VIEW_ACTION,action:{tab:o,actionType:j.QUERY_KEY_CHANGED,pageID:n,queryKey:p}});};m.prototype.handleQueryChanged=function(n,o,p){'use strict';this.dispatch({payloadSource:k.VIEW_ACTION,action:{tab:o,actionType:j.QUERY_CHANGED,pageID:n,query:p}});};m.prototype.handleFilterChanged=function(n,o,p){'use strict';this.dispatch({payloadSource:k.VIEW_ACTION,action:{tab:o,actionType:j.FILTER_CHANGED,pageID:n,filter:p}});};m.prototype.handleSortChanged=function(n,o,p){'use strict';this.dispatch({payloadSource:k.VIEW_ACTION,action:{tab:o,actionType:j.SORT_CHANGED,pageID:n,sort:p}});};m.prototype.handleBringPostToTop=function(n,o,p){'use strict';this.dispatch({payloadSource:k.VIEW_ACTION,action:{tab:n,actionType:j.BRING_POST_TO_TOP,post:o,pageID:p}});};function m(){'use strict';h.apply(this,arguments);}f.exports=new m();}),null);
__d('ComputerPanelActionState',['keyMirror'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({NEUTRAL:null,DROP:null});f.exports=h;}),null);
__d('DragDropFilePicker',['DragDropTarget','mixin','ArbiterMixin','FilePickerEvent','FileSelectionContainer','createArrayFromMixed','SelectionSource'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this);this.$DragDropFilePicker1=new (c('DragDropTarget'))(k);if(l.onDocumentDragEnterCallback)this.$DragDropFilePicker1.setOnDocumentDragEnterCallback(l.onDocumentDragEnterCallback);if(l.onDocumentDragLeaveCallback)this.$DragDropFilePicker1.setOnDocumentDragLeaveCallback(l.onDocumentDragLeaveCallback);if(l.onDragEnterCallback)this.$DragDropFilePicker1.setOnDragEnterCallback(l.onDragEnterCallback);if(l.onDragLeaveCallback)this.$DragDropFilePicker1.setOnDragLeaveCallback(l.onDragLeaveCallback);this.$DragDropFilePicker1.setOnFilesDropCallback(function(m){var n=c('createArrayFromMixed')(m).filter(function(o){return !l.isFileValid||l.isFileValid(o);}).map(function(o){return new (c('FileSelectionContainer'))(o);});if(n.length>0){this.inform(c('FilePickerEvent').SELECTED,{sender:this,source:c('SelectionSource').FILE,selections:n});}else l.onDocumentDragLeaveCallback.call(null);}.bind(this));this.$DragDropFilePicker1.enable();}j.prototype.disable=function(){'use strict';this.$DragDropFilePicker1.disable();};f.exports=j;}),null);
__d('OmnipickerHTML5FilePickerFactory',['fbt','HTML5FilePicker','PUWApplications','PUWMethods','PUWUploaders'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={create:function j(k){return new (c('HTML5FilePicker'))(k,{accept:'image/*',fallbackFunction:function l(){},multiple:true,qn:'todo',waterfallApp:c('PUWApplications').WEB_OMNIPICKER,waterfallUploader:c('PUWUploaders').HTML5,waterfallMethod:c('PUWMethods').FILE_SELECTOR,title:h._("Choose files to upload")});}};f.exports=i;}),null);
__d('OmnipickerDispatcher',['Dispatcher_DEPRECATED'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new (c('Dispatcher_DEPRECATED'))();}),null);
__d('OmnipickerActions',['OmnipickerDispatcher','clamp','keyMirror'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({APP_INITIALIZED:null,FILE_PICKER_SELECT_STARTED:null,FILE_PICKER_SELECTED:null,FILE_PICKER_SELECT_CANCELED:null,EXISTING_PHOTOS_FETCHED:null,PANEL_INITIALIZED:null,PHOTO_SELECTED_OPTIMISTICALLY:null,PHOTO_SOURCE_SELECTED:null,RESIZE_FAILED:null,RESIZE_STARTED:null,RESIZE_SUCCEEDED:null,SELECTION_CHANGED:null,UPLOAD_CANCELED:null,UPLOAD_FAILED:null,UPLOAD_FINISHED:null,UPLOAD_PROGRESSED:null,UPLOAD_QUEUED:null,UPLOAD_STARTED:null}),i={types:h,appInitialized:function j(k,l,m){c('OmnipickerDispatcher').dispatch({type:h.APP_INITIALIZED,appID:k,logger:l,initialSource:m});},panelInitialized:function j(k,l){c('OmnipickerDispatcher').dispatch({type:h.PANEL_INITIALIZED,appID:k,source:l});},photoSourceSelected:function j(k,l){c('OmnipickerDispatcher').dispatch({type:h.PHOTO_SOURCE_SELECTED,appID:k,source:l});},filePickerSelectStarted:function j(k,l,m){c('OmnipickerDispatcher').dispatch({type:h.FILE_PICKER_SELECT_STARTED,appID:k,method:l,ref:m});},filePickerSelected:function j(k,l,m){c('OmnipickerDispatcher').dispatch({type:h.FILE_PICKER_SELECTED,appID:k,method:l,ref:m});},filePickerSelectCancelled:function j(k,l,m){c('OmnipickerDispatcher').dispatch({type:h.FILE_PICKER_SELECT_CANCELED,appID:k,method:l,ref:m});},resizeFailed:function j(k,l,m,n){c('OmnipickerDispatcher').dispatch({type:h.RESIZE_FAILED,appID:k,dt:l,bytes:m,errorCode:n});},resizeStarted:function j(k){c('OmnipickerDispatcher').dispatch({type:h.RESIZE_STARTED,appID:k});},resizeSucceeded:function j(k,l,m,n,o){c('OmnipickerDispatcher').dispatch({type:h.RESIZE_SUCCEEDED,appID:k,dt:l,bytes:m,originalSize:n,customTags:o});},uploadQueued:function j(k,l,m){c('OmnipickerDispatcher').dispatch({type:h.UPLOAD_QUEUED,appID:k,source:l,ids:m.map(function(n){return n.getSelectionContainerID();}),volume:m.length});},selectionChanged:function j(k,l,m,n){c('OmnipickerDispatcher').dispatch({type:h.SELECTION_CHANGED,appID:k,source:l,id:m,checked:n});},uploadStart:function j(k,l,m,n){c('OmnipickerDispatcher').dispatch({type:h.UPLOAD_STARTED,appID:k,source:l,id:m,bytes:n});},uploadProgress:function j(k,l,m,n){var o=c('clamp')(n.bytesTransferred/n.file.size*100,0,100);c('OmnipickerDispatcher').dispatch({type:h.UPLOAD_PROGRESSED,appID:k,source:l,id:m,progress:o});},uploadDone:function j(k,l,m,n,o,p){c('OmnipickerDispatcher').dispatch({type:h.UPLOAD_FINISHED,appID:k,source:l,id:m,src:n,fbid:o,retriesNeeded:p});},uploadFailed:function j(k,l,m,n,o){c('OmnipickerDispatcher').dispatch({type:h.UPLOAD_FAILED,appID:k,source:l,id:m,retriesNeeded:n,errorCode:o});},existingPhotosFetched:function j(k,l,m){c('OmnipickerDispatcher').dispatch({type:h.EXISTING_PHOTOS_FETCHED,appID:k,photos:m.map(function(n){return {source:l,id:n.id,src:n.image.uri};})});},optimisticSelect:function j(k,l,m){c('OmnipickerDispatcher').dispatch({type:h.PHOTO_SELECTED_OPTIMISTICALLY,appID:k,source:l,id:m});},cancelUpload:function j(k,l,m){c('OmnipickerDispatcher').dispatch({type:h.UPLOAD_CANCELED,appID:k,source:l,id:m});}};f.exports=i;}),null);
__d('OmnipickerUploadController',['OmnipickerActions','SelectionSource'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.$OmnipickerUploadController1={};}h.prototype.registerOmnipicker=function(i){this.$OmnipickerUploadController1[i]={};};h.prototype.registerAdapter=function(i,j,k){this.$OmnipickerUploadController1[i][k]=j;var l=c('SelectionSource').toPhotoSourceType(k);j.subscribe('maxReached',function(){});j.subscribe('resize_start',this.$OmnipickerUploadController2.bind(this,i));j.subscribe('resize_done',this.$OmnipickerUploadController3.bind(this,i));j.subscribe('resize_hires_start',function(){});j.subscribe('upload_start',this.$OmnipickerUploadController4.bind(this,i,l));j.subscribe('upload_progress',this.$OmnipickerUploadController5.bind(this,i,l));j.subscribe('upload_done',this.$OmnipickerUploadController6.bind(this,i,l));j.subscribe('upload_failed',this.$OmnipickerUploadController7.bind(this,i,l));j.subscribe('finished',function(){});};h.prototype.uploadSelections=function(i,j,k,l){if(!k.every(function(o){return o.getSource()==j;}))throw new Error("Selections' source must be "+j);var m=this.$OmnipickerUploadController1[i][j],n=c('SelectionSource').toPhotoSourceType(j);if(!m){k.forEach(function(o){var p=o.getExistingImageID(),q=o.getSrc();c('OmnipickerActions').uploadDone(i,n,p,q,p,0);});return;}if(!k[0].hasPlaceholderUI())c('OmnipickerActions').uploadQueued(i,n,k);m.uploadSelections(k,l);};h.prototype.cancelUpload=function(i,j,k){c('OmnipickerActions').cancelUpload(i,j,k);};h.prototype.$OmnipickerUploadController2=function(i,event,j){c('OmnipickerActions').resizeStarted(i);};h.prototype.$OmnipickerUploadController3=function(i,event,j){var k=j.scubaData.scuba_ints,l=k.timeResizing||k.dt,m=k.resizedSize;if(j.error){c('OmnipickerActions').resizeFailed(i,l,m,j.error.message);}else c('OmnipickerActions').resizeSucceeded(i,l,m,k.originalSize,{skipped_resizing:j.scubaData.scuba_tags.skippedResizing});};h.prototype.$OmnipickerUploadController4=function(i,j,event,k){c('OmnipickerActions').uploadStart(i,j,k.uploadID,k.size);};h.prototype.$OmnipickerUploadController5=function(i,j,event,k){c('OmnipickerActions').uploadProgress(i,j,k.uploadID,k);};h.prototype.$OmnipickerUploadController6=function(i,j,event,k){c('OmnipickerActions').uploadDone(i,j,k.uploadID,k.response.src,k.response.fbid,k.retriesNeeded);};h.prototype.$OmnipickerUploadController7=function(i,j,event,k){c('OmnipickerActions').uploadFailed(i,j,k.uploadID,k.retriesNeeded,k.response_error);};f.exports=new h();}),null);
__d('OmnipickerUploadSession',['FilePickerEvent','OmnipickerActions','OmnipickerUploadController','PhotoSourceTypes','SubscriptionsHandler'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.$OmnipickerUploadSession1={};}h.prototype.registerOmnipicker=function(i){this.$OmnipickerUploadSession1[i]={pickersData:[]};};h.prototype.addPicker=function(i,j,k,l){var m=new (c('SubscriptionsHandler'))();m.addSubscriptions(j.subscribe(c('FilePickerEvent').SELECT_START,function(n,o){c('OmnipickerActions').filePickerSelectStarted(i,l,k);}),j.subscribe(c('FilePickerEvent').SELECTED,function(n,o){if(o.selections&&o.selections.length>0){c('OmnipickerActions').filePickerSelected(i,l,k);var p=o.selections[0].getSource();c('OmnipickerUploadController').uploadSelections(i,p,o.selections);}}),j.subscribe(c('FilePickerEvent').SELECT_CANCELED,function(n,o){c('OmnipickerActions').filePickerSelectCancelled(i,l,k);}));this.$OmnipickerUploadSession1[i].pickersData.push({picker:j,subscriptions:m});};h.prototype.removePicker=function(i,j){var k=this.$OmnipickerUploadSession1[i].pickersData;k.forEach(function(l,m){if(l.picker===j){l.subscriptions.release();k.splice(m,1);}});};h.prototype.cancelUpload=function(i,j,k){if(j!==c('PhotoSourceTypes').COMPUTER)throw new Error('Can only cancel '+c('PhotoSourceTypes').COMPUTER+' uploads. '+'Actual source: '+j);c('OmnipickerUploadController').cancelUpload(i,j,k);};f.exports=new h();}),null);
__d('HTML5FilePickerButton.react',['fbt','OmnipickerHTML5FilePickerFactory','OmnipickerUploadSession','React','ReactDOM','PhotoSourceTypes','PUWMethods','XUIButton.react'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.componentDidMount=function(){'use strict';this.picker=c('OmnipickerHTML5FilePickerFactory').create(c('ReactDOM').findDOMNode(this.refs.fileButton));c('OmnipickerUploadSession').addPicker(this.props.appID,this.picker,c('PhotoSourceTypes').COMPUTER,c('PUWMethods').FILE_SELECTOR);};l.prototype.componentWillUnmount=function(){'use strict';c('OmnipickerUploadSession').removePicker(this.props.appID,this.picker);};l.prototype.render=function(){'use strict';var m=h._("Select Files");return (c('React').createElement(c('XUIButton.react'),{ref:'fileButton',href:'#',size:'xlarge',label:m}));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={appID:k.string.isRequired};f.exports=l;}),null);
__d('DragDropInstructions.react',['cx','fbt','ComputerPanelActionState','HTML5FilePickerButton.react','React'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.renderInstructions=function(){switch(this.props.actionState){case c('ComputerPanelActionState').DROP:return (c('React').createElement('div',null,c('React').createElement('div',{className:"_39ld"},c('React').createElement('div',{className:"_4zwj"})),c('React').createElement('div',{className:"_4zwc"},i._("Drop photos here"))));case c('ComputerPanelActionState').NEUTRAL:return (c('React').createElement('div',null,c('React').createElement('div',null,c('React').createElement('div',{className:"_39ld"},c('React').createElement('div',{className:"_4zwd"})),c('React').createElement('div',{className:"_4zwc"},i._("Drag photos here"))),c('React').createElement('div',{className:"_4zwi"},c('React').createElement('span',{className:"_4zwe"}),i._("or"),c('React').createElement('span',{className:"_4zwe"})),c('React').createElement('div',{className:"_4zwf"},c('React').createElement(c('HTML5FilePickerButton.react'),{appID:this.props.appID}))));}}.bind(this),this.renderOverlay=function(){return (c('React').createElement('div',{className:"_4zwg"},c('React').createElement('div',{className:"_4zwh"},this.renderInstructions())));}.bind(this),o;}m.prototype.render=function(){'use strict';if(this.props.isOverlay)return this.renderOverlay();return this.renderInstructions();};m.propTypes={actionState:l.oneOf(Object.keys(c('ComputerPanelActionState'))).isRequired,appID:l.string.isRequired,isOverlay:l.bool};f.exports=m;}),null);
__d('EmptyPanel.react',['cx','DragDropInstructions.react','React','ComputerPanelActionState'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m="_2gyt"+(this.props.actionState===c('ComputerPanelActionState').NEUTRAL?' '+"_2gyu":'')+(this.props.actionState===c('ComputerPanelActionState').DROP?' '+"_2gyw":'');return (c('React').createElement('div',{className:m},c('React').createElement('div',{className:"_2gyv"},c('React').createElement(c('DragDropInstructions.react'),{actionState:this.props.actionState,appID:this.props.appID}))));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={actionState:k.oneOf(Object.keys(c('ComputerPanelActionState'))).isRequired,appID:k.string.isRequired};f.exports=l;}),null);
__d('HTML5UploadAdapter',['AsyncUploadQueue','ArbiterMixin','PhotosUploadWaterfall','PhotosUploadWaterfallMixin','PhotosMimeType','JpegResizer','QE','SphericalImage','SphericalPhotoConfig','performanceNow','URI'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){this._config=babelHelpers['extends']({maxRetries:0,retryTimeout:250,uri:null,qn:null,postParams:{}},i);this._uploads={};this._numProcessing=0;this._activeUploadCount=0;this._uploadQueue=new (c('AsyncUploadQueue'))(this._config.uri);this._uploadQueue.setAllowCrossOrigin(true);this._uploadQueue.setLimit(i.maxParallel);this._uploadQueue.subscribe('start',this._handleStart.bind(this));this._uploadQueue.subscribe('failure',this._handleFailure.bind(this));this._uploadQueue.subscribe('success',this._handleSuccess.bind(this));this._uploadQueue.subscribe('progress',this._handleProgress.bind(this));this._uploadQueue.subscribe('success_after_abort',this._handleCanceledPhotoUploadedAnyway.bind(this));this._jpegResizer=new (c('JpegResizer'))(i.maxParallel);if(i.hasOwnProperty('useHighQuality'))this._jpegResizer.setHighQuality(i.useHighQuality);this._uploadQueue.setPreprocessHandler(this._resizeUpload.bind(this));}Object.assign(h,{isSupported:function i(){return c('AsyncUploadQueue').isSupported()&&c('JpegResizer').isSupported();},MAX_WIDTH:2048,MAX_HEIGHT:2048});Object.assign(h.prototype,c('ArbiterMixin'),c('PhotosUploadWaterfallMixin'),{getUploaderApp:function i(){return c('PhotosUploadWaterfall').APP_HTML5;},getWaterfallID:function i(){return this._config.qn;},getWaterfallSource:function i(){return this._config.ref;},uploadFiles:function i(j,k){var l=function(n,o){n.isSpherical=o;this._enqueueUpload(n,babelHelpers['extends']({},this._config.postParams,k));}.bind(this),m=function n(o){if(c('SphericalPhotoConfig').www_spherical_photo_album){c('SphericalImage').isSphericalBlob(o).then(function(p){l(o,p);}).done();}else l(o,false);};j.forEach(m);},uploadSelections:function i(j,k){var l=j.map(function(m){var n=m.getFile();n.uploadID=m.getSelectionContainerID();return n;});this.uploadFiles(l,k);},setHiRes:function i(j){if(this._config.hasOwnProperty('useHighQuality'))this._jpegResizer.setHighQuality(j);},setNumSelected:function i(j){},markDeleted:function i(j){},addPostParam:function i(j,k){this._config.postParams=this._config.postParams||{};this._config.postParams[j]=k;},cancelIndividualUpload:function i(j){var k=this._getUpload(j);if(k){this._uploadQueue.dequeue(k);this._removeUpload(k);}},cancelAllUploads:function i(){for(var j in this._uploads){var k=this._getUpload(j);this._uploadQueue.dequeue(k);this._removeUpload(k);}},getActiveUploadCount:function i(){return this._activeUploadCount;},_getUpload:function i(j){if(j&&this._uploads[j]){return this._uploads[j];}else return null;},_removeUpload:function i(j){if(!this._uploads[j.getFile().uploadID])return;delete this._uploads[j.getFile().uploadID];if(!j.isWaiting())this._activeUploadCount--;},_handleStart:function i(j,k){this._activeUploadCount++;this.inform('upload_start',{uploadID:k.getFile().uploadID,retry:!!k.getFile()._retryCount,file:k.getFile(),size:k.getFile().size});},_handleFailure:function i(j,k){var l=Math.pow(2,k.getFile()._retryCount);this._removeUpload(k);if(k.getFile()._retryCount++<this._config.maxRetries){setTimeout(this._enqueueUpload.bind(this,k.getFile(),babelHelpers['extends']({},this._config.postParams,{retry:k.getFile()._retryCount})),this._config.retryTimeout*l);this.logWaterfallStep(c('PhotosUploadWaterfall').RETRY_UPLOAD,{code:k.getResponse().getError()});this.inform('upload_retry',{uploadID:k.getFile().uploadID,file:k.getFile(),response:k.getResponse(),retry:k.getFile()._retryCount});}else this.inform('upload_failed',{uploadID:k.getFile().uploadID,file:k.getFile(),response:k.getResponse()});return false;},_handleSuccess:function i(j,k){this._removeUpload(k);var l=k.getResponse(),m=l.payload;if(m.metadata)m=m.metadata;this.inform('upload_done',{uploadID:k.getFile().uploadID,response:m[0],hiRes:true,retriesNeeded:k.getFile()._retryCount});},_handleProgress:function i(j,k){this.inform('upload_progress',{file:k.getFile(),uploadID:k.getFile().uploadID,bytesTransferred:k.getProgressEvent().loaded});},_resizeUpload:function i(j,k){var l=j.getFile();if(!c('PhotosMimeType').isJpeg(l.type))return k(j);this.inform('resize_start',{uploadID:l.uploadID,file:l});var m=c('performanceNow')(),n=function(o,p,q){if(o)this.logWaterfallStep(c('PhotosUploadWaterfall').CLIENT_ERROR,{code:c('PhotosUploadWaterfall').CERROR_RESIZING_FAILED,meta:{message:o.message}});var r=o||q;this.inform('resize_done',{uploadID:l.uploadID,scubaData:{scuba_tags:{skippedResizing:+r},scuba_ints:{timeResizing:c('performanceNow')()-m,originalSize:l.size,resizedSize:p&&p.size}},error:o});if(!r){p.uploadID=l.uploadID;p.name=l.name;j.setFile(p);}k(j);}.bind(this);if(l.isSpherical)c('QE').logExposure('spherical_photo');if(c('SphericalPhotoConfig').www_spherical_photo_album&&l.isSpherical){this._jpegResizer.resize360Blob(l,n);}else this._jpegResizer.resizeBlob(l,n);},_handleCanceledPhotoUploadedAnyway:function i(j,k){this.inform('canceled_photo_uploaded',k.payload[0].fbid);},_enqueueUpload:function i(j,k){k=babelHelpers['extends']({},k,{uploader:'html5'});j._retryCount=j._retryCount||0;this._uploads[j.uploadID]=j._retryCount?this._uploadQueue.prepend(j.fileName,j,k):this._uploadQueue.enqueue(j.fileName,j,k);}});f.exports=h;}),null);
__d('OmnipickerPanelMixin.react',['PhotoSourceTypes','React'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i={propTypes:{appID:h.string,photoData:h.object,sourceType:h.oneOf(Object.keys(c('PhotoSourceTypes'))),selectionSource:h.string.isRequired}};f.exports=i;}),null);
__d('OmnipickerPhotoUploadState',['keyMirror'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({NOT_STARTED:null,UPLOADING:null,DONE:null,FAILED:null});f.exports=h;}),null);
__d('OmnipickerPhoto.react',['cx','fbt','Event','Image.react','OmnipickerActions','OmnipickerPhotoUploadState','OmnipickerUploadSession','PhotoSourceTypes','ProgressBar.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=20000;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={canCancel:false},this.onDragStart=function(event){c('Event').kill(event);},this.onMouseDown=function(){},this.onMouseUp=function(){var t=true;if(!this.props.checked&&this.props.onPhotoSelected)t=this.props.onPhotoSelected.call(null,this.props.id);if(t)c('OmnipickerActions').selectionChanged(this.props.appID,this.props.photoSourceType,this.props.id,!this.props.checked);}.bind(this),this.getImage=function(){if(!this.props.src)return null;return (c('React').createElement(c('Image.react'),{src:this.props.src,className:"_2dh3"}));}.bind(this),this.getSelection=function(){if(!this.props.checked)return null;return c('React').createElement('div',{className:"_2dh3 _1cyy"});}.bind(this),this.getCancelOverlay=function(){if(this.props.uploadState!==c('OmnipickerPhotoUploadState').UPLOADING||!this.state.canCancel)return null;return (c('React').createElement('div',{className:"_5goe"},c('React').createElement('div',{className:"_5gof _1cu0",onClick:this.onCancel},i._("Cancel Upload"))));}.bind(this),this.getFailedOverlay=function(){if(this.props.uploadState!==c('OmnipickerPhotoUploadState').FAILED)return null;return (c('React').createElement('div',{className:"_5goe"},c('React').createElement('div',{className:"_5gof"},i._("Upload Failed"))));}.bind(this),this.getProgressBar=function(){if(!this.props.showUploadProgress||this.props.uploadState!==c('OmnipickerPhotoUploadState').UPLOADING)return null;var t=null;if(this.props.progress<100){t=c('React').createElement(c('ProgressBar.react'),{value:this.props.progress,min:0,max:100});}else t=c('React').createElement('div',{className:"_1t2c"});return (c('React').createElement('div',{className:"_1cyx"},t));}.bind(this),this.onCancel=function(){c('OmnipickerUploadSession').cancelUpload(this.props.appID,this.props.photoSourceType,this.props.id);}.bind(this),this.setCancelTimeout=function(){this.cancelTimeout=setTimeout(function(){this.setState({canCancel:true});}.bind(this),m);}.bind(this),this.clearCancelTimeout=function(){if(this.cancelTimeout){clearTimeout(this.cancelTimeout);this.cancelTimeout=null;}}.bind(this),p;}n.prototype.componentDidMount=function(){if(this.props.supportsCancel&&this.props.uploadState===c('OmnipickerPhotoUploadState').UPLOADING)this.setCancelTimeout();};n.prototype.componentWillReceiveProps=function(o){if(this.props.supportsCancel){var p=this.props.uploadState!==o.uploadState||this.props.progress!==o.progress;if(p){this.clearCancelTimeout();if(o.uploadState===c('OmnipickerPhotoUploadState').UPLOADING)this.setCancelTimeout();}}};n.prototype.componentWillUnmount=function(){this.clearCancelTimeout();};n.prototype.render=function(){return c('React').createElement('div',{className:"_47pv",onDragStart:this.onDragStart,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},this.getImage(),this.getSelection(),this.getCancelOverlay(),this.getFailedOverlay(),this.getProgressBar());};n.propTypes={appID:l.string.isRequired,checked:l.bool,id:l.string.isRequired,onPhotoSelected:l.func,photoSourceType:l.oneOf(Object.keys(c('PhotoSourceTypes'))).isRequired,progress:l.number,showUploadProgress:l.bool,src:l.string,supportsCancel:l.bool,uploadState:l.oneOf([c('OmnipickerPhotoUploadState').NOT_STARTED,c('OmnipickerPhotoUploadState').UPLOADING,c('OmnipickerPhotoUploadState').DONE,c('OmnipickerPhotoUploadState').FAILED]).isRequired};n.defaultProps={checked:false,progress:0,showUploadProgress:true,supportsCancel:false};f.exports=n;}),null);
__d('OmnipickerPhotoGrid.react',['cx','AutoPager.react','OmnipickerPhoto.react','PhotoSourceTypes','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=300;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.getPhotos=function(){return Object.keys(this.props.photos).map(function(s){var t=this.props.photos[s];return (c('React').createElement(c('OmnipickerPhoto.react'),{appID:this.props.appID,checked:t.checked,id:t.id,key:t.id,onPhotoSelected:this.props.onPhotoSelected,photoSourceType:this.props.photoSourceType,progress:t.progress,showUploadProgress:this.props.showUploadProgress,src:t.src,supportsCancel:this.props.supportsCancel,uploadState:t.uploadState}));}.bind(this));}.bind(this),this.getAutoPager=function(){if(!this.props.onScrollPositionThresholdReached)return null;return (c('React').createElement(c('AutoPager.react'),{className:"_4qgs",onEnterBuffer:l,onVisible:this.props.onScrollPositionThresholdReached,scrollableAreaClass:"_xhf"}));}.bind(this),o;}m.prototype.render=function(){return c('React').createElement('div',{className:"_xhf"},c('React').createElement('div',{className:"uiScrollableAreaWrap _1-nf"},this.getPhotos(),this.getAutoPager()));};m.propTypes={appID:k.string.isRequired,onPhotoSelected:k.func,onScrollPositionThresholdReached:k.func,photos:k.object.isRequired,photoSourceType:k.oneOf(Object.keys(c('PhotoSourceTypes'))).isRequired,showUploadProgress:k.bool,supportsCancel:k.bool};m.defaultProps={showUploadProgress:true,supportsCancel:false};f.exports=m;}),null);
__d('PhotoPanel.react',['cx','fbt','ComputerPanelActionState','DragDropInstructions.react','HTML5FilePickerButton.react','OmnipickerPhotoGrid.react','PhotoSourceTypes','React','ReactDOM','Scroll'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={photoCount:0},this.renderInstructions=function(){return (c('React').createElement('div',{className:"_1-nd"},c('React').createElement('div',null,c('React').createElement('div',{className:"_4zwc"},i._("Drag more photos"))),c('React').createElement('div',{className:"_4zwi"},c('React').createElement('span',{className:"_4zwe"}),i._("or"),c('React').createElement('span',{className:"_4zwe"})),c('React').createElement('div',{className:"_4zwf"},c('React').createElement(c('HTML5FilePickerButton.react'),{appID:this.props.appID}))));}.bind(this),this.renderDragAndDropInstructions=function(){if(this.props.actionState!==c('ComputerPanelActionState').NEUTRAL)return (c('React').createElement(c('DragDropInstructions.react'),{actionState:this.props.actionState,appID:this.props.appID,isOverlay:true}));}.bind(this),this.renderPhotoGrid=function(){return (c('React').createElement(c('OmnipickerPhotoGrid.react'),{appID:this.props.appID,photos:this.props.photoData,photoSourceType:c('PhotoSourceTypes').COMPUTER,supportsCancel:true}));}.bind(this),o;}m.prototype.componentWillReceiveProps=function(n){'use strict';var o=Object.keys(n.photoData).length;this.setState({photoCount:o});};m.prototype.componentDidUpdate=function(n,o){'use strict';if(this.state.photoCount>o.photoCount){var p=c('ReactDOM').findDOMNode(this.refs.pickerBox);c('Scroll').setTop(p,p.scrollHeight);}};m.prototype.render=function(){'use strict';return (c('React').createElement('div',null,c('React').createElement('div',{className:"_1x-l"},c('React').createElement('div',{className:"_1-ne _1-nf",ref:'pickerBox'},this.renderPhotoGrid(),this.renderInstructions())),this.renderDragAndDropInstructions()));};m.propTypes={actionState:l.oneOf(Object.keys(c('ComputerPanelActionState'))).isRequired,appID:l.string.isRequired,photoData:l.object.isRequired};f.exports=m;}),null);
__d('ComputerPanel.react',['ComputerPanelActionState','DragDropFilePicker','EmptyPanel.react','FilePickerEvent','HTML5UploadAdapter','React','OmnipickerConfig','OmnipickerPanelMixin.react','OmnipickerUploadSession','PhotosMimeType','PhotoPanel.react','PhotoSourceTypes','PUWMethods','PUWUploaders','SelectionSource'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ComputerPanel',mixins:[c('OmnipickerPanelMixin.react')],statics:{getAdapter:function i(j,k){var l=c('OmnipickerConfig').FILE_UPLOAD_URI;if(k&&k.fileUploadURI)l=k.fileUploadURI;return new (c('HTML5UploadAdapter'))({uri:l,maxRetries:c('OmnipickerConfig').HTML5_UPLOADER_MAX_RETRIES,maxParallel:c('OmnipickerConfig').HTML5_UPLOADER_MAX_PARALLEL,postParams:{},qn:j.getWaterfallID(),waterfallApp:j.getWaterfallAppName(),waterfallUploader:c('PUWUploaders').HTML5});}},getDefaultProps:function i(){return {selectionSource:c('SelectionSource').FILE,sourceType:c('PhotoSourceTypes').COMPUTER};},getInitialState:function i(){return {actionState:c('ComputerPanelActionState').NEUTRAL};},componentDidMount:function i(){this.picker=new (c('DragDropFilePicker'))(document.documentElement,{onDocumentDragEnterCallback:function(){this.setState({actionState:c('ComputerPanelActionState').DROP});}.bind(this),onDocumentDragLeaveCallback:function(){this.setState({actionState:c('ComputerPanelActionState').NEUTRAL});}.bind(this),isFileValid:function j(k){return c('PhotosMimeType').isImage(k.type);}});c('OmnipickerUploadSession').addPicker(this.props.appID,this.picker,c('PhotoSourceTypes').COMPUTER,c('PUWMethods').DRAGDROP);this.picker.subscribe(c('FilePickerEvent').SELECTED,this.onFilesDropped);},componentWillUnmount:function i(){this.picker.disable();c('OmnipickerUploadSession').removePicker(this.props.appID,this.picker);},onFilesDropped:function i(j){this.setState({actionState:c('ComputerPanelActionState').NEUTRAL});},renderEmptyPanel:function i(){return (c('React').createElement(c('EmptyPanel.react'),{actionState:this.state.actionState,appID:this.props.appID}));},renderPhotoPanel:function i(){return (c('React').createElement(c('PhotoPanel.react'),{actionState:this.state.actionState,appID:this.props.appID,photoData:this.props.photoData}));},render:function i(){var j=Object.keys(this.props.photoData).length,k=j===0?this.renderEmptyPanel():this.renderPhotoPanel();return c('React').createElement('div',null,k);}});f.exports=h;}),null);
__d('OmnipickerLoggerStore',['invariant','OmnipickerActions','FluxStore','OmnipickerDispatcher','PUWSteps'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('OmnipickerActions').types;i=babelHelpers.inherits(l,c('FluxStore'));j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$OmnipickerLoggerStore1={};}l.prototype.__onDispatch=function(m){if(m.type===k.APP_INITIALIZED){!m.logger?h(0):void 0;this.$OmnipickerLoggerStore1[m.appID]=m.logger;return;}var n=this.$OmnipickerLoggerStore1[m.appID];!n?h(0):void 0;switch(m.type){case k.FILE_PICKER_SELECT_STARTED:case k.FILE_PICKER_SELECTED:case k.FILE_PICKER_SELECT_CANCELED:this.$OmnipickerLoggerStore2(m,n);break;case k.RESIZE_STARTED:n.logStep(c('PUWSteps').CLIENT_UPLOAD_BEGIN);n.logStep(c('PUWSteps').CLIENT_PROCESS_BEGIN);break;case k.RESIZE_SUCCEEDED:n.logStep(c('PUWSteps').CLIENT_PROCESS_SUCCESS,{dt:m.dt,bytes:m.bytes,media_data_size:m.originalSize,custom_tags:m.customTags});break;case k.RESIZE_FAILED:n.logStep(c('PUWSteps').CLIENT_PROCESS_FAIL,{dt:m.dt,bytes:m.bytes,error_code:m.errorCode});break;case k.UPLOAD_STARTED:n.logStep(c('PUWSteps').CLIENT_TRANSFER_BEGIN,{bytes:m.bytes,ref:m.source});break;case k.UPLOAD_FINISHED:n.logStep(c('PUWSteps').CLIENT_TRANSFER_SUCCESS,{auto_retry_count:m.retriesNeeded,ref:m.source});n.logStep(c('PUWSteps').CLIENT_UPLOAD_SUCCESS,{fbid:m.fbid,ref:m.source});break;case k.UPLOAD_FAILED:n.logStep(c('PUWSteps').CLIENT_UPLOAD_FAIL,{auto_retry_count:m.retriesNeeded,error_code:m.errorCode,ref:m.source});break;case k.UPLOAD_QUEUED:n.logStep(c('PUWSteps').CLIENT_TRANSFER_BATCH_BEGIN,{ref:m.source,volume:m.volume});break;default:}};l.prototype.$OmnipickerLoggerStore2=function(m,n){var o=void 0;switch(m.type){case k.FILE_PICKER_SELECT_STARTED:o=c('PUWSteps').CLIENT_SELECT_BEGIN;break;case k.FILE_PICKER_SELECTED:o=c('PUWSteps').CLIENT_SELECT_SUCCESS;break;case k.FILE_PICKER_SELECT_CANCELED:o=c('PUWSteps').CLIENT_SELECT_CANCEL;break;default:h(0);}var p=m.method,q=m.ref;n.logStep(o,{method:p,ref:q});};f.exports=new l(c('OmnipickerDispatcher'));}),null);
__d('OmnipickerPanelList.react',['cx','ix','Image.react','OmnipickerActions','PhotoSourceTypes','React'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.componentWillMount=function(){'use strict';c('React').Children.forEach(this.props.children,function(n){if(!n)return;var o=this.props.appID;c('OmnipickerActions').panelInitialized(o,n.props.sourceType);}.bind(this));};m.prototype.render=function(){'use strict';var n=null;if(this.props.doneSelecting)n=c('React').createElement('div',{className:"_5e8d"},c('React').createElement('div',{className:"_5e8e"},c('React').createElement(c('Image.react'),{className:"_5e8o",src:i('/images/photos/omnipicker/mountain_sun.png')})));var o;if(this.props.children.length){o=this.props.children.find(function(p){if(!p)return false;return p.props.sourceType===this.props.selectedSourceType;}.bind(this));}else o=this.props.children;o=c('React').cloneElement(o,{photoData:this.props.photoData,appID:this.props.appID});return (c('React').createElement('div',null,n,c('React').createElement('div',{className:"_5gfy"},o)));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={appID:l.string,photoData:l.object,doneSelecting:l.bool,selectedSourceType:l.oneOf(Object.keys(c('PhotoSourceTypes')))};f.exports=m;}),null);
__d('OmnipickerPhotoSourceStore',['OmnipickerActions','FluxStore','OmnipickerDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('OmnipickerActions').types;h=babelHelpers.inherits(k,c('FluxStore'));i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.$OmnipickerPhotoSourceStore1={};}k.prototype.__onDispatch=function(l){switch(l.type){case j.APP_INITIALIZED:this.$OmnipickerPhotoSourceStore1[l.appID]={currentSource:l.initialSource};break;case j.PHOTO_SOURCE_SELECTED:this.$OmnipickerPhotoSourceStore1[l.appID].currentSource=l.source;this.__emitChange();break;default:return;}};k.prototype.getCurrentSource=function(l){return this.$OmnipickerPhotoSourceStore1[l].currentSource;};f.exports=new k(c('OmnipickerDispatcher'));}),null);
__d('OmnipickerPhotoStore',['invariant','OmnipickerActions','FluxStore','OmnipickerDispatcher','OmnipickerPhotoUploadState'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('OmnipickerActions').types;i=babelHelpers.inherits(l,c('FluxStore'));j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$OmnipickerPhotoStore1={};}l.prototype.__onDispatch=function(m){!m.appID?h(0):void 0;var n=this.$OmnipickerPhotoStore1[m.appID];if(n){var o=n.deletedPhotos;if(o&&o[m.id])return;}switch(m.type){case k.APP_INITIALIZED:this.$OmnipickerPhotoStore2(m);return;case k.PANEL_INITIALIZED:this.$OmnipickerPhotoStore3(m);return;case k.EXISTING_PHOTOS_FETCHED:this.$OmnipickerPhotoStore4(m);break;case k.PHOTO_SELECTED_OPTIMISTICALLY:this.$OmnipickerPhotoStore5(m);break;case k.SELECTION_CHANGED:this.$OmnipickerPhotoStore6(m);break;case k.UPLOAD_CANCELED:this.$OmnipickerPhotoStore7(m);break;case k.UPLOAD_FAILED:this.$OmnipickerPhotoStore8(m);break;case k.UPLOAD_FINISHED:this.$OmnipickerPhotoStore9(m);break;case k.UPLOAD_PROGRESSED:this.$OmnipickerPhotoStore10(m);break;case k.UPLOAD_QUEUED:this.$OmnipickerPhotoStore11(m);break;case k.UPLOAD_STARTED:this.$OmnipickerPhotoStore12(m);break;default:return;}this.__emitChange();};l.prototype.getState=function(m){var n=this.$OmnipickerPhotoStore1[m];return {numPhotosSelected:this.$OmnipickerPhotoStore13(n).length,photosOptimisticallyUploading:n.photosOptimisticallyUploading,photosWaitingForUpload:n.photosWaitingForUpload,photoData:n.photos};};l.prototype.getSelectedPhotos=function(m){var n=this.$OmnipickerPhotoStore1[m];return this.$OmnipickerPhotoStore13(n,n.uploadOrder).filter(function(o){return o.fbid!=='';});};l.prototype.$OmnipickerPhotoStore13=function(m,n){var o=n||m.photos,p=[];Object.keys(m.photos).forEach(function(q){var r=Array.isArray(o[q])?o[q]:Object.keys(o[q]);r.forEach(function(s){var t=this.$OmnipickerPhotoStore14(m,q,s);if(t.checked)if(t)p.push(t);}.bind(this));}.bind(this));return p;};l.prototype.$OmnipickerPhotoStore14=function(m,n,o){var p=m.photos;!p[n]?h(0):void 0;var q=p[n][o];!q?h(0):void 0;return q;};l.prototype.$OmnipickerPhotoStore15=function(m){this.$OmnipickerPhotoStore16(m,['source','id']);return this.$OmnipickerPhotoStore14(this.$OmnipickerPhotoStore1[m.appID],m.source,m.id);};l.prototype.$OmnipickerPhotoStore17=function(m,n){!m.hasOwnProperty(n)?h(0):void 0;!(m[n]!==undefined&&m[n]!==null)?h(0):void 0;};l.prototype.$OmnipickerPhotoStore16=function(m,n){n.push('appID');n.forEach(function(o){return this.$OmnipickerPhotoStore17(m,o);}.bind(this));};l.prototype.$OmnipickerPhotoStore18=function(m,n,o){var p=m.photos;!p[n]?h(0):void 0;!!p[n][o]?h(0):void 0;m.uploadOrder[n].push(o);return p[n][o]={id:o,checked:false,fbid:'',progress:0,src:'',uploadState:c('OmnipickerPhotoUploadState').NOT_STARTED};};l.prototype.$OmnipickerPhotoStore19=function(m,n){m.photosWaitingForUpload[n.id]=true;};l.prototype.$OmnipickerPhotoStore2=function(m){var n=m.appID;!!this.$OmnipickerPhotoStore1[n]?h(0):void 0;this.$OmnipickerPhotoStore1[n]={deletedPhotos:{},photos:{},photosWaitingForUpload:{},photosOptimisticallyUploading:{},uploadOrder:{}};};l.prototype.$OmnipickerPhotoStore5=function(m){var n=this.$OmnipickerPhotoStore15(m);n.checked=true;var o=this.$OmnipickerPhotoStore1[m.appID];o.photosOptimisticallyUploading[m.id]=true;};l.prototype.$OmnipickerPhotoStore6=function(m){this.$OmnipickerPhotoStore16(m,['checked']);var n=this.$OmnipickerPhotoStore15(m);n.checked=m.checked;};l.prototype.$OmnipickerPhotoStore3=function(m){this.$OmnipickerPhotoStore16(m,['source']);var n=this.$OmnipickerPhotoStore1[m.appID];n.photos[m.source]={};n.uploadOrder[m.source]=[];};l.prototype.$OmnipickerPhotoStore20=function(m,n,o,p){if(p===c('OmnipickerPhotoUploadState').FAILED||m.photosOptimisticallyUploading[o])return;n.checked=true;};l.prototype.$OmnipickerPhotoStore21=function(m,n,o,p){n.uploadState=p;delete m.photosWaitingForUpload[o];delete m.photosOptimisticallyUploading[o];};l.prototype.$OmnipickerPhotoStore22=function(m,n,o){var p=n.id;delete m.photos[o][p];delete m.photosWaitingForUpload[p];delete m.photosOptimisticallyUploading[p];var q=m.uploadOrder[o].indexOf(p);m.uploadOrder[o].splice(q,1);m.deletedPhotos[p]=true;};l.prototype.$OmnipickerPhotoStore4=function(m){this.$OmnipickerPhotoStore17(m,'photos');var n=this.$OmnipickerPhotoStore1[m.appID];m.photos.forEach(function(o){var p=o.source,q=o.id,r=o.src,s=this.$OmnipickerPhotoStore18(n,p,q);s.src=r;}.bind(this));};l.prototype.$OmnipickerPhotoStore7=function(m){var n=this.$OmnipickerPhotoStore15(m);this.$OmnipickerPhotoStore22(this.$OmnipickerPhotoStore1[m.appID],n,m.source);};l.prototype.$OmnipickerPhotoStore8=function(m){var n=this.$OmnipickerPhotoStore1[m.appID];this.$OmnipickerPhotoStore21(n,this.$OmnipickerPhotoStore15(m),m.id,c('OmnipickerPhotoUploadState').FAILED);};l.prototype.$OmnipickerPhotoStore9=function(m){this.$OmnipickerPhotoStore16(m,['src','fbid']);var n=m.appID,o=m.id,p=m.src,q=m.fbid,r=this.$OmnipickerPhotoStore1[n],s=this.$OmnipickerPhotoStore15(m),t=c('OmnipickerPhotoUploadState').DONE;this.$OmnipickerPhotoStore20(r,s,o,t);this.$OmnipickerPhotoStore21(r,s,o,t);s.src=p;s.fbid=q;};l.prototype.$OmnipickerPhotoStore10=function(m){this.$OmnipickerPhotoStore17(m,'progress');var n=this.$OmnipickerPhotoStore15(m);n.progress=100;};l.prototype.$OmnipickerPhotoStore12=function(m){var n=this.$OmnipickerPhotoStore15(m);n.uploadState=c('OmnipickerPhotoUploadState').UPLOADING;};l.prototype.$OmnipickerPhotoStore11=function(m){this.$OmnipickerPhotoStore16(m,['source','ids']);var n=m.source,o=this.$OmnipickerPhotoStore1[m.appID],p=m.ids;p.forEach(function(q){return this.$OmnipickerPhotoStore19(o,this.$OmnipickerPhotoStore18(o,n,q));}.bind(this));};f.exports=new l(c('OmnipickerDispatcher'));}),null);
__d('OmnipickerWaterfallLogger',['PhotosUploadWaterfallXMixin','mixin'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('mixin')(c('PhotosUploadWaterfallXMixin')));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this);this.$OmnipickerWaterfallLogger1=k;this.$OmnipickerWaterfallLogger2=l;}j.prototype.getWaterfallAppName=function(){'use strict';return this.$OmnipickerWaterfallLogger1;};j.prototype.getWaterfallID=function(){'use strict';return this.$OmnipickerWaterfallLogger2;};f.exports=j;}),null);
__d('Omnipicker.react',['invariant','ClientIDs','OmnipickerActions','OmnipickerPanelList.react','OmnipickerPhotoSourceStore','OmnipickerPhotoStore','OmnipickerUploadController','OmnipickerUploadSession','OmnipickerWaterfallLogger','React','SubscriptionsHandler','Waiter','OmnipickerLoggerStore'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();c('OmnipickerLoggerStore');c('OmnipickerPhotoSourceStore');c('OmnipickerPhotoStore');var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={numPhotosSelected:0,numPhotosUploading:0,photoData:{}},this.handlePhotosChangeEvent=function(){var r=c('OmnipickerPhotoStore').getState(this.state.appID),s=Object.keys(r.photosWaitingForUpload).length,t=Object.keys(r.photosOptimisticallyUploading).length;if(t>0){if(!this.$Omnipicker3)this.$Omnipicker3=this.$Omnipicker2.wait();}else if(this.$Omnipicker3){this.$Omnipicker3.call(this);this.$Omnipicker3=null;}this.setState({numPhotosSelected:r.numPhotosSelected,numPhotosUploading:s,photoData:r.photoData});this.props.onPhotosChange&&this.props.onPhotosChange(r.numPhotosSelected,s);}.bind(this),this.handleSourceChangeEvent=function(){this.setState({sourceType:c('OmnipickerPhotoSourceStore').getCurrentSource(this.state.appID)});}.bind(this),n;}l.prototype.componentWillMount=function(){'use strict';var m='Omnipicker_ID_'+c('ClientIDs').getNewClientID();c('OmnipickerUploadController').registerOmnipicker(m);c('OmnipickerUploadSession').registerOmnipicker(m);var n=[];c('React').Children.forEach(this.props.children,function(q){if(q.type===c('OmnipickerPanelList.react'))n.push(c('React').cloneElement(q,{appID:m}));});!(n.length===1)?h(0):void 0;var o=n[0],p=null;c('React').Children.forEach(o.props.children,function(q){if(!q)return;if(!p||q.props.isSelected)p=q.props.sourceType;if(q.type.getAdapter)c('OmnipickerUploadController').registerAdapter(m,q.type.getAdapter(this.props.logger,q.props.config),q.props.selectionSource);}.bind(this));!!!p?h(0):void 0;this.setState({appID:m,sourceType:p});c('OmnipickerActions').appInitialized(m,this.props.logger,p);};l.prototype.componentDidMount=function(){'use strict';this.$Omnipicker1=new (c('SubscriptionsHandler'))();this.$Omnipicker1.addSubscriptions(c('OmnipickerPhotoStore').addListener(this.handlePhotosChangeEvent),c('OmnipickerPhotoSourceStore').addListener(this.handleSourceChangeEvent));this.$Omnipicker2=new (c('Waiter'))(function(){this.props.onDoneSelecting(c('OmnipickerPhotoStore').getSelectedPhotos(this.state.appID),this.state.sourceType);}.bind(this));};l.prototype.componentWillUnmount=function(){'use strict';this.$Omnipicker1.release();};l.prototype.componentDidUpdate=function(){'use strict';if(this.props.doneSelecting)this.$Omnipicker2.go();};l.prototype.render=function(){'use strict';var m=c('React').Children.map(this.props.children,function(n){var o={selectedSourceType:this.state.sourceType,appID:this.state.appID};if(n.type===c('OmnipickerPanelList.react'))Object.assign(o,{photoData:this.state.photoData[this.state.sourceType]||{},doneSelecting:this.props.doneSelecting});return c('React').cloneElement(n,o);}.bind(this));return c('React').createElement('div',null,m);};l.propTypes={doneSelecting:k.bool.isRequired,logger:k.instanceOf(c('OmnipickerWaterfallLogger')).isRequired,onDoneSelecting:k.func.isRequired,onPhotosChange:k.func};l.defaultProps={doneSelecting:false};f.exports=l;}),null);
__d('OmnipickerSelector.react',['cx','OmnipickerActions','PhotoSourceTypes','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.onClick=function(){c('OmnipickerActions').photoSourceSelected(this.props.appID,this.props.sourceType);}.bind(this),n;}l.prototype.render=function(){'use strict';return (c('React').createElement('li',{className:"_1ys7"},c('React').createElement('div',{className:"_1ys8"+(this.props.isSelected?' '+"selected":''),onClick:this.onClick},c('React').createElement('div',{className:"_1ys9"},c('React').createElement('span',{className:c('joinClasses')("_1ysb",this.props.iconClass)}),c('React').createElement('span',{className:"_1ysc"},this.props.children)))));};l.propTypes={appID:k.string.isRequired,iconClass:k.string.isRequired,isSelected:k.bool.isRequired,sourceType:k.oneOf(Object.keys(c('PhotoSourceTypes'))).isRequired};f.exports=l;}),null);
__d('OmnipickerComputerSelector.react',['cx','fbt','OmnipickerSelector.react','PhotoSourceTypes','React'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';return (c('React').createElement(c('OmnipickerSelector.react'),babelHelpers['extends']({iconClass:"_5o68"},this.props),this.props.labelText));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={labelText:l.string};m.defaultProps={sourceType:c('PhotoSourceTypes').COMPUTER,labelText:i._("Computer")};f.exports=m;}),null);
__d('OmnipickerDialog.react',['cx','fbt','DOM','Event','Keys','Link.react','OmnipickerConfig','React','SubscriptionsHandler','XUICloseButton.react','XUIDialog.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={doneSelecting:false,numPhotosSelected:0,numPhotosUploading:0,uploadProgress:0},this.getButtonLabel=function(){var s=this.state.numPhotosSelected;if(s===1)return i._("Use Photo");if(s>1)return i._("Use Photos ({number})",[i.param('number',s)]);return i._("Use Photos");}.bind(this),this.handleUsePhotos=function(){this.setState({doneSelecting:true});}.bind(this),this.handleKeyDownEvent=function(event){if(c('Event').getKeyCode(event)===c('Keys').ESC)this.props.onCancel();}.bind(this),this.handlePhotosChange=function(s,t){this.setState({numPhotosSelected:s,numPhotosUploading:t});}.bind(this),o;}m.prototype.componentDidMount=function(){'use strict';this.$OmnipickerDialog1=new (c('SubscriptionsHandler'))();this.$OmnipickerDialog1.addSubscriptions(c('Event').listen(document,'keydown',this.handleKeyDownEvent));};m.prototype.componentWillUnmount=function(){'use strict';this.$OmnipickerDialog1.release();};m.prototype.render=function(){'use strict';var n=this.state.doneSelecting||this.state.numPhotosSelected<1||this.state.numPhotosUploading>0,o=null;if(c('OmnipickerConfig').FEEDBACK_GROUP_PATH)o=c('React').createElement('div',{className:"_2srv"},c('React').createElement(c('Link.react'),{href:c('OmnipickerConfig').FEEDBACK_GROUP_PATH,target:'_blank'},'Omnipicker Feedback Group'));var p=c('React').Children.only(this.props.children);p=c('React').cloneElement(p,{onPhotosChange:this.handlePhotosChange,doneSelecting:this.state.doneSelecting});return (c('React').createElement(c('XUIDialog.react'),{shown:true,layerHideOnBlur:false,width:c('OmnipickerConfig').DIALOG_WIDTH,key:'dialog'},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},c('React').createElement('span',null,this.props.title),c('React').createElement(c('XUICloseButton.react'),{className:"_51-t",label:i._("Close"),onClick:this.props.onCancel})),p,c('React').createElement('div',{className:"_3bnc"},c('React').createElement(c('XUIDialogFooter.react'),{className:"_3bnd",leftContent:o},c('React').createElement(c('XUIDialogButton.react'),{action:'button',label:i._("Cancel"),onClick:this.props.onCancel,size:'xlarge'}),c('React').createElement(c('XUIDialogButton.react'),{className:"_3bne",use:'confirm',action:'confirm',size:'xlarge',disabled:n,label:this.getButtonLabel(),onClick:this.handleUsePhotos})))));};m.propTypes={onCancel:l.func.isRequired,title:l.string.isRequired};f.exports=m;}),null);
__d('OmnipickerDialogRenderer',['DOM','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){this.$OmnipickerDialogRenderer1=i;this.$OmnipickerDialogRenderer2=i.props.$OmnipickerDialogRenderer2;if(!this.$OmnipickerDialogRenderer2){this.$OmnipickerDialogRenderer2=c('DOM').create('div');c('DOM').appendContent(document.body,this.$OmnipickerDialogRenderer2);}}h.prototype.show=function(){if(!this.$OmnipickerDialogRenderer2){this.$OmnipickerDialogRenderer2=c('DOM').create('div');c('DOM').appendContent(document.body,this.$OmnipickerDialogRenderer2);}c('ReactDOM').render(this.$OmnipickerDialogRenderer1,this.$OmnipickerDialogRenderer2);};h.prototype.hide=function(){c('ReactDOM').unmountComponentAtNode(this.$OmnipickerDialogRenderer2);c('DOM').remove(this.$OmnipickerDialogRenderer2);this.$OmnipickerDialogRenderer2=null;};h.prototype.isShowing=function(){return !!this.$OmnipickerDialogRenderer2;};f.exports=h;}),null);
__d('ExistingPhotoSelectionContainer',['BaseSelectionContainer'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('BaseSelectionContainer'));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this);this.$ExistingPhotoSelectionContainer1=k;this.$ExistingPhotoSelectionContainer2=l;this.$ExistingPhotoSelectionContainer3=m;}j.prototype.getExistingImageID=function(){'use strict';return this.$ExistingPhotoSelectionContainer1;};j.prototype.getSrc=function(){'use strict';return this.$ExistingPhotoSelectionContainer2;};j.prototype.getSource=function(){'use strict';return this.$ExistingPhotoSelectionContainer3;};j.prototype.hasPlaceholderUI=function(){'use strict';return true;};f.exports=j;}),null);
__d('ExistingPhotoPicker',['ArbiterMixin','mixin','FilePickerEvent','ExistingPhotoSelectionContainer'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this);this.$ExistingPhotoPicker1=k;}j.prototype.begin=function(){'use strict';this.inform(c('FilePickerEvent').BEGIN);};j.prototype.select=function(k,l){'use strict';this.inform(c('FilePickerEvent').SELECTED,{sender:this,selections:[new (c('ExistingPhotoSelectionContainer'))(k,l,this.$ExistingPhotoPicker1)]});};f.exports=j;}),null);
__d('OmnipickerExistingPhotosPanelMixin.react',['cx','invariant','ExistingPhotoPicker','OmnipickerActions','OmnipickerPanelMixin.react','OmnipickerPhotoGrid.react','OmnipickerUploadSession','PhotoStore','React'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k={mixins:[c('OmnipickerPanelMixin.react')],propTypes:{initBatchSize:j.number,pageBatchSize:j.number,puwMethod:j.string.isRequired,setID:j.string.isRequired},componentWillMount:function l(){!(typeof this.getViewState==='function')?i(0):void 0;this.picker=new (c('ExistingPhotoPicker'))(this.props.selectionSource);c('OmnipickerUploadSession').addPicker(this.props.appID,this.picker,this.props.sourceType,this.props.puwMethod);},componentDidMount:function l(){this.getViewState().initViewState();this.picker.begin();},componentWillUnmount:function l(){this.getViewState().destroy();c('OmnipickerUploadSession').removePicker(this.props.appID,this.picker);},render:function l(){return (c('React').createElement('div',null,this.getThrobber(),this.getPhotoGrid()));},onViewStateChanged:function l(m){c('OmnipickerActions').existingPhotosFetched(this.props.appID,this.props.sourceType,m.media.filter(function(n){return !this.props.photoData[n.id];}.bind(this)));},onPhotoSelected:function l(m){this.picker.select(m,this.props.photoData[m].src);return false;},getPhotoGrid:function l(){if(!c('PhotoStore').hasBeenCreated(this.props.setID))return null;var m=null;if(!c('PhotoStore').hasBeenCreated(this.props.setID)||c('PhotoStore').hasNextPage(this.props.setID))m=function(){this.getViewState().fetchMore();}.bind(this);return (c('React').createElement(c('OmnipickerPhotoGrid.react'),{appID:this.props.appID,onPhotoSelected:this.onPhotoSelected,onScrollPositionThresholdReached:m,photos:this.props.photoData,photoSourceType:this.props.sourceType,showUploadProgress:false}));},getThrobber:function l(){if(c('PhotoStore').hasBeenCreated(this.props.setID))return null;return c('React').createElement('div',{className:"_j0-"});}};f.exports=k;}),null);
__d('ScrollablePhotoViewStateCore',['emptyFunction','SubscriptionsHandler'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$ScrollablePhotoViewStateCore1=i.photoStore;this.$ScrollablePhotoViewStateCore2=i.viewer;this.$ScrollablePhotoViewStateCore3=i.setToken;this.$ScrollablePhotoViewStateCore4=i.updateCallback;this.$ScrollablePhotoViewStateCore5=i.subscribeUpdatePhotos;this.$ScrollablePhotoViewStateCore6=i.fetchInitData;this.$ScrollablePhotoViewStateCore7=i.initBatchSize;this.$ScrollablePhotoViewStateCore8=i.pageBatchSize;this.$ScrollablePhotoViewStateCore9=new (c('SubscriptionsHandler'))();}h.prototype.initViewState=function(){'use strict';this.$ScrollablePhotoViewStateCore9.addSubscriptions(this.$ScrollablePhotoViewStateCore5(this.updateData.bind(this)));if(this.$ScrollablePhotoViewStateCore1.hasBeenCreated(this.$ScrollablePhotoViewStateCore3)){var i=this.$ScrollablePhotoViewStateCore1.getAvailableRange(this.$ScrollablePhotoViewStateCore3).length;if(i>=this.$ScrollablePhotoViewStateCore7||!this.$ScrollablePhotoViewStateCore1.hasNextPage(this.$ScrollablePhotoViewStateCore3))this.syncState();return;}this.$ScrollablePhotoViewStateCore6(this.$ScrollablePhotoViewStateCore3);};h.prototype.hasNextPage=function(){'use strict';return (this.$ScrollablePhotoViewStateCore1.hasBeenCreated(this.$ScrollablePhotoViewStateCore3)&&this.$ScrollablePhotoViewStateCore1.hasNextPage(this.$ScrollablePhotoViewStateCore3));};h.prototype.fetchToIndex=function(i){'use strict';var j=this.$ScrollablePhotoViewStateCore1.getEndIndex(this.$ScrollablePhotoViewStateCore3),k=i-j;if(k<=0)return;this.$ScrollablePhotoViewStateCore1.getItemsAfterIndex(this.$ScrollablePhotoViewStateCore3,j,k,c('emptyFunction'));};h.prototype.fetchMore=function(i){'use strict';if(!this.hasNextPage())return;this.$ScrollablePhotoViewStateCore1.getItemsAfterIndex(this.$ScrollablePhotoViewStateCore3,this.$ScrollablePhotoViewStateCore1.getEndIndex(this.$ScrollablePhotoViewStateCore3),this.$ScrollablePhotoViewStateCore8,i||c('emptyFunction'));};h.prototype.destroy=function(){'use strict';this.$ScrollablePhotoViewStateCore9.release();};h.prototype.updateData=function(i){'use strict';if(i.set_id!=this.$ScrollablePhotoViewStateCore3)return;var j=i.query_results&&i.query_results.result_type;if(j=='init'){this.$ScrollablePhotoViewStateCore1.executePostCreate(this.$ScrollablePhotoViewStateCore3,function(){this.syncState();}.bind(this));}else this.syncState();};f.exports=h;}),null);
__d('fetchInitPhotoViewState',['AsyncRequest'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){new (c('AsyncRequest'))(i).setData({set:j}).send();}f.exports=h;}),null);
__d('subscribeToArbiterUpdatePhotos',['Arbiter'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){return c('Arbiter').subscribe('update-photos',function(j,k){i(k);});}f.exports=h;}),null);
__d('OmnipickerExistingPhotosViewState',['PhotoStore','ScrollablePhotoViewStateCore','URI','subscribeToArbiterUpdatePhotos','fetchInitPhotoViewState'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();function j(l,m){c('fetchInitPhotoViewState')(l,m);}h=babelHelpers.inherits(k,c('ScrollablePhotoViewStateCore'));i=h&&h.prototype;function k(l,m,n,o,p,q){'use strict';i.constructor.call(this,{fetchInitData:j.bind(null,p),initBatchSize:n,pageBatchSize:o,photoStore:c('PhotoStore'),setToken:m,subscribeUpdatePhotos:c('subscribeToArbiterUpdatePhotos'),updateCallback:q,viewer:l});this.$OmnipickerExistingPhotosViewState1=n;this.$OmnipickerExistingPhotosViewState2=m;this.$OmnipickerExistingPhotosViewState3=q;}k.prototype.syncState=function(){'use strict';this.$OmnipickerExistingPhotosViewState3({media:c('PhotoStore').getItemsInAvailableRange(this.$OmnipickerExistingPhotosViewState2),hasNextPage:c('PhotoStore').hasNextPage(this.$OmnipickerExistingPhotosViewState2)});};f.exports=k;}),null);
__d("XPagesManagerPostedPhotosController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/posted_photos\/",{set:{type:"String",required:true},size:{type:"Int",required:true}});}),null);
__d('OmnipickerPagePostedPhotosPanel.react',['ActorURI','OmnipickerConfig','OmnipickerExistingPhotosPanelMixin.react','OmnipickerExistingPhotosViewState','PhotoSourceTypes','PUWMethods','React','SelectionSource','XPagesManagerPostedPhotosController'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'OmnipickerPagePostedPhotosPanel',mixins:[c('OmnipickerExistingPhotosPanelMixin.react')],_viewState:null,propTypes:{pageID:h.string.isRequired},getDefaultProps:function j(){return {initBatchSize:20,pageBatchSize:16,puwMethod:c('PUWMethods').RECENT_PHOTOS,selectionSource:c('SelectionSource').PAGES_POSTED_PHOTOS,setID:c('OmnipickerConfig').POSTED_PHOTOS_SET_ID,sourceType:c('PhotoSourceTypes').PAGES_POSTED_PHOTOS};},componentWillMount:function j(){var k=c('ActorURI').create(c('XPagesManagerPostedPhotosController').getURIBuilder().setString('set',this.props.setID).setInt('size',this.props.initBatchSize).getURI(),this.props.pageID);this._viewState=new (c('OmnipickerExistingPhotosViewState'))(this,this.props.setID,this.props.initBatchSize,this.props.pageBatchSize,k,this.onViewStateChanged);},getViewState:function j(){return this._viewState;}});f.exports=i;}),null);
__d('OmnipickerPagePostedPhotosSelector.react',['cx','fbt','OmnipickerSelector.react','PhotoSourceTypes','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){return (c('React').createElement(c('OmnipickerSelector.react'),babelHelpers['extends']({iconClass:"_2_y4"},this.props),this.props.labelText));};function m(){j.apply(this,arguments);}m.propTypes={labelText:l.node};m.defaultProps={sourceType:c('PhotoSourceTypes').PAGES_POSTED_PHOTOS,labelText:i._("Page Photos")};f.exports=m;}),null);
__d('OmnipickerSelectorList.react',['cx','PhotoSourceTypes','React'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=c('React').Children.map(this.props.children,function(n){if(!n)return;return c('React').cloneElement(n,{isSelected:n.props.sourceType===this.props.selectedSourceType,appID:this.props.appID});}.bind(this));return (c('React').createElement('div',{className:"_1n6_"},c('React').createElement('ul',null,m)));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={appID:k.string,selectedSourceType:k.oneOf(Object.keys(c('PhotoSourceTypes')))};f.exports=l;}),null);
__d('ProductVideoChunkedUploader',['AdsVideoUploadEvents','AdsVideoUploadSession','AdsVideoUploadUtil','URI','VideoUploader','VideoUploadFile','VideoUploadProgressBar'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j='/v2.4',k='graph-video';h=babelHelpers.inherits(l,c('VideoUploader'));i=h&&h.prototype;function l(m){'use strict';var n=m.config,o=new (c('URI'))(j+'/'+m.target_id+'/videos?'+'access_token='+m.access_token).setSubdomain(k).toString(),p={start_uri:o,receive_uri:o,post_uri:o,chunk_start_uri:o,chunk_receive_uri:o,chunk_post_uri:o,min_size:n.minSize,min_width:n.minWidth,min_height:n.minHeight,min_length:n.minLength,max_size:n.maxSize,max_length:n.maxLength,extensions:n.extensions,logging_delay:n.loggingDelay,max_transport_retries:n.maxTransportRetries,transport_retry_interval_base:n.transportRetryIntervalBase,max_server_retries:n.maxServerRetries,server_retry_interval_base:n.serverRetryIntervalBase,source:m.source,target_id:m.target_id,target_type:m.target_type};i.constructor.call(this,p);this.$ProductVideoChunkedUploader1='';}l.prototype.getUploadTime=function(){'use strict';if(this.__getSession()!==null)return this.__getSession().getUploadTime();return null;};l.prototype.getEncodingTime=function(){'use strict';if(this.__getSession()!==null)return this.__getSession().getEncodingTime();return null;};l.prototype.abort=function(){'use strict';this.cancel();};l.prototype.upload=function(m){'use strict';var n=m.getFileInput();this.$ProductVideoChunkedUploader1=c('AdsVideoUploadUtil').getVideoTitle(n);i.upload.call(this,m);};l.prototype.__getVideoUploadSession=function(m){'use strict';return new (c('AdsVideoUploadSession'))(m);};l.prototype.getVideoTitle=function(){'use strict';return this.$ProductVideoChunkedUploader1;};l.prototype.__createSession=function(m){'use strict';return new (c('AdsVideoUploadSession'))(m);};l.prototype.__getEventsWhichShouldListenFromSession=function(){'use strict';var m=i.__getEventsWhichShouldListenFromSession.call(this);m.push(c('AdsVideoUploadEvents').ENCODING_SUCCESS,c('AdsVideoUploadEvents').ENCODING_ERROR);return m;};l.prototype.__getEventsForWhichSessionShouldBeSetToNull=function(){'use strict';return ['upload-failed',c('AdsVideoUploadEvents').ENCODING_SUCCESS,c('AdsVideoUploadEvents').ENCODING_ERROR];};l.prototype.__delegateEvent=function(event,m){'use strict';var n=null;if(event==='upload-progressed'){var o=c('VideoUploadProgressBar').computeProgress(m.start_offset,m.sent_bytes,m.file_size,0,0);n=o/100;}else if(event==='upload-finished'){this.post({});}else if(event==='post-finished'){n=m.video_id;}else if(event==='post-failed')event='upload-failed';i.__delegateEvent.call(this,event,n);};f.exports=l;}),null);
__d('PageContentTabProductUploadVideoButton.react',['cx','fbt','AdsVideoUploadConfig','AdsVideoUploadEvents','AsyncRequest','FileInput.react','GraphAPI','Link.react','ProductVideoChunkedUploader','React','VideoUploadFile','VideoUploadTargetType','XUIGrayText.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=1000,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={videoUploaders:[],lastEncodingStatusCheckTimes:[]},this.$PageContentTabProductUploadVideoButton1=function(){var t=this.refs.fileInput.getFileInput().getInput(),u=c('VideoUploadFile').fromFileInput(t),v=new (c('ProductVideoChunkedUploader'))({config:c('AdsVideoUploadConfig'),source:'product_edit_tool',target_id:this.props.productCatalogID,target_type:c('VideoUploadTargetType').PRODUCT_CATALOG,access_token:this.props.pageContentTabAccessToken}),w=this.state.videoUploaders.length;v.subscribe('upload-failed',this.$PageContentTabProductUploadVideoButton2.bind(this,w));v.subscribe(c('AdsVideoUploadEvents').UPLOAD_ERROR,this.$PageContentTabProductUploadVideoButton2.bind(this,w));v.subscribe('post-failed',this.$PageContentTabProductUploadVideoButton2.bind(this,w));v.subscribe('post-finished',this.$PageContentTabProductUploadVideoButton3.bind(this,w));this.props.onVideoSelected(w);v.upload(u);var x=this.state.videoUploaders;x[w]=v;this.setState({videoUploaders:x});}.bind(this),this.$PageContentTabProductUploadVideoButton2=function(t){this.props.onVideoUploadError(t);}.bind(this),this.$PageContentTabProductUploadVideoButton3=function(t){this.$PageContentTabProductUploadVideoButton4(t);}.bind(this),this.$PageContentTabProductUploadVideoButton4=function(t){var u=this.state.lastEncodingStatusCheckTimes[t]+l,v=Math.max(0,u-Date.now());setTimeout(this.$PageContentTabProductUploadVideoButton5.bind(this,t),v);}.bind(this),this.$PageContentTabProductUploadVideoButton5=function(t){var u=this.$PageContentTabProductUploadVideoButton6(t),v=this.state.lastEncodingStatusCheckTimes;v[t]=Date.now();this.setState({lastEncodingStatusCheckTimes:v});new (c('AsyncRequest'))().setURI('/ajax/video/encode/feedback/ping/').setData({video_id:u}).setHandler(this.$PageContentTabProductUploadVideoButton7.bind(this,t)).send();}.bind(this),this.$PageContentTabProductUploadVideoButton7=function(t,u){var v=this.$PageContentTabProductUploadVideoButton6(t),w=u.payload;if(w)if(w.is_ready){c('GraphAPI')('2.3').object('video',v).edge('thumbnails').get({access_token:this.props.pageContentTabAccessToken}).done(this.$PageContentTabProductUploadVideoButton8.bind(this,t));}else if(w.error){this.$PageContentTabProductUploadVideoButton2(t);}else this.$PageContentTabProductUploadVideoButton4(t);}.bind(this),this.$PageContentTabProductUploadVideoButton8=function(t,u){var v=this.$PageContentTabProductUploadVideoButton6(t),w=u.data;if(w)for(var x=0;x<w.length;x++)if(w[x].is_preferred){this.props.onVideoUploadFinished(t,v,w[x].uri);return;}}.bind(this),this.$PageContentTabProductUploadVideoButton6=function(t){return this.state.videoUploaders[t].getUploadSession().getVideoID();}.bind(this),p;}n.prototype.render=function(){return c('React').createElement(c('FileInput.react'),{name:'video',ref:'fileInput',onChange:this.$PageContentTabProductUploadVideoButton1},c('React').createElement(c('Link.react'),{className:"_25dc"},c('React').createElement('div',{className:"_25dd _25de"},c('React').createElement(c('XUIGrayText.react'),{className:"_25df",size:'small',display:'block'},i._("Add Videos")))));};n.propTypes={onVideoSelected:m.func.isRequired,onVideoUploadError:m.func.isRequired,onVideoUploadFinished:m.func.isRequired,pageContentTabAccessToken:m.string.isRequired,productCatalogID:m.string.isRequired};f.exports=n;}),null);
__d("XPagesManagerProductPhotoUploadController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/upload\/file\/product\/photo\/",{waterfall_id:{type:"String"}});}),null);
__d('PageProductPhotoEditButton.react',['cx','fbt','ActorURI','Arbiter','AsyncRequest','BOFSellerLogger','BOFSellerLoggerEvent','ReactComposerPhotoActions','PhotoEditorTargetType','XPagesManagerProductPhotoUploadController','React','Tooltip','XComposerPhotoUploader','XStickerPhotoEditorController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.componentDidMount=function(){c('Arbiter').subscribe('PageProductPhotoEditor/newImage'+this.props.composerID,this.$PageProductPhotoEditButton2.bind(this));};m.prototype.render=function(){var n=i._("Edit photo");return (c('React').createElement('button',babelHelpers['extends']({className:"_k4v",onClick:this.$PageProductPhotoEditButton3.bind(this)},c('Tooltip').propsFor(n)),c('React').createElement('div',{className:"_k4w"})));};m.prototype.$PageProductPhotoEditButton3=function(){if(this.$PageProductPhotoEditButton1)return;c('BOFSellerLogger').log(c('BOFSellerLoggerEvent').ACTN_EDIT_PHOTO_CLICK,this.props.pageID,{target_class:'Photo',target_id:this.props.photoID});var n=void 0,o=void 0;if(this.props.photoID==parseInt(this.props.photoID,10)){n=parseInt(this.props.photoID,10);o='';}else{n=0;o=this.props.photoID;}var p=c('ActorURI').create(c('XStickerPhotoEditorController').getURIBuilder().setString('grid_id',this.props.composerID).setEnum('target_type',c('PhotoEditorTargetType').PAGE_PRODUCT_COMPOSER).setInt('photo_fbid',n).setString('encrypted_photo_id',o).getURI(),this.props.pageID);this.$PageProductPhotoEditButton1=new (c('AsyncRequest'))(p).setFinallyHandler(function(){this.$PageProductPhotoEditButton1=null;}.bind(this)).send();c('ReactComposerPhotoActions').startPhotoEdit(this.props.composerID,null);};m.prototype.$PageProductPhotoEditButton2=function(n,o){var p=c('ActorURI').create(c('XPagesManagerProductPhotoUploadController').getURIBuilder().getURI(),this.props.pageID),q=o.encryptedID||o.fbid,r=new (c('XComposerPhotoUploader'))({uploadEndpoint:p,onUploadSuccess:function(s,t){this.props.onPhotoEdited(q,t.response.payload[0]);}.bind(this)});r.getAsyncUploadRequest([o.blob]).send();};function m(){j.apply(this,arguments);}m.propTypes={composerID:l.string.isRequired,onPhotoEdited:l.func.isRequired,pageID:l.string.isRequired,photoID:l.string.isRequired};f.exports=m;}),null);
__d('PageContentTabProductPhotoUploader.react',['cx','fbt','invariant','ActorURI','AudienceManagerEngagementVideoSelectionError.react','Image.react','Link.react','Omnipicker.react','ComputerPanel.react','OmnipickerComputerSelector.react','OmnipickerDialog.react','OmnipickerDialogRenderer','OmnipickerPagePostedPhotosPanel.react','OmnipickerPagePostedPhotosSelector.react','OmnipickerPanelList.react','OmnipickerSelectorList.react','OmnipickerWaterfallLogger','PageContentTabProductUploadVideoButton.react','XPagesManagerProductPhotoUploadController','PUWApplications','PUWSteps','React','WaterfallIDGenerator','XUICloseButton.react','XUIGrayText.react','XUISpinner.react','PageProductPhotoEditButton.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'PageContentTabProductPhotoUploader',_waterfallLogger:c('OmnipickerWaterfallLogger'),propTypes:{className:k.string,maxPhotosCount:k.number,pageID:k.string.isRequired,onPhotoEdited:k.func,onPhotosSelected:k.func.isRequired,onPhotoRemoved:k.func.isRequired,photos:k.array.isRequired,photoEditingEnabled:k.bool.isRequired,productCatalogID:k.string,pageContentTabAccessToken:k.string,videos:k.array,onVideoSelected:k.func,onVideoUploadFinished:k.func,onVideoUploadError:k.func,onVideoRemoved:k.func,showVideoUploadButton:k.bool},getInitialState:function m(){var n={fileUploadURI:c('ActorURI').create(c('XPagesManagerProductPhotoUploadController').getURIBuilder().getURI(),this.props.pageID)};this._waterfallLogger=new (c('OmnipickerWaterfallLogger'))(c('PUWApplications').WEB_PRODUCT_PHOTO_OMNIPICKER,c('WaterfallIDGenerator').generate());return {dialogRenderer:new (c('OmnipickerDialogRenderer'))(c('React').createElement(c('OmnipickerDialog.react'),{onCancel:this.onPickerCancel,title:i._("Select photo")},c('React').createElement(c('Omnipicker.react'),{logger:this._waterfallLogger,onDoneSelecting:this.onPickerAddPhotos},c('React').createElement(c('OmnipickerSelectorList.react'),null,c('React').createElement(c('OmnipickerComputerSelector.react'),null),c('React').createElement(c('OmnipickerPagePostedPhotosSelector.react'),null)),c('React').createElement(c('OmnipickerPanelList.react'),null,c('React').createElement(c('ComputerPanel.react'),{config:n}),c('React').createElement(c('OmnipickerPagePostedPhotosPanel.react'),{pageID:this.props.pageID})))))};},onPickerCancel:function m(){this.state.dialogRenderer.hide();this._waterfallLogger.logStep(c('PUWSteps').CLIENT_FLOW_CANCEL);},onPickerAddPhotos:function m(n){this.state.dialogRenderer.hide();this.props.onPhotosSelected(n);},render:function m(){var n=null,o=null,p=this.props.photos.length;if(this.props.videos)p+=this.props.videos.length;if(!this.props.maxPhotosCount||p<this.props.maxPhotosCount){n=this._renderAddPhotoLink();o=this._renderAddVideoLink();}return (c('React').createElement('div',{className:this.props.className},this._renderUploadedMedia(),n,o));},_renderUploadedPhoto:function m(n){var o=null;if(this.props.photoEditingEnabled)o=c('React').createElement(c('PageProductPhotoEditButton.react'),{composerID:this._waterfallLogger.getWaterfallID(),onPhotoEdited:this.props.onPhotoEdited,pageID:this.props.pageID,photoID:n.fbid});return (c('React').createElement('div',{key:n.fbid,className:"_5m94"},c('React').createElement(c('XUICloseButton.react'),{className:"_5m95",size:'medium',shade:'light',onClick:function(p){return this.props.onPhotoRemoved(n);}.bind(this)}),c('React').createElement(c('Image.react'),{className:"_19tc",src:n.src}),o,c('React').createElement('div',{className:"_19td"})));},_renderUploadedVideo:function m(n){var o=null;if(!n.ready&&!n.error)o=c('React').createElement(c('XUISpinner.react'),{className:"_37cg",size:'large'});var p=null;if(n.error)p=c('React').createElement('div',{className:"_37ch"},c('React').createElement(c('AudienceManagerEngagementVideoSelectionError.react'),{mainLabel:i._("Upload failed")}));return (c('React').createElement('div',{key:n.fbid,className:"_5m94"},c('React').createElement(c('XUICloseButton.react'),{className:"_5m95",size:'medium',shade:'light',onClick:function(){!this.props.onVideoRemoved?j(0):void 0;this.props.onVideoRemoved(n);}.bind(this)}),c('React').createElement(c('Image.react'),{className:"_19tc",src:n.src}),o,p,c('React').createElement('div',{className:"_37cj"}),c('React').createElement('div',{className:"_37cm"},c('React').createElement('div',{className:"_37cn"})),c('React').createElement('div',{className:"_19td"})));},_renderUploadedMedia:function m(){var n=this.props.videos&&this.props.onVideoRemoved?this.props.videos.map(this._renderUploadedVideo):[],o=this.props.photos.map(this._renderUploadedPhoto);return n.concat(o);},_renderAddPhotoLink:function m(){return (c('React').createElement(c('Link.react'),{className:"_3ff7",ref:'uploadButton',onClick:this._onPickerLaunch},c('React').createElement('div',{className:"_22to _19tc"},c('React').createElement(c('XUIGrayText.react'),{className:"_3ff8",size:'small',display:'block'},i._("Add photos")))));},_renderAddVideoLink:function m(){if(!this.props.showVideoUploadButton||!this.props.onVideoSelected||!this.props.onVideoUploadFinished||!this.props.onVideoUploadError||!this.props.productCatalogID||!this.props.pageContentTabAccessToken)return null;return (c('React').createElement(c('PageContentTabProductUploadVideoButton.react'),{productCatalogID:this.props.productCatalogID,onVideoSelected:this.props.onVideoSelected,onVideoUploadFinished:this.props.onVideoUploadFinished,onVideoUploadError:this.props.onVideoUploadError,pageContentTabAccessToken:this.props.pageContentTabAccessToken}));},_onPickerLaunch:function m(){this._waterfallLogger.logStep(c('PUWSteps').CLIENT_FLOW_BEGIN);this.state.dialogRenderer.show();}});f.exports=l;}),null);
__d('PageContentTabConfirmationDialog.react',['fbt','LayerHideOnEscape','LayerFadeOnHide','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=this.props.cancelLabel||h._("Cancel");return (c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerHideOnEscape:c('LayerHideOnEscape'),LayerFadeOnHide:c('LayerFadeOnHide')},shown:true,width:450},c('React').createElement(c('XUIDialogTitle.react'),null,this.props.title),c('React').createElement(c('XUIDialogBody.react'),null,this.props.body),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:m,use:'default'}),c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:this.props.confirmationLabel,onClick:this.props.onConfirm,use:'confirm'}))));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={cancelLabel:k.string,title:k.string.isRequired,body:k.string.isRequired,confirmationLabel:k.string.isRequired,onConfirm:k.func.isRequired};f.exports=l;}),null);
__d('PageContentTabTextUtils',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={getPostID:function i(j){var k=j.split('_');return k.pop();}};f.exports=h;}),null);
__d('PageContentTabCommonConfig',['DOM','React','ReactDOM','LayerFadeOnHide','LayerHideOnEscape','PageContentTabConfirmationDialog.react','PageContentTabConstants','PageContentTabTextUtils','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogOkayButton.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('PageContentTabConstants').COLUMNS,i={getValueFromInsight:function j(k){if(k.values&&k.values.length===1)return k.values[0].value.toString();return "0";},maxInsightValue:function j(k,l){var m=0;k.forEach(function(n){var o=n.insights&&n.insights.data;(o||[]).forEach(function(p){if(p.name===l){var q=i.getValueFromInsight(p);m=Math.max(m,parseInt(q,10));}});});return m;},maxProductInsightValue:function j(k,l){var m=0;k.forEach(function(n){var o=l.map(function(q){return n.commerce_insights[q];}),p=o.reduce(function(q,r){return q+r;});m=Math.max(m,p?p:0);});return m;},showErrorDialog:function j(k,l){c('ReactDOM').render(c('React').createElement(c('XUIDialog.react'),{shown:true,behaviors:{LayerFadeOnHide:c('LayerFadeOnHide'),LayerHideOnEscape:c('LayerHideOnEscape')},width:600},c('React').createElement(c('XUIDialogTitle.react'),null,c('React').createElement('span',null,k)),c('React').createElement(c('XUIDialogBody.react'),null,l),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogOkayButton.react'),{use:'confirm',action:'cancel'}))),c('DOM').create('div'));},showConfirmationDialog:function j(k,l,m,n,o){c('ReactDOM').render(c('React').createElement(c('PageContentTabConfirmationDialog.react'),{cancelLabel:o,title:k,body:l,confirmationLabel:m,onConfirm:n}),c('DOM').create('div'));},createScheduledPostRow:function j(k,l){var m=i.createDraftPostRow(k,l);m[h.SCHEDULED_PUBLISH_TIME]={time:k.scheduled_publish_time,admin:k.admin_creator&&k.admin_creator.name};m[h.PROMOTION_STATUS]=k.promotion_info;m[h.ID]=c('PageContentTabTextUtils').getPostID(k.id);return m;},createDraftPostRow:function j(k,l){return i._createUnpublishedPostRowBase(k,l);},_createUnpublishedPostRowBase:function j(k,l){var m={};m[h.POST]={id:k.id,text:k.message,img:k.thumbnail||l.picture&&l.picture.url,url:k.permalink_url,owner:l.page_id,place:k.place,og_action_summary:k.og_action_summary};m[h.DATE_CREATED]={time:k.creation_time,admin:k.admin_creator&&k.admin_creator.name};m[h.DATE_LAST_MODIFIED]={edit_actions:k.edit_actions&&k.edit_actions.data,modified_time:k.modified_time};m[h.LOCATION_LANGUAGE]=k.privacy_description;return m;}};f.exports=i;}),null);
__d("XPagesManagerProductDeleteController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/products\/product_delete\/",{group_ids:{type:"StringVector"}});}),null);
__d('PageProductActions',['fbt','ActorURI','AsyncRequest','PageContentTabCommonConfig','PageContentTabDispatcher','PageContentTabLoadingDialog','XPagesManagerProductDeleteController'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={deleteProducts:function j(k,l,m){c('PageContentTabLoadingDialog').show();var n=c('ActorURI').create(c('XPagesManagerProductDeleteController').getURIBuilder().setStringVector('group_ids',k).getURI(),l);new (c('AsyncRequest'))(n).setMethod('POST').setHandler(function(o){k.forEach(function(p){return c('PageContentTabDispatcher').handlePostRemoved(l,p);});}).setFinallyHandler(function(){c('PageContentTabLoadingDialog').hide();m&&m();}).send();},deleteProductsWithConfirmation:function j(k,l,m){var n=k.length===1?h._("Deleting this product will remove it from your shop"):h._("Deleting these products will remove them from your shop");c('PageContentTabCommonConfig').showConfirmationDialog(h._({"Product":"Delete product?","Products":"Delete products?"},[h['enum'](k.length===1?'Product':'Products',{Product:'Product',Products:'Products'})]),n,h._({"product":"Delete Product","products":"Delete Products"},[h['enum'](k.length===1?'product':'products',{product:'product',products:'products'})]),i.deleteProducts.bind(i,k,l,m),null);}};f.exports=i;}),null);
__d('PageProductComposerShippingOptions.react',['cx','fbt','xuiglyph','CommerceSelfServeUI','CurrencyInput.atlas','Image.react','LeftRight.react','Link.react','React','XUIGrayText.react','XUIText.react','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$PageProductComposerShippingOptions1=function(){return {shipping_country:'US',shipping_price_currency:this.props.currencyCode,shipping_price_value:0,shipping_service:null};}.bind(this),this.$PageProductComposerShippingOptions2=function(t,u){var v=this.props.shippingOptions;v[t].shipping_service=u;this.props.onShippingOptionsChange(v);}.bind(this),this.$PageProductComposerShippingOptions3=function(t,u){var v=this.props.shippingOptions;v[t].shipping_price_value=u;this.props.onShippingOptionsChange(v);}.bind(this),this.$PageProductComposerShippingOptions5=function(){var t=this.props.shippingOptions;t[t.length]=this.$PageProductComposerShippingOptions1();this.props.onShippingOptionsChange(t);}.bind(this),this.$PageProductComposerShippingOptions4=function(t){var u=this.props.shippingOptions;u.splice(t,1);this.props.onShippingOptionsChange(u);var v=t>0?t-1:0;this.refs[v].focusInput();}.bind(this),p;}n.prototype.componentWillMount=function(){if(this.props.shippingOptions.length===0)this.props.onShippingOptionsChange([this.$PageProductComposerShippingOptions1()]);};n.prototype.componentWillReceiveProps=function(o){if(o.shippingOptions.length===0)this.props.onShippingOptionsChange([this.$PageProductComposerShippingOptions1()]);};n.prototype.render=function(){var o=this.props.shippingOptions.length,p=j({name:'cross',shade:'light',size:'small'}),q=[];this.props.shippingOptions.forEach(function(w){var x=w.shipping_service,y=q.length;q[y]=c('React').createElement('tr',{className:"_5b1f",key:'option-'+y},c('React').createElement('td',{className:"_b3y"},c('React').createElement(c('XUITextInput.react'),{className:"_2mfs",disabled:this.props.disabled,height:'tall',value:x,placeholder:i._("Delivery method name"),onChange:function(z){return this.$PageProductComposerShippingOptions2(y,z.target.value);}.bind(this),ref:y})),c('React').createElement('td',{className:"_b3z"},c('React').createElement(c('CurrencyInput.atlas'),{className:"_5rpn",currency:w.shipping_price_currency,disabled:this.props.disabled,isZeroValidValue:true,value:Number(w.shipping_price_value)/100,onChange:function(z){return this.$PageProductComposerShippingOptions3(y,z*100);}.bind(this)})),o>c('CommerceSelfServeUI').MIN_SHIPPING_OPTIONS?c('React').createElement('td',{className:"_b3-"},c('React').createElement(c('Link.react'),{onClick:function(z){this.props.disabled?null:this.$PageProductComposerShippingOptions4(y);}.bind(this)},c('React').createElement(c('Image.react'),{className:"_2_qb",src:p}))):null);}.bind(this));var r=void 0,s=c('React').createElement(c('XUIText.react'),{size:'small'},i._("Add delivery method"));if(o>=c('CommerceSelfServeUI').MAX_SHIPPING_OPTIONS){var t=i._("You've reached the maximum number of delivery options.");r=c('React').createElement(c('Link.react'),{'data-hover':'tooltip','data-tooltip-content':t,onClick:function w(x){return x.stopPropagation();}},s);}else r=c('React').createElement(c('Link.react'),{onClick:this.props.disabled?null:this.$PageProductComposerShippingOptions5},s);var u=null;if(this.props.settingsURI)u=c('React').createElement(c('Link.react'),{className:"_3-9b",href:this.props.settingsURI,target:'_blank'},i._("Edit default delivery options"));var v=null;if(!this.props.hideTitle)v=c('React').createElement('div',{className:"_3-94"},c('React').createElement(c('XUIGrayText.react'),{display:'block',weight:'bold',shade:'dark',size:'small'},i._("Delivery Options"),u),c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small'},i._("Customers will only be charged one delivery fee per order, even if they order more than one of this item.")));return c('React').createElement('div',{className:"_4qx _2pid"},v,c('React').createElement('table',{className:"_b40"},c('React').createElement('tbody',null,q)),c('React').createElement('div',{className:"_2pic _2pir"},r));};n.propTypes={currencyCode:m.string.isRequired,disabled:m.bool,hideTitle:m.bool,settingsURI:m.object,shippingOptions:m.arrayOf(m.shape({shipping_country:m.string,shipping_price_currency:m.string,shipping_price_value:m.number,shipping_service:m.string})).isRequired,onShippingOptionsChange:m.func.isRequired};f.exports=n;}),null);
__d('PageProductComposerTaxCategorySelector.react',['cx','fbt','invariant','AdsHelpLink.react','BUIFormSelector.react','CommerceSelfServeProductTaxCategories','React','XUIGrayText.react','forEachObject'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('BUIFormSelector.react').Option,n=c('React').PropTypes;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$PageProductComposerTaxCategorySelector1=function(u){!c('CommerceSelfServeProductTaxCategories').hasOwnProperty(u)?j(0):void 0;switch(c('CommerceSelfServeProductTaxCategories')[u]){case c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION:return i._("Sport and recreation");case c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_CLOTHING:return i._("Clothing");case c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_SHOES:return i._("Shoes");case c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_LUGGAGE_BAGS:return i._("Luggage\/Bags");case c('CommerceSelfServeProductTaxCategories').TAX_ITME_CODE_COMMERCE_PERSONAL_CARE:return i._("Personal care");case c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_JEWELRY:return i._("Jewellery");case c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_WATCHES:return i._("Watches");case c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_OTHERS:return i._("Other physical goods");default:j(0);}},q;}o.prototype.render=function(){var p=[];c('forEachObject')(c('CommerceSelfServeProductTaxCategories'),function(q,r){if(q!==c('CommerceSelfServeProductTaxCategories').NONE&&q!==c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD)p.push(c('React').createElement(m,{value:q,key:'UNSPSC_'+q},this.$PageProductComposerTaxCategorySelector1(r)));}.bind(this));return c('React').createElement('div',{className:"_3-8x"},c('React').createElement(c('XUIGrayText.react'),{className:"_3-94",display:'block',weight:'bold',shade:'dark',size:'small'},i._("Product category"),c('React').createElement(c('AdsHelpLink.react'),{width:350,position:'below'},i._("This category is used to calculate taxes. You can also enter a tax rate under Custom Product Taxes in Advanced Options."))),c('React').createElement(c('BUIFormSelector.react'),{density:'snug',onChange:this.props.onTaxCategoryChange,value:this.props.taxCategory},p));};o.propTypes={onTaxCategoryChange:n.func,taxCategory:n.number};o.defaultProps={taxCategory:c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_OTHERS};f.exports=o;}),null);
__d('PageProductReviewNUX.react',['cx','fbt','React','ReactLayeredComponentMixin_DEPRECATED','XUIDialog.react','XUIDialogBody.react','XUICloseButton.react','XUIDialogFooter.react','XUIDialogOkayButton.react','XUIGrayText.react','classWithMixins','mixin'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=500;j=babelHelpers.inherits(n,c('classWithMixins')(c('React').Component,c('mixin')(c('ReactLayeredComponentMixin_DEPRECATED'))));k=j&&j.prototype;function n(){k.constructor.call(this);this.state={dialogShown:true};}n.prototype.render=function(){return c('React').createElement('span',null);};n.prototype.renderLayers=function(){if(!this.state.dialogShown)return {};return {dialog:c('React').createElement(c('XUIDialog.react'),{width:m,onToggle:function(o){return this.$PageProductReviewNux1.bind(this,o);}.bind(this),shown:this.state.dialogShown,layerHideOnBlur:false},c('React').createElement('div',{className:"_2pie _2pij"},c('React').createElement(c('XUICloseButton.react'),{label:this.props.closeButtonText,className:"layerCancel rfloat"})),c('React').createElement(c('XUIDialogBody.react'),{className:"_4o_9"},c('React').createElement('h1',{className:"_4o_a"},this.$PageProductReviewNux2()),c('React').createElement(c('XUIGrayText.react'),{size:'medium'},this.$PageProductReviewNux3())),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogOkayButton.react'),{use:'confirm',action:'button',onClick:this.$PageProductReviewNux1.bind(this,false)})))};};n.prototype.$PageProductReviewNux2=function(){return i._("You've just added your first product!");};n.prototype.$PageProductReviewNux3=function(){return i._("All products are processed before they are visible to your customers. You will receive a notification when this is done, usually within a few minutes.");};n.prototype.$PageProductReviewNux1=function(o){this.setState({dialogShown:o});if(!o&&this.props.onDialogClosed)this.props.onDialogClosed();};n.propTypes={onDialogClosed:l.func};f.exports=n;}),null);
__d('ProductVisibilitySelector.react',['fbt','BUIFormSelector.react','ProductVisibility','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('BUIFormSelector.react').Option,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.prototype.render=function(){var n=this.props,o=n.onChange,p=n.value,q=babelHelpers.objectWithoutProperties(n,['onChange','value']);return (c('React').createElement(c('BUIFormSelector.react'),babelHelpers['extends']({onChange:function(r){function s(t){return r.apply(this,arguments);}s.toString=function(){return r.toString();};return s;}(function(r){return o(r.value);}),value:p},q),c('React').createElement(k,{value:c('ProductVisibility').PUBLISHED},h._("Public")),c('React').createElement(k,{value:c('ProductVisibility').STAGING},h._("Unpublished"))));};function m(){i.apply(this,arguments);}m.propTypes=babelHelpers['extends']({onChange:l.func.isRequired,value:l.string.isRequired},c('BUIFormSelector.react').propTypes);f.exports=m;}),null);
__d("XPagesManagerFeaturedItemsCountController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/featured_items_count\/",{});}),null);
__d("XPagesManagerProductCreateController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/products\/product_create\/",{});}),null);
__d("XPagesManagerProductVariantsController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/product_variants\/",{product_group_id:{type:"String",required:true}});}),null);
__d("XPagesManagerProductViewController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/product\/",{product_id:{type:"String",required:true}});}),null);
__d('PageProductComposerDialog.react',['ix','cx','fbt','AdsCurrencyFormatter','AdsHelpLink.react','AsyncRequest','ActorURI','BOFSellerLogger','BOFSellerLoggerEvent','BOFSellerLoggingSources','BUIFormButton.react','CommerceExceptionHandlerMixin.react','CommerceSelfServeSection','CommerceSelfServeProductTaxCategories','CommerceSelfServeProductTaxRatesTable.react','Currency','AdsCurrencyInput.react','DOM','FBToggleSwitch.react','InlineBlock.react','Image.react','Link.react','NumberInput.atlas','PageCommerceProductVariantPage.react','PageContentTabDispatcher','PageContentTabProductPhotoUploader.react','PagesManagerProductToolsConstants','PageProductActions','PageProductComposerShippingOptions.react','PageProductComposerTaxCategorySelector.react','PageProductReviewNUX.react','PECurrency','ProductVisibility','ProductVisibilitySelector.react','React','ReactDOM','TextAreaWithLineLimit.react','URI','XCommerceSelfServeParam','XPagesManagerFeaturedItemsCountController','XPagesManagerProductCreateController','XPagesManagerProductVariantsController','XPagesManagerSettingsController','XPagesManagerProductViewController','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogHeader.react','XUIDialogHeaderTitle.react','XUIDialogTitle.react','XUIError.react','XUIGrayText.react','XUINotice.react','XUISpinner.react','XUITextInput.react','areEqual','fbglyph','getOwnObjectValues','PageContentTabConstants'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('PageContentTabConstants').TABS,m=500,n=80,o=3,p=.5,q=100,r={main:'main',variant:'variant'},s={edit:'Edit',advanced:'Advanced'},t=c('React').createClass({displayName:'PageProductComposerDialog',mixins:[c('CommerceExceptionHandlerMixin.react')],propTypes:{checkoutURL:k.string,collectionID:k.string,currencyCode:k.string.isRequired,defaultShippingOptions:k.array,onProductChanged:k.func,onProductCreated:k.func,onProductDeleted:k.func,pageContentTabAccessToken:k.string.isRequired,pageID:k.string.isRequired,productCatalogID:k.string.isRequired,productID:k.string,productGroupID:k.string,requireDescription:k.bool.isRequired,sections:k.array.isRequired,shownInitially:k.bool,showShareToTimelineToggle:k.bool,showVideoUploadButton:k.bool,source:k.oneOf(c('getOwnObjectValues')(c('BOFSellerLoggingSources'))).isRequired},getDefaultProps:function u(){return {showShareToTimelineToggle:true};},getInitialState:function u(){return {checkoutURL:this.props.checkoutURL||'',currentTabKey:s.edit,currentPage:r.main,dialogShown:this.props.shownInitially,errorTabs:[],featuredCount:0,hasAttemptedSave:false,inventory:1000,isOnSale:false,loading:false,saving:false,photos:[],videos:[],productDesc:'',productPrice:null,productSalePrice:0,productTitle:'',productVisibility:c('ProductVisibility').PUBLISHED,shareToTimeline:false,shippingOptions:this.props.defaultShippingOptions||[],taxCategory:c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_OTHERS,taxRates:{state_abbr:{},zip_code:{}},showVariants:false,visibilityNotice:null,variants:[],variantItems:{}};},componentWillMount:function u(){if(this.props.productID)this._fetchProductDetails(this.props.pageID,this.props.productID);if(this.props.productGroupID)this._fetchVariants(this.props.pageID,this.props.productGroupID);this._fetchFeaturedCount(this.props.pageID);},componentDidMount:function u(){var event=this.props.productID?c('BOFSellerLoggerEvent').ACTN_EDIT_PRODUCT_CLICK:c('BOFSellerLoggerEvent').ACTN_ADD_PRODUCT_CLICK,v=babelHelpers['extends']({source:this.props.source},{});if(this.props.productID){v.target_class='EntProdutItem';v.target_id=this.props.productID;}c('BOFSellerLogger').log(event,this.props.pageID,v);},componentWillReceiveProps:function u(v){if(this.props.pageID!==v.pageID||this.props.productID!==v.productID||this.props.productGroupID!==v.productGroupID){this._fetchProductDetails(v.pageID,v.productID);this._fetchVariants(v.pageID,v.productGroupID);}},_fetchFeaturedCount:function u(v){this.setState({loading:true});var w=c('ActorURI').create(c('XPagesManagerFeaturedItemsCountController').getURIBuilder().getURI(),v);new (c('AsyncRequest'))().setURI(w).setHandler(function(x){var y=this.state.featuredProduct,z=x.payload.featured_count;if(z>=c('PagesManagerProductToolsConstants').MAX_FEATURED_ITEM_COUNT)y=false;this.setState({loading:false,featuredCount:z,featuredProduct:y});}.bind(this)).send();},_fetchProductDetails:function u(v,w){this.setState({loading:true});var x=c('ActorURI').create(c('XPagesManagerProductViewController').getURIBuilder().setString(c('XCommerceSelfServeParam').PRODUCT_ID,w).getURI(),v);new (c('AsyncRequest'))().setURI(x).setHandler(this._onProductDetailsFetched).send();},_fetchVariants:function u(v,w){this.setState({loading:true});var x=c('ActorURI').create(c('XPagesManagerProductVariantsController').getURIBuilder().setString('product_group_id',w).getURI(),v);new (c('AsyncRequest'))().setURI(x).setHandler(function(y){var z=y.payload,aa={variants:z.variants,variantItems:z.variantItems};this._oldVariants=this._deepClone(aa);z.reviewedVariantData=this._deepClone(aa);this.setState(z);}.bind(this)).send();},_oldVariants:{},_deepClone:function u(v){return JSON.parse(JSON.stringify(v));},onPhotosSelected:function u(v){this.setState({photos:this.state.photos.concat(v)});},onPhotoRemoved:function u(v){this.setState({photos:this.state.photos.filter(function(w){return w.fbid!==v.fbid;})});},onPhotoEdited:function u(v,w){var x=this.state.photos.findIndex(function(z){return z.fbid===v;});if(x!==undefined){c('BOFSellerLogger').log(c('BOFSellerLoggerEvent').ACTN_PHOTO_EDITED,this.props.pageID,{target_class:'Photo',target_id:w.fbid});var y=this.state.photos.slice();y[x]=w;this.setState({photos:y});}},_onVideoSelected:function u(v){var w=this.state.videos;w=w.concat({requestID:v,fbid:v,src:null,ready:false,error:false});this.setState({videos:w});},_onVideoRemoved:function u(v){this.setState({videos:this.state.videos.filter(function(w){return w.fbid!==v.fbid;})});},_onVideoUploadFinished:function u(v,w,x){var y=this.state.videos;for(var z=0;z<y.length;z++)if(y[z].requestID===v){y[z].fbid=w;y[z].src=x;y[z].ready=true;}this.setState({videos:y});},_onVideoUploadError:function u(v){var w=this.state.videos;for(var x=0;x<w.length;x++)if(w[x].requestID===v){w[x].error=true;w[x].ready=false;}this.setState({videos:w});},_getDialogHeader:function u(){switch(this.state.currentPage){case r.main:return (c('React').createElement(c('XUIDialogHeader.react'),{activeTabKey:this.state.currentTabKey,onTabClick:this._handleTabChange},this._getTabHeaders()));case r.variant:return (c('React').createElement(c('XUIDialogTitle.react'),null,this._getTitle()));}return c('React').createElement('div',null);},_getTabHeaders:function u(){var v=[c('React').createElement(c('XUIDialogHeaderTitle.react'),{href:'#',key:s.edit},this._getTitle())];if(this._showSection(c('CommerceSelfServeSection').TAX_TABLE))v.push(c('React').createElement(c('XUIDialogHeaderTitle.react'),{href:'#',key:s.advanced},j._("Advanced options")));return v;},_getTabBodies:function u(){var v=this.state.currentTabKey==s.edit,w=null;if(this.state.photos.length===0&&this.state.videos.length===0)w=c('React').createElement(c('XUINotice.react'),{size:'small'},c('React').createElement('div',{className:"_1mxl"},j._("Take a look at our {link} for tips on making your product images look good on Facebook.",[j.param('link',c('React').createElement(c('Link.react'),{href:'https://www.facebook.com/business/help/481150918755515',target:'_blank'},j._("recommended photo guidelines")))])));var x=[c('React').createElement('div',{className:v?"_2pi1":"hidden_elem",key:'basic_product_edit_tab'},c('React').createElement('div',{dangerouslySetInnerHTML:this.state.visibilityNotice}),c('React').createElement('div',null,c('React').createElement(c('PageContentTabProductPhotoUploader.react'),{className:"_2anr",pageID:this.props.pageID,photoEditingEnabled:true,photos:this.state.photos,onPhotosSelected:this.onPhotosSelected,onPhotoRemoved:this.onPhotoRemoved,onPhotoEdited:this.onPhotoEdited,productCatalogID:this.props.productCatalogID,pageContentTabAccessToken:this.props.pageContentTabAccessToken,videos:this.state.videos,onVideoSelected:this._onVideoSelected,onVideoUploadFinished:this._onVideoUploadFinished,onVideoUploadError:this._onVideoUploadError,onVideoRemoved:this._onVideoRemoved,showVideoUploadButton:this.props.showVideoUploadButton}),w),c('React').createElement('div',{className:"clearfix"}),this._getNamePriceDescriptionInputs(),this._getCheckoutURLInput(),this._getFeaturedToggleSwitch(),this._getShareToTimelineToggle(),c('React').createElement('div',{className:"clearfix"}),c('React').createElement('div',{className:"_4o5s"},this._getInventoryInput()),c('React').createElement('div',{className:"_4o5t"},this._getTaxCategorySelector()),c('React').createElement('div',{className:"clearfix"}),c('React').createElement('div',{className:"_4o5s"},this._getVariantsButton()),c('React').createElement('div',{className:"_4o5t"},this._getVisibilitySelector()),this._getShippingOptionsSection(),this._getEditWarning())];if(this._showSection(c('CommerceSelfServeSection').TAX_TABLE))x.push(c('React').createElement('div',{className:(v?"hidden_elem":'')+(' '+"_2pi1")+(' '+"_5dz6"),key:'advanced_product_edit_tab'},this._getTaxTable()));return x;},_getMerchantSettingsURI:function u(){return c('XPagesManagerSettingsController').getURIBuilder().setString('page_token',this.props.pageID).setString('tab','shop').getURI();},_getTaxTable:function u(){return (c('React').createElement('div',null,c('React').createElement('div',{display:'block',className:"_3-96"},c('React').createElement(c('XUIGrayText.react'),{weight:'bold',shade:'dark',size:'medium'},j._("Custom product taxes")),c('React').createElement(c('AdsHelpLink.react'),{width:350,position:'below'},j._("You can enter specific taxes for products taxed at special rates, such as some foods and beverages."))),c('React').createElement(c('CommerceSelfServeProductTaxRatesTable.react'),{taxRates:this.state.taxRates,onChangeTaxRates:this._onChangeTaxRates}),c('React').createElement('div',{display:'block',className:"_3-8x"},c('React').createElement(c('Link.react'),{href:this._getMerchantSettingsURI(),target:'_blank'},j._("View default shop taxes")))));},_getInnerContent:function u(){if(this.state.loading)return (c('React').createElement(c('XUISpinner.react'),{className:"_2_i8",size:'large'}));switch(this.state.currentPage){case r.main:return (c('React').createElement('div',null,this._getTabBodies()));case r.variant:return (c('React').createElement('div',null,c('React').createElement('div',{className:"_1go"},c('React').createElement(c('InlineBlock.react'),{alignv:'middle',className:"_1gp",onClick:this._onVariantsSaveButtonClicked},c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/chevron-left_20_bluegray-40.png")})),c('React').createElement(c('InlineBlock.react'),{alignv:'middle',className:"_1gq"},j._("Variants"))),c('React').createElement('div',{className:"_3-8j"},c('React').createElement(c('XUIGrayText.react'),{display:'block'},j._("Variants are the different styles \u2013 such as sizes, colours or materials \u2013 that a product comes in."))),c('React').createElement(c('PageCommerceProductVariantPage.react'),{currencyCode:this.props.currencyCode,defaultVariantPrice:this.state.productPrice,getPriceError:this._getPriceError,isOnSale:this.state.isOnSale,setVariantInfo:function(v){return this.setState(v);}.bind(this),variants:this.state.variants,variantItems:this.state.variantItems})));}return c('React').createElement('div',null);},_backToMainPage:function u(){this.setState({currentPage:r.main});},_getVariantsButton:function u(){if(!this._showSection(c('CommerceSelfServeSection').VARIANTS))return null;return (c('React').createElement('div',{className:"_3-8x"},c('React').createElement(c('XUIGrayText.react'),{weight:'bold',shade:'dark',size:'small',display:'block'},j._("Variants"),c('React').createElement(c('AdsHelpLink.react'),{width:350,position:'below'},j._("Variants are the different styles \u2013 such as sizes, colours or materials \u2013 that a product comes in."))),c('React').createElement(c('BUIFormButton.react'),{className:"_3-8w",density:'snug',label:j._("Edit Variants"),onClick:function(){return this.setState({currentPage:r.variant});}.bind(this)})));},_getCheckoutURLInput:function u(){if(!this._showSection(c('CommerceSelfServeSection').CHECKOUT_URL))return null;return (c('React').createElement('div',{className:"_3-97"},c('React').createElement(c('XUIGrayText.react'),{display:'inline',shade:'dark',size:'small',weight:'bold'},j._("Checkout URL")),c('React').createElement(c('AdsHelpLink.react'),{width:350,position:'above'},j._("The website where users will be directed to purchase this product")),c('React').createElement(c('XUITextInput.react'),{className:"_2mfs",disabled:this.state.loading,height:'tall',name:'checkoutURL',onChange:function(event){return this.setState({checkoutURL:event.target.value});}.bind(this),placeholder:j._("http:\/\/www.example.com"),value:this.state.checkoutURL,xuiError:this.getFieldErrorMessage(c('XCommerceSelfServeParam').CHECKOUT_URL)})));},_getDialogFooter:function u(){switch(this.state.currentPage){case r.main:return this._getMainFooter();case r.variant:return this._getVariantsFooter();}return null;},_getMainFooter:function u(){var v=null;if(this.props.productID&&!this.state.loading)v=c('React').createElement(c('Link.react'),{onClick:this.state.saving?null:this._onDeleteProductClicked},c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small'},j._("Delete product")));var w=this.state.saving?c('React').createElement(c('XUISpinner.react'),{size:'small',className:"_3-90"}):null;return (c('React').createElement(c('XUIDialogFooter.react'),{leftContent:v},w,c('React').createElement(c('XUIDialogCancelButton.react'),{disabled:this.state.saving||this.state.loading}),c('React').createElement(c('XUIDialogButton.react'),{use:'confirm',label:this._getSaveButtonText(),action:'button',disabled:this.state.saving||this.state.loading,onClick:this._onSubmitButtonClicked})));},_getVariantsFooter:function u(){return (c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:j._("Cancel"),action:'button',use:'default',onClick:this._onVariantsCancelButtonClicked}),c('React').createElement(c('XUIDialogButton.react'),{label:j._("Apply"),action:'button',use:'confirm',onClick:this._onVariantsSaveButtonClicked})));},_onVariantsCancelButtonClicked:function u(){this.setState(this._deepClone(this._oldVariants));this._backToMainPage();},_onVariantsSaveButtonClicked:function u(){this._oldVariants=this._deepClone({variants:this.state.variants,variantItems:this.state.variantItems});this._backToMainPage();},show:function u(){this.setState({currentPage:r.main,dialogShown:true});},hide:function u(){this.setState({dialogShown:false});},_onDeleteProductClicked:function u(){c('PageProductActions').deleteProductsWithConfirmation(Array(this.props.productGroupID),this.props.pageID,function(){this.hide();if(this.props.onProductDeleted)this.props.onProductDeleted();}.bind(this));},_getNamePriceDescriptionInputs:function u(){var v=null;if(this.props.requireDescription){v=j._("Add details about your item");}else v=j._("Add details about your item (optional)");var w=null;if(this.state.variants.length===0){w=c('React').createElement(c('AdsCurrencyInput.react'),{className:"_5rpn",currency:this.props.currencyCode,disabled:this.state.loading||this.state.variants.length>0,invalidInputIsNull:true,nonnegative:true,onDataUpdate:function(z){return this.setState({productPrice:z});}.bind(this),placeholder:j._("Enter price"),value:this.state.productPrice,xuiError:this.state.hasAttemptedSave?this._getPriceError(this.state.productPrice):null});}else w=c('React').createElement('div',{className:"_4o5u"},c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'medium',className:"_4o5v"},this._getVariantsPriceRange('price')),c('React').createElement(c('Link.react'),{size:'small',className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:r.variant});}.bind(this)},j._("Edit")));var x=null;if(this.state.isOnSale){var y=void 0;if(this.state.variants.length===0){y=c('React').createElement(c('AdsCurrencyInput.react'),{className:"_5rpn",currency:this.props.currencyCode,disabled:this.state.loading||this.state.variants.length>0,invalidInputIsNull:true,nonnegative:true,onDataUpdate:function(z){return this.setState({productSalePrice:z});}.bind(this),placeholder:j._("Enter price"),value:this.state.productSalePrice,xuiError:this.state.hasAttemptedSave?this._getPriceError(this.state.productSalePrice):null});}else y=c('React').createElement('div',{className:"_4o5u"},c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'medium',className:"_4o5v"},this._getVariantsPriceRange('salePrice')),c('React').createElement(c('Link.react'),{size:'small',className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:r.variant});}.bind(this)},j._("Edit")));x=c('React').createElement('div',{className:"_4o5t"},c('React').createElement(c('XUIGrayText.react'),{className:"_3-8x _3-94",display:'block',weight:'bold',shade:'dark',size:'small'},j._("Sale price")),y);}return (c('React').createElement('div',{className:"_2pin"},c('React').createElement(c('XUIGrayText.react'),{className:"_3-94",display:'block',weight:'bold',shade:'dark',size:'small'},j._("Name")),c('React').createElement(c('XUITextInput.react'),{name:'productTitle',className:"_2mfs",disabled:this.state.loading,value:this.state.productTitle,height:'tall',maxLength:n,onChange:function(event){return this.setState({productTitle:event.target.value});}.bind(this),xuiError:this.getFieldErrorMessage(c('XCommerceSelfServeParam').PRODUCT_TITLE)}),c('React').createElement('div',{className:this.state.isOnSale?"_4o5s":''},c('React').createElement(c('XUIGrayText.react'),{className:"_3-8x _3-94",display:'block',weight:'bold',shade:'dark',size:'small'},j._("Price")),w),x,c('React').createElement('div',{className:"clearfix"}),this._getSaleToggleSwitch(),c('React').createElement(c('XUIGrayText.react'),{className:"_3-8x _3-94",display:'block',weight:'bold',shade:'dark',size:'small'},j._("Description")),c('React').createElement(c('XUIError.react'),{xuiError:this.getFieldErrorMessage(c('XCommerceSelfServeParam').PRODUCT_DESCRIPTION)},c('React').createElement(c('TextAreaWithLineLimit.react'),{name:'productDescription',className:"_3jm",disabled:this.state.loading,rows:o,value:this.state.productDesc,onChange:function(z){return this.setState({productDesc:z});}.bind(this),placeholder:v}))));},_getVariantsPriceRange:function u(v){var w=Number.MAX_VALUE,x=Number.MIN_VALUE;for(var y in this.state.variantItems){var z=this.state.variantItems[y];if(z[v]<w)w=z[v];if(z[v]>x)x=z[v];}w*=100;x*=100;var aa=this.props.currencyCode;if(w===x){return c('PECurrency').formatAmount(aa,w,true,false,false);}else return (c('PECurrency').formatAmount(aa,w,true,false,false)+' - '+c('PECurrency').formatAmount(aa,x,true,false,false));},_getTaxCategorySelector:function u(){if(!this._showSection(c('CommerceSelfServeSection').TAX_CATEGORY))return null;var v=this.state.taxCategory||c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_OTHERS;if(v===c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD)v=c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION;return (c('React').createElement(c('PageProductComposerTaxCategorySelector.react'),{className:"_3-8y",onTaxCategoryChange:this._handleTaxCategoryChange,taxCategory:v}));},_getVisibilitySelector:function u(){if(!this._showSection(c('CommerceSelfServeSection').PRODUCT_VISIBILITY))return null;return (c('React').createElement('div',null,c('React').createElement(c('XUIGrayText.react'),{className:"_3-94 _3-8x",display:'block',weight:'bold',shade:'dark',size:'small'},j._("Visibility")),c('React').createElement(c('ProductVisibilitySelector.react'),{density:'snug',onChange:function(v){return this.setState({productVisibility:v});}.bind(this),value:this.state.productVisibility})));},_getInventoryInput:function u(){if(!this._showSection(c('CommerceSelfServeSection').INVENTORY))return null;var v=null;if(this.state.variants.length===0){v=c('React').createElement(c('NumberInput.atlas'),{className:"_3-96",disabled:this.state.loading,isZeroValidValue:true,name:'productInventory',nonnegative:true,value:this.state.inventory,formatNumber:false,onValueUpdated:function(y){return this.setState({inventory:y});}.bind(this)});}else{var w=0;for(var x in this.state.variantItems)w+=this.state.variantItems[x].inventory;v=c('React').createElement('div',{className:"_4o5u"},c('React').createElement('div',{className:"_4o5v"},c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'medium'},w)),c('React').createElement(c('Link.react'),{size:'small',className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:r.variant});}.bind(this)},j._("Edit inventory")));}return (c('React').createElement('div',null,c('React').createElement(c('XUIGrayText.react'),{className:"_3-94 _3-8x",display:'block',weight:'bold',shade:'dark',size:'small'},j._("Inventory")),v));},_getSaleToggleSwitch:function u(){if(!this._showSection(c('CommerceSelfServeSection').SALE_PRICE))return null;return (c('React').createElement('div',{className:"_3-8x"},c('React').createElement(c('FBToggleSwitch.react'),{disabled:this.state.loading,animate:true,checked:this.state.isOnSale,onToggle:function(v){return this.setState({isOnSale:v});}.bind(this)}),c('React').createElement('span',{className:"_3jn"},j._("This product is on sale"),c('React').createElement(c('AdsHelpLink.react'),{width:350,position:'below'},j._("Show people you're selling this product at a discount by setting a sale price in addition to the regular price.")))));},_getShippingOptionsSection:function u(){if(!this._showSection(c('CommerceSelfServeSection').SHIPPING_OPTIONS))return null;return (c('React').createElement(c('PageProductComposerShippingOptions.react'),{currencyCode:this.props.currencyCode,disabled:this.state.loading,shippingOptions:this.state.shippingOptions,settingsURI:this.props.productID?undefined:this._getMerchantSettingsURI(),onShippingOptionsChange:function(v){return this.setState({shippingOptions:v});}.bind(this)}));},_getShareToTimelineToggle:function u(){if(this.props.productID||!this.props.showShareToTimelineToggle)return null;var v=null;if(this.state.shareToTimeline)v=c('React').createElement('div',{className:"_4lw_"},j._("Your product will be shared on your Page as soon as it's been approved."));return (c('React').createElement('div',null,c('React').createElement(c('FBToggleSwitch.react'),{disabled:this.state.loading,animate:true,checked:this.state.shareToTimeline,onToggle:function(w){return this.setState({shareToTimeline:w});}.bind(this)}),c('React').createElement('span',{className:"_3jn"},j._("Share this product on your page"),c('React').createElement(c('AdsHelpLink.react'),{width:350,position:'above'},j._("Automatically post this product to your Page's Timeline as soon as it's been approved."))),v));},_unpackTaxRates:function u(){var v=[],w={},x={};for(var y in this.state.taxRates){var z=this.state.taxRates[y];for(var aa in z){v[v.length]=aa;w[aa]=z[aa].tax_rate;x[aa]=z[aa].is_applied_to_shipping;}}return {tax_locations:v,tax_percent_map:w,tax_applied_to_shipping_map:x};},_getFeaturedToggleSwitch:function u(){if(!this._showSection(c('CommerceSelfServeSection').FEATURED_PRODUCT_TOGGLE))return null;return (c('React').createElement('div',{className:"_3-95"},c('React').createElement(c('FBToggleSwitch.react'),{disabled:this.state.loading||this._isFeatureProductToggleDisabled(),animate:true,checked:this.state.featuredProduct,onToggle:this._handleFeatureProductToggleChange}),c('React').createElement('span',{className:"_3jn"},j._("Feature this product"),c('React').createElement(c('AdsHelpLink.react'),{width:350,position:'above'},this._getHelpText()))));},_handleFeatureProductToggleChange:function u(v){var w=v?this.state.featuredCount+1:this.state.featuredCount-1;this.setState({featuredProduct:v,featuredCount:w});},_isFeatureProductToggleDisabled:function u(){return (!this.state.featuredProduct&&this.state.featuredCount>=c('PagesManagerProductToolsConstants').MAX_FEATURED_ITEM_COUNT);},_getHelpText:function u(){if(this._isFeatureProductToggleDisabled())return j._({"*":"You've already chosen {Maximum number of products that can be featured} to feature. Stop featuring one of your currently selected products to feature this one instead."},[j.param('Maximum number of products that can be featured',c('PagesManagerProductToolsConstants').MAX_FEATURED_ITEM_COUNT,[0])]);return j._({"*":"Featured products appear at the top of your Page and are listed first in your shop. You can feature up to {Maximum number of products that can be featured} products."},[j.param('Maximum number of products that can be featured',c('PagesManagerProductToolsConstants').MAX_FEATURED_ITEM_COUNT,[0])]);},_getTitle:function u(){if(this.state.currentPage===r.variant)return j._("Edit variants");if(this.props.productID)return j._("Edit Product");return j._("Add product");},_getSaveButtonText:function u(){return j._("Save");},_onProductDetailsFetched:function u(v){var w=v.payload,x=w.visibility_notice===null?null:w.visibility_notice.markup;for(var y=0;y<w.videos.length;y++){w.videos[y].ready=true;w.videos[y].error=false;}var z=c('Currency').getOffset(this.props.currencyCode),aa=w.price,ba=w.sale_price;if(z>0){aa=aa*z/q;ba=ba*z/q;}this.setState({checkoutURL:w.checkout_url,currentTabKey:s.edit,currentPage:r.main,dialogShown:true,productTitle:w.name,productDesc:w.description,productPrice:aa,productSalePrice:ba,productVisibility:w.visibility,photos:w.images,videos:w.videos,featuredProduct:w.featured_product,inventory:w.inventory,shippingOptions:w.shipping_options,taxCategory:w.tax_category,showVariants:w.show_variants,visibilityNotice:x,loading:false,featuredCount:w.featured_count,taxRates:w.tax_rates});},_onToggleDialog:function u(v){this.setState({dialogShown:v});if(v)return;var w=babelHelpers['extends']({source:this.props.source},{}),event=c('BOFSellerLoggerEvent').ACTN_CANCEL_ADD_PRODUCT;if(this.props.productID){w.target_class='EntProdutItem';w.target_id=this.props.productID;event=c('BOFSellerLoggerEvent').ACTN_CANCEL_EDIT_PRODUCT;}c('BOFSellerLogger').log(event,this.props.pageID,w);c('ReactDOM').unmountComponentAtNode(c('ReactDOM').findDOMNode(this).parentNode);},_getPriceError:function u(v){var w=null;if(this._showSection(c('CommerceSelfServeSection').MINIMUM_PRICE_ERROR)&&(!v||v<p)){var x=c('AdsCurrencyFormatter').formatCurrency('USD',p*100);w=j._("Price must be at least {Minimum Product Price}",[j.param('Minimum Product Price',x)]);}else if(v==null||v<0)w=j._("A non-negative price is required");return w;},_getEditWarning:function u(){if(!this.props.productID||this.state.visibilityNotice)return null;var v=this.state;if(!c('areEqual')(v.reviewedVariantData,{variants:v.variants,variantItems:v.variantItems}))return (c('React').createElement(c('XUINotice.react'),{size:'small',className:"_3-8y"},j._("This product has been approved and is visible to anyone who visits your shop. If you edit this product, we'll review any changes before they're made publicly visible.")));return null;},_handleTabChange:function u(v){this.setState({currentTabKey:v});},_handleTaxCategoryChange:function u(v){this.setState({taxCategory:v.value});},_validatePrices:function u(){var v=this.state.variants,w=this.state.variantItems;if(!v||v.length===0){if(this._getPriceError(this.state.productPrice)||this.state.isOnSale&&this._getPriceError(this.state.productSalePrice)){this._navigateToTab(s.edit);return false;}return true;}for(var x in this.state.variantItems)if(w[x].price<p||this.state.isOnSale&&w[x].salePrice<p){this._navigateToTab(r.variant);return false;}return true;},_onSubmitButtonClicked:function u(){this.setState({saving:true,hasAttemptedSave:true});if(!this._validatePrices()){this.setState({saving:false});return;}var v=[];this.state.photos.forEach(function(sa){v.push(sa.fbid);});var w=[];this.state.videos.forEach(function(sa){if(sa.ready&&!sa.error)w.push(sa.fbid);});var x=this.state.shippingOptions.filter(function(sa){return sa.shipping_service&&!!sa.shipping_service.trim();});this.setState({shippingOptions:x});var y=[],z=[];x.forEach(function(sa){y.push(sa.shipping_service);z.push(Math.round(sa.shipping_price_value));});var aa=this._unpackTaxRates(),ba=this.state.variants,ca=ba.map(function(sa){return sa.label;}),da=ba.map(function(sa){return sa.options;}),ea=this.state.variantItems,fa={},ga={},ha={},ia={},ja={};for(var ka in ea){var la=ea[ka];fa[ka]=la.inventory;ga[ka]=Math.round(la.price*100);ha[ka]=Math.round(la.salePrice*100);ia[ka]=JSON.stringify(la.properties);ja[ka]=la.productID;}var ma=this.state.productPrice,na=this.state.productSalePrice,oa=c('Currency').getOffset(this.props.currencyCode);if(oa>0){ma=ma/oa*q;na=na/oa*q;}var pa={};pa[c('XCommerceSelfServeParam').PRODUCT_TITLE]=this.state.productTitle;pa[c('XCommerceSelfServeParam').PRODUCT_DESCRIPTION]=this.state.productDesc;pa[c('XCommerceSelfServeParam').PRODUCT_PRICE]=ma;pa[c('XCommerceSelfServeParam').PRODUCT_SALE_PRICE]=na;pa[c('XCommerceSelfServeParam').IS_ON_SALE]=this.state.isOnSale;pa[c('XCommerceSelfServeParam').COLLECTION_ID]=this.props.collectionID;pa[c('XCommerceSelfServeParam').CURRENCY_CODE]=this.props.currencyCode;pa[c('XCommerceSelfServeParam').PRODUCT_PHOTO_IDS]=v;pa[c('XCommerceSelfServeParam').PRODUCT_VIDEO_IDS]=w;pa[c('XCommerceSelfServeParam').PRODUCT_ID]=this.props.productID;pa[c('XCommerceSelfServeParam').FEATURED_PRODUCT]=this.state.featuredProduct;pa[c('XCommerceSelfServeParam').SHARE_TO_TIMELINE]=this.props.showShareToTimelineToggle&&this.state.shareToTimeline;pa[c('XCommerceSelfServeParam').INVENTORY]=this.state.inventory;pa[c('XCommerceSelfServeParam').SHIPPING_OPTION_NAMES]=y;pa[c('XCommerceSelfServeParam').SHIPPING_OPTION_VALUES]=z;pa[c('XCommerceSelfServeParam').TAX_CATEGORY]=this.state.taxCategory;pa[c('XCommerceSelfServeParam').TAX_LOCATIONS]=aa.tax_locations;pa[c('XCommerceSelfServeParam').TAX_APPLIED_TO_SHIPPING_MAP]=aa.tax_applied_to_shipping_map;pa[c('XCommerceSelfServeParam').TAX_PERCENT_MAP]=aa.tax_percent_map;pa[c('XCommerceSelfServeParam').VARIANT_NAMES]=ca;pa[c('XCommerceSelfServeParam').VARIANT_INVENTORY]=fa;pa[c('XCommerceSelfServeParam').VARIANT_PRICE]=ga;pa[c('XCommerceSelfServeParam').VARIANT_SALE_PRICE]=ha;pa[c('XCommerceSelfServeParam').VARIANT_DATA]=ia;pa[c('XCommerceSelfServeParam').VARIANT_PRODUCT_ID]=ja;pa[c('XCommerceSelfServeParam').VISIBILITY]=this.state.productVisibility;pa[c('XCommerceSelfServeParam').CHECKOUT_URL]=this.state.checkoutURL;for(var qa=0;qa<da.length;qa++)pa['variant'+qa+'_options']=da[qa];var ra=c('ActorURI').create(c('XPagesManagerProductCreateController').getURIBuilder().getURI(),this.props.pageID);this.sendAsync(ra,pa,this._onProductUpdated,function(){return this.setState({saving:false});}.bind(this));},_navigateToTab:function u(v){switch(v){case r.variant:this.setState({currentPage:r.variant});break;case s.edit:this.setState({currentTabKey:s.edit});break;case s.advanced:this.setState({currentTabKey:s.advanced});break;}},_onChangeTaxRates:function u(v){this.setState({taxRates:v});},_onProductUpdated:function u(v){this.setState({saving:false,dialogShown:false});if(this.props.productID){c('PageContentTabDispatcher').handlePostChanged(v.payload);}else{if(this.props.onProductCreated)this.props.onProductCreated(v.payload);c('PageContentTabDispatcher').handlePostCreated(l.COMMERCE_PRODUCTS,v.payload,this.props.pageID);}if(v.payload.show_creation_nux){c('ReactDOM').render(c('React').createElement(c('PageProductReviewNUX.react'),{onDialogClosed:function(){if(this.props.onProductChanged)this.props.onProductChanged(v.payload);}.bind(this)}),c('DOM').create('div'));}else if(this.props.onProductChanged)this.props.onProductChanged(v.payload);c('ReactDOM').unmountComponentAtNode(c('ReactDOM').findDOMNode(this).parentNode);},render:function u(){if(!this.state.dialogShown)return null;var v=[];if(this.hasFieldErrors())v.push(j._("Your product can't be saved as is. Please check the product info, advanced options and variants, and try again."));if(this.hasGeneralError())v.push(this.getGeneralErrorMessage());var w=null;if(v.length>0)w=c('React').createElement('div',{className:"_2pib _2piq"},this.renderErrorMessages(v));return (c('React').createElement(c('XUIDialog.react'),{width:m,causalElementRef:function(){return this.refs.createButton;}.bind(this),onToggle:this._onToggleDialog,shown:this.state.dialogShown,key:'dialog'},this._getDialogHeader(),c('React').createElement(c('XUIDialogBody.react'),{useCustomPadding:true},this._getInnerContent()),w,this._getDialogFooter()));},_showSection:function u(v){return this.props.sections.indexOf(v)>=0;}});f.exports=t;}),null);
__d("XCommerceProductDialogLoaderController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/commerce\/product_composer_dialog\/loader\/",{page_id:{type:"Int",required:true}});}),null);
__d('PageProductComposerDialogLoader.react',['AsyncRequest','BOFSellerLoggingSources','PageProductComposerDialog.react','React','XCommerceProductDialogLoaderController','XCommerceSelfServeParam','getOwnObjectValues'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'PageProductComposerDialogLoader',propTypes:{onProductCreated:h.func,pageID:h.string.isRequired,source:h.oneOf(c('getOwnObjectValues')(c('BOFSellerLoggingSources'))).isRequired},getInitialState:function j(){return {loading:true};},componentWillMount:function j(){this._fetchPageDetails(this.props.pageID);},_fetchPageDetails:function j(k){var l=c('XCommerceProductDialogLoaderController').getURIBuilder().setInt(c('XCommerceSelfServeParam').PAGE_ID,k).getURI();new (c('AsyncRequest'))().setURI(l).setHandler(this._onPageDetailsFetched).send();},_onPageDetailsFetched:function j(k){var l=k.payload;this.setState({currencyCode:l.currency_code,defaultShippingOptions:l.default_shipping_options,loading:false,pageContentTabAccessToken:l.page_content_tab_access_token,productCatalogID:l.product_catalog_id,requireDescription:l.require_description,sections:l.sections,showVideoUploadButton:l.show_video_upload_button});},render:function j(){if(this.state.loading)return null;return (c('React').createElement(c('PageProductComposerDialog.react'),{currencyCode:this.state.currencyCode,defaultShippingOptions:this.state.defaultShippingOptions,onProductCreated:this.props.onProductCreated,pageContentTabAccessToken:this.state.pageContentTabAccessToken,pageID:this.props.pageID,productCatalogID:this.state.productCatalogID,requireDescription:this.state.requireDescription,sections:this.state.sections,shownInitially:true,showVideoUploadButton:this.state.showVideoUploadButton,source:this.props.source}));}});f.exports=i;}),null);
__d('ReactComposerPeopleTaggerTokenizerToken.react',['cx','React','SearchableEntry','TokenizerToken.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerPeopleTaggerTokenizerToken1=function(){return (c('React').createElement('span',{className:"_jsa"}));},n;}l.prototype.render=function(){'use strict';var m=this.props.entry&&this.props.entry.getAuxiliaryData().isFacebox,n=(m?"_jsb":'')+(' '+"_jsc");return (c('React').createElement(c('TokenizerToken.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,n),glyph:this.$ReactComposerPeopleTaggerTokenizerToken1()})));};l.propTypes={label:k.string.isRequired,entry:k.instanceOf(c('SearchableEntry')).isRequired,onRemove:k.func,highlighted:k.bool};f.exports=l;}),null);
__d('ReactComposerProductTaggerTokenizerToken.react',['cx','ReactComposerPeopleTaggerTokenizerToken.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l="_rox";return (c('React').createElement(c('ReactComposerPeopleTaggerTokenizerToken.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,l)})));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('ReactComposerProductTaggerComponent.react',['cx','fbt','BOFSellerLoggingSources','ReactComposerPhotoActions','ReactComposerProductTaggerTokenizerToken.react','ReactComposerTaggerPresenter','ReactComposerTaggerViewStyles','DOM','Grid.react','PageProductComposerDialogLoader.react','React','ReactDOM','SearchableEntry','TokenizerExampleSearchSource','XUITokenizer.react','emptyFunction'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('Grid.react').GridItem,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={edited:false},this.$ReactComposerProductTaggerComponent7=function(t){var u=t.products.data[0];if(this.$ReactComposerProductTaggerComponent6(u.id))return;var v={title:u.name,subtitle:u.price,type:'product_item',uniqueID:u.id};this.$ReactComposerProductTaggerComponent8(new (c('SearchableEntry'))(v));}.bind(this),this.$ReactComposerProductTaggerComponent2=function(t){if(t.getType()==='product_item_add'){c('ReactDOM').render(c('React').createElement(c('PageProductComposerDialogLoader.react'),{onProductCreated:this.$ReactComposerProductTaggerComponent7,pageID:this.props.pageIDs[0],source:c('BOFSellerLoggingSources').PAGE_COMPOSER}),c('DOM').create('div'));return;}if(this.$ReactComposerProductTaggerComponent6(t.getUniqueID()))return;this.$ReactComposerProductTaggerComponent8(t);}.bind(this),this.$ReactComposerProductTaggerComponent4=function(t){var u=this.props.taggerData,v=u.indexOf(t);if(v==-1)return;this.setState({edited:true});u.splice(v,1);c('ReactComposerPhotoActions').untagSubjectFromAllPhotos(this.props.reactComposerID,t.getUniqueID());this.props.onSelect&&this.props.onSelect(u);}.bind(this),this.$ReactComposerProductTaggerComponent3=function(event){this.setState({edited:true});}.bind(this),p;}n.prototype.render=function(){'use strict';return c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(l,{key:'label',className:"_5esm",role:'presentation'},i._("Products shown")),c('React').createElement(l,{key:'tokenizer',className:"_5esw",role:'presentation'},c('React').createElement('div',null,c('React').createElement(c('XUITokenizer.react'),babelHelpers['extends']({},this.props,{additionalEntries:this.$ReactComposerProductTaggerComponent1(),className:"_4fmg",entries:this.props.taggerData,focusAfterSelection:false,focusedOnInit:this.props.autoFocus,onAddEntryAttempt:this.$ReactComposerProductTaggerComponent2,onQueryStringChange:this.$ReactComposerProductTaggerComponent3,onRemoveEntryAttempt:this.$ReactComposerProductTaggerComponent4,placeholder:this.props.placeholder,presenter:this.$ReactComposerProductTaggerComponent5(),searchSource:this.props.taggerSource,showEntriesOnFocus:true})))));};n.prototype.$ReactComposerProductTaggerComponent1=function(){'use strict';if(!this.props.showAddProduct)return [];var o={photo:'/images/commerce/create-product-typeahead.png',title:i._("Add product"),subtitle:i._("Tag and add to your shop."),type:'product_item_add',uniqueID:'product_item_add'};return [new (c('SearchableEntry'))(o)];};n.prototype.$ReactComposerProductTaggerComponent6=function(o){'use strict';var p=this.props.taggerData;return p.some(function(q){return q.getUniqueID()===o;});};n.prototype.$ReactComposerProductTaggerComponent8=function(o){'use strict';var p=this.props.taggerData;p.push(o);this.setState({edited:true});this.props.onSelect&&this.props.onSelect(p);};n.prototype.$ReactComposerProductTaggerComponent5=function(){'use strict';var o={};o.taggerViewStyle=c('ReactComposerTaggerViewStyles').DEFAULT;return Object.assign({},c('ReactComposerTaggerPresenter'),{extraRendererProps:o,sortEntries:this.$ReactComposerProductTaggerComponent9,TokenRenderer:c('ReactComposerProductTaggerTokenizerToken.react')});};n.prototype.$ReactComposerProductTaggerComponent9=function(o,p,q){'use strict';o.sort(function(r,s){if(r.getType()==='product_item_add')return 1;if(s.getType()==='product_item_add')return -1;return 0;});return o;};n.propTypes={autoFocus:m.bool,onSelect:m.func,pageIDs:m.arrayOf(m.string).isRequired,placeholder:m.string,showAddProduct:m.bool,taggerSource:m.object,taggerData:m.array.isRequired};n.defaultProps={autoFocus:true,onSelect:c('emptyFunction'),placeholder:i._("Which products are in this post?"),showAddProduct:false,taggerData:[],taggerSource:new (c('TokenizerExampleSearchSource'))()};f.exports=n;}),null);
__d('ReactComposerProductTaggerContainer.react',['ReactComposerLoggingName','ReactComposerProductTaggerComponent.react','ReactComposerTaggerActions','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','React','SubscriptionsHandler','WebAsyncSearchSource'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerProductTaggerContainer',_subscriptions:undefined,mixins:[c('ReactComposerTaggerContainerMixin')],statics:{taggerID:c('ReactComposerTaggerType').PRODUCT,loggingName:c('ReactComposerLoggingName').PRODUCT_TAGGER,taggerComponent:c('ReactComposerProductTaggerComponent.react')},propTypes:{reactComposerID:h.string.isRequired,pageIDs:h.arrayOf(h.string).isRequired,viewer:h.string.isRequired},getInitialState:function j(){return {reachEstimate:null,searchSource:null};},componentWillMount:function j(){this._updateProductSearchSource();},componentWillUnmount:function j(){this._subscriptions&&this._subscriptions.release();},_updateProductSearchSource:function j(){var k=this.state.searchSource;if(k===null)k=this._createAndBootstrapProductTypeSearchSource();c('ReactComposerTaggerActions').setTaggerSource(this.context.composerID,c('ReactComposerTaggerType').PRODUCT,k);},_createAndBootstrapProductTypeSearchSource:function j(){var k={filter:['product_items'],viewer:this.props.viewer};return new (c('WebAsyncSearchSource'))({getAllForEmptyQuery:true,queryRequests:[{uri:'/ajax/product_items/typeahead/query.php',data:Object.assign({},k,{is_bootstrap:false,page_ids:this.props.pageIDs})}],bootstrapRequests:[{uri:'/ajax/product_items/typeahead/bootstrap.php',data:Object.assign({},k,{is_bootstrap:true,page_ids:this.props.pageIDs})}],auxiliaryFields:{verified:'is_verified'}});}});f.exports=i;}),null);
__d("XBrandedContentTaggerNuxController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/branded_content\/tagger\/nux\/",{action:{type:"Enum",required:true,enumType:1}});}),null);
__d('ReactComposerSponsorTaggerButton.react',['cx','fbt','AsyncRequest','BrandedContentTaggerNuxAction','ReactComposerContextMixin','ReactComposerLoggingName','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerActions','ReactComposerTaggerButton.react','ReactComposerTaggerStore','ReactComposerTaggerType','FluxContainer','React','SponsorTagsOptInActionTypes','SponsorTagsOptInDialogContainer.react','SponsorTagsOptInDispatcher','SponsorTagsOptInStore','XBrandedContentTaggerNuxController','XUIAmbientNUX.react'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'ReactComposerSponsorTaggerButton',mixins:[c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore'))],statics:{taggerID:c('ReactComposerTaggerType').SPONSOR,loggingName:c('ReactComposerLoggingName').SPONSOR_TAGGER,calculateState:function k(l,m){var n=c('ReactComposerTaggerStore').getSelectedTagger(l);return {isOptedIn:c('SponsorTagsOptInStore').getState().isOptedIn,selected:n===this.taggerID,hasData:c('ReactComposerTaggerStore').hasData(l,this.taggerID),showNUX:c('ReactComposerTaggerStore').shouldShowNUX(l,this.taggerID)};},getStores:function k(){return [c('SponsorTagsOptInStore')];}},componentWillMount:function k(){c('SponsorTagsOptInDispatcher').explicitlyRegisterStores([c('SponsorTagsOptInStore')]);c('SponsorTagsOptInDispatcher').dispatch({type:c('SponsorTagsOptInActionTypes').QUERY_STATUS,actorID:this.context.actorID});},componentDidUpdate:function k(l,m){if(m.isOptedIn===false&&this.state.isOptedIn===true)c('ReactComposerTaggerActions').selectTagger(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,this.constructor.disableToggle);},componentDidMount:function k(){this._logNUXView();},render:function k(){var l=this.state.isOptedIn===false?c('React').createElement(c('SponsorTagsOptInDialogContainer.react'),null):null;return (c('React').createElement('div',{className:"_5v-8"},c('React').createElement(c('ReactComposerTaggerButton.react'),babelHelpers['extends']({taggerID:this.constructor.taggerID,title:i._("Does this post feature a third-party brand or product? If so, you must tag the associated Page. See Branded Content policy."),tooltip:i._("Does this post feature a third-party brand or product? If so, you must tag the associated Page. See Branded Content policy."),className:"_5rzo",ref:'fbReactComposerSponsorTaggerButton',onSelect:this._onSelect},this.state),this.getNUX&&this.getNUX(),this.props.children),l));},_onSelect:function k(){if(this.state.isOptedIn===true){c('ReactComposerTaggerActions').selectTagger(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,this.constructor.disableToggle);}else c('SponsorTagsOptInDispatcher').dispatch({type:c('SponsorTagsOptInActionTypes').SHOW});},getNUX:function k(){if(!this.state.showNUX||!this.refs.fbReactComposerSponsorTaggerButton)return null;return (c('React').createElement(c('XUIAmbientNUX.react'),{alignment:'left',contextRef:function(){return this.refs.fbReactComposerSponsorTaggerButton;}.bind(this),position:'below',shown:true,onCloseButtonClick:function(){return this._onNUXClose();}.bind(this)},i._("Share branded content on Facebook with our new tool.")));},_onNUXClose:function k(){c('ReactComposerTaggerActions').handleSetTaggerShowNUX(this.context.composerID,c('ReactComposerTaggerType').SPONSOR,false);this._dismissNUX();},_dismissNUX:function k(){var l=c('XBrandedContentTaggerNuxController').getURIBuilder().setEnum('action',c('BrandedContentTaggerNuxAction').DISMISS).getURI();new (c('AsyncRequest'))().setMethod('post').setURI(l).send();},_logNUXView:function k(){var l=c('XBrandedContentTaggerNuxController').getURIBuilder().setEnum('action',c('BrandedContentTaggerNuxAction').LOG_VIEW).getURI();new (c('AsyncRequest'))().setMethod('post').setURI(l).send();}});f.exports=c('FluxContainer').create(j);}),null);
__d('ReactComposerSponsorTaggerComponent.react',['cx','fbt','ReactComposerTaggerViewStyles','Grid.react','Link.react','React','TaggingLimits','TokenizerExampleSearchSource','XUIContextualDialog.react','XUIContextualDialogBody.react','XUITokenizer.react','emptyFunction'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('Grid.react').GridItem,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={tipFocused:false,inputFocused:false,edited:false},this.$ReactComposerSponsorTaggerComponent1=function(){this.props.onSelect&&this.props.onSelect({});}.bind(this),this.$ReactComposerSponsorTaggerComponent2=function(){var t=!this.state.edited&&(this.state.inputFocused||this.state.tipFocused)&&this.props.taggerData.length===0,u=function(){return this.refs.typeahead;}.bind(this),v=c('React').createElement('span',{onMouseLeave:this.$ReactComposerSponsorTaggerComponent3,onMouseEnter:this.$ReactComposerSponsorTaggerComponent4},i._("Pages that you tag in your post will be notified. They will be able to view your post's metrics and use it to create an advert. If you promote this post, the tagged Page can see the advert spending and its CPM metrics."),c('React').createElement('span',{className:"_2pis"},c('React').createElement(c('Link.react'),{href:'/policies/brandedcontent/',target:'_blank'},i._("See policy"))));return (c('React').createElement(c('XUIContextualDialog.react'),{contextRef:u,position:'below',shown:t,width:350},c('React').createElement(c('XUIContextualDialogBody.react'),null,v)));}.bind(this),this.$ReactComposerSponsorTaggerComponent5=function(t){var u=this.props.taggerData,v=t.getUniqueID(),w=u.some(function(x){return x.getUniqueID()===v;});if(w){return;}else{this.setState({edited:true});u.push(t);}this.props.onSelect&&this.props.onSelect(u);}.bind(this),this.$ReactComposerSponsorTaggerComponent9=function(t){var u=this.props.taggerData,v=u.indexOf(t);if(v==-1)return;this.setState({edited:true});u.splice(v,1);this.props.onSelect&&this.props.onSelect(u);}.bind(this),this.$ReactComposerSponsorTaggerComponent6=function(){this.setState({inputFocused:false});}.bind(this),this.$ReactComposerSponsorTaggerComponent7=function(){this.setState({inputFocused:true});}.bind(this),this.$ReactComposerSponsorTaggerComponent4=function(){this.setState({tipFocused:true});}.bind(this),this.$ReactComposerSponsorTaggerComponent3=function(){this.setState({tipFocused:false});}.bind(this),this.$ReactComposerSponsorTaggerComponent8=function(event){this.setState({edited:true});}.bind(this),p;}n.prototype.render=function(){'use strict';return c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(l,{key:'label',className:"_5esm",role:'presentation'},i._("With")),c('React').createElement(l,{key:'tokenizer',className:"_5esw",role:'presentation'},c('React').createElement('div',null,c('React').createElement(c('XUITokenizer.react'),babelHelpers['extends']({ref:'typeahead'},this.props,{entries:this.props.taggerData,focusedOnInit:this.props.autoFocus,onAddEntryAttempt:this.$ReactComposerSponsorTaggerComponent5,onInputBlur:this.$ReactComposerSponsorTaggerComponent6,onInputFocus:this.$ReactComposerSponsorTaggerComponent7,onQueryStringChange:this.$ReactComposerSponsorTaggerComponent8,onRemoveEntryAttempt:this.$ReactComposerSponsorTaggerComponent9,placeholder:this.props.placeholder,searchSource:this.props.taggerSource,limit:c('TaggingLimits').MAX_SPONSOR_TAGS})),this.$ReactComposerSponsorTaggerComponent2())));};n.propTypes={autoFocus:m.bool,placeholder:m.string,taggerSource:m.object,taggerData:m.array.isRequired,onPeopleTagRemove:m.func,onSelect:m.func,taggerViewStyle:m.shape(c('ReactComposerTaggerViewStyles').Shape)};n.defaultProps={autoFocus:true,onSelect:c('emptyFunction'),placeholder:i._("Who is sponsoring you for this post?"),taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT,taggerData:[],taggerSource:new (c('TokenizerExampleSearchSource'))()};f.exports=n;}),null);
__d('ReactComposerSponsorTaggerContainer.react',['ReactComposerLoggingName','ReactComposerSponsorTaggerComponent.react','ReactComposerTaggerActions','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','React','SubscriptionsHandler','WebAsyncSearchSource'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerSponsorTaggerContainer',_subscriptions:undefined,mixins:[c('ReactComposerTaggerContainerMixin')],statics:{taggerID:c('ReactComposerTaggerType').SPONSOR,loggingName:c('ReactComposerLoggingName').SPONSOR_TAGGER,taggerComponent:c('ReactComposerSponsorTaggerComponent.react')},propTypes:{viewer:h.string.isRequired},getInitialState:function j(){return {sponsorSentences:null,reachEstimate:null,searchSource:null};},componentWillMount:function j(){this._updateSponsorSearchSource();},componentWillUnmount:function j(){this._subscriptions&&this._subscriptions.release();},_updateSponsorSearchSource:function j(){var k=this.state.searchSource;if(k===null)k=this._createAndBootstrapSponsorTypeSearchSource();c('ReactComposerTaggerActions').setTaggerSource(this.context.composerID,c('ReactComposerTaggerType').SPONSOR,k);},_createAndBootstrapSponsorTypeSearchSource:function j(){var k={filter:['page'],viewer:this.props.viewer,rsp:'mentions',bsp:'true'};return new (c('WebAsyncSearchSource'))({queryRequests:[{uri:'/ajax/typeahead/search.php',data:Object.assign({},k,{is_bootstrap:false})}],bootstrapRequests:[{uri:'/ajax/typeahead/first_degree.php',data:Object.assign({},k,{is_bootstrap:true})}],auxiliaryFields:{verified:'is_verified'}});}});f.exports=i;}),null);
__d('ReactComposerTargetingTaggerButtonMixin',['cx','fbt'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={getInitialState:function k(){return {dialogShown:false};},getTitleTooltip:function k(){if(this.props.createLiveVideoTooltipText!=null){return this.props.createLiveVideoTooltipText;}else if(this.props.useTargetingAsFilter){return i._("Narrow the potential News Feed audience for this post");}else return i._("Choose the preferred audiences for this post");},getTitle:function k(){return this.getTitleTooltip();},getTooltip:function k(){return this.getTitleTooltip();},getClassName:function k(){return "_lmf";},getRef:function k(){return 'fbReactComposerTargetingTagger';},_onToggle:function k(l){setTimeout(function(){return this.setState({dialogShown:l});}.bind(this),0);},_onSelectX:function k(){this.setState({dialogShown:true});}};f.exports=j;}),null);
__d("XReactComposerTargetingTaggerNuxController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/edit\/targeting_tagger_nux\/",{});}),null);
__d('ReactComposerTargetingTaggerButton.react',['fbt','AsyncRequest','ReactComposerTaggerButtonMixin','ReactComposerTaggerType','ReactComposerTargetingTaggerButtonMixin','PagesComposerAudiences.react','React','ReactLayeredComponentMixin_DEPRECATED','XReactComposerTargetingTaggerNuxController','XUIAmbientNUX.react','XUIText.react','PagesComposerAudiencesConstants'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('PagesComposerAudiencesConstants').TABS,k=-12,l=300,m=c('React').createClass({displayName:'ReactComposerTargetingTaggerButton',mixins:[c('ReactComposerTaggerButtonMixin'),c('ReactComposerTargetingTaggerButtonMixin'),c('ReactLayeredComponentMixin_DEPRECATED')],propTypes:{createLiveVideoTooltipText:i.string,feedTargetingGK:i.bool,feedTargetingShowReachGK:i.bool,hideFeedTargeting:i.bool,shouldShowTargetingTaggerNux:i.bool,shouldShowRestrictionTabNux:i.bool,useTargetingAsFilter:i.bool,shouldHideLeftFooter:i.bool,allowExclusionsWithoutInclusions:i.bool},statics:{taggerID:c('ReactComposerTaggerType').TARGETING,disableToggle:true},getDefaultProps:function n(){return {feedTargetingGK:false,feedTargetingShowReachGK:false,hideFeedTargeting:false,useTargetingAsFilter:true};},getInitialState:function n(){return {showTargetingTaggerNux:this.props.shouldShowTargetingTaggerNux};},componentDidMount:function n(){var o=!this.state.dialogShown&&this.state.showTargetingTaggerNux&&this.props.feedTargetingGK;if(o){var p=c('XReactComposerTargetingTaggerNuxController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(p).setMethod('POST').setData({impression:true}).send();}},componentWillUnmount:function n(){if(this.state.showTargetingTaggerNux)this.setState({showTargetingTaggerNux:false});},_onNuxClose:function n(){this.setState({showTargetingTaggerNux:false});var o=c('XReactComposerTargetingTaggerNuxController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(o).setMethod('POST').setData({acked:true}).send();},_renderNux:function n(){return (c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.fbReactComposerTargetingTagger;}.bind(this),onCloseButtonClick:this._onNuxClose,offsetY:k,position:'below',shown:true,width:'custom',customwidth:l},c('React').createElement('div',null,c('React').createElement(c('XUIText.react'),null,h._("Use Audience Optimisation to reach people who are more likely to engage with your post.")))));},renderLayers:function n(){var o=!this.state.dialogShown&&this.state.showTargetingTaggerNux&&this.props.feedTargetingGK;if(o)return this._renderNux();if(this.state.dialogShown)return (c('React').createElement(c('PagesComposerAudiences.react'),{allowExclusionsWithoutInclusions:this.props.allowExclusionsWithoutInclusions,shown:this.state.dialogShown,onToggle:this._onToggle,onSave:function(){return this._onToggle(false);}.bind(this),initialActiveKey:this.props.hideFeedTargeting?j.GATING:j.TARGETING,shouldHideLeftFooter:this.props.shouldHideLeftFooter,useTargetingAsFilter:this.props.useTargetingAsFilter,feedTargetingShowReachGK:this.props.feedTargetingShowReachGK,hideFeedTargeting:this.props.hideFeedTargeting,shouldShowRestrictionTabNux:this.props.shouldShowRestrictionTabNux}));return {};}});f.exports=m;}),null);
__d('ReactComposerTargetingTaggerComponent.react',['cx','fbt','Grid.react','React','XUICloseButton.react','XUIText.react','emptyFunction','isEmpty'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('Grid.react').GridItem,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$ReactComposerTargetingTaggerComponent1=function(){this.props.onSelect({});}.bind(this),p;}n.prototype.render=function(){'use strict';return (c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(l,{key:'prefix',className:"_5esm",role:'presentation'},i._("Targeting")),c('React').createElement(l,{key:'tagger',className:"_5esw",role:'presentation'},c('React').createElement('div',{className:"_2doa"},c('React').createElement('div',{className:"_2dob"},c('React').createElement(c('XUICloseButton.react'),{className:"_2doc"+(c('isEmpty')(this.props.taggerData)?' '+"hidden_elem":''),size:'small',type:'button',onClick:this.$ReactComposerTargetingTaggerComponent1})),c('React').createElement('div',{className:"_2dod"},c('React').createElement(c('XUIText.react'),null,this.props.targetingSentences))))));};n.propTypes={taggerData:m.object.isRequired,onSelect:m.func.isRequired,targetingSentences:m.object};n.defaultProps={taggerData:{},onSelect:c('emptyFunction')};f.exports=n;}),null);
__d('ReactComposerTargetingTaggerContainer.react',['ReactComposerLoggingName','ReactComposerTaggerActions','ReactComposerTaggerContainerStateMixin','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTargetingTaggerComponent.react','SubscriptionsHandler','React'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerTargetingTaggerContainer',_subscriptions:undefined,mixins:[c('ReactComposerTaggerContainerStateMixin')],statics:{taggerID:c('ReactComposerTaggerType').TARGETING},getInitialState:function i(){return {targetingSentences:null};},componentWillMount:function i(){var j=new (c('SubscriptionsHandler'))();j.addSubscriptions(c('ReactComposerTaggerStore').addChangeListener(this._onChange));this._subscriptions=j;},componentWillUnmount:function i(){this._subscriptions&&this._subscriptions.release();},_onChange:function i(){var j=c('ReactComposerTaggerStore').getTaggerData(this.context.composerID,c('ReactComposerTaggerType').TARGETING);this.setState({targetingSentences:j?j.targetingSentences:null});},_onTaggerDataChanged:function i(j){this.__onTaggerDataChanged&&this.__onTaggerDataChanged(j);c('ReactComposerTaggerActions').setTaggerData(this.context.composerID,c('ReactComposerLoggingName').TARGETING_TAGGER,c('ReactComposerTaggerType').TARGETING,j);this.props.onSelect&&this.props.onSelect(j);},render:function i(){if(!this.state.isSelected)return c('React').createElement('noscript',null);return (c('React').createElement(c('ReactComposerTargetingTaggerComponent.react'),babelHelpers['extends']({},this.props,this.state,{autoFocus:this.state.autoFocus,taggerSource:this.state.taggerSource,taggerData:this.state.taggerData,onSelect:this._onTaggerDataChanged})));}});f.exports=h;}),null);
__d('ReactPagesComposerBodyWrapper.react',['ReactComposerAttachmentType','ReactComposerBody.react','ReactComposerBoostedPostLazyButton.react','ReactComposerCallLazyAttachment.react','ReactComposerConfig','ReactComposerContextConfig','ReactComposerContextProviderMixin','ReactComposerCTALazyAttachment.react','ReactComposerGetDirectionsLazyAttachment.react','ReactComposerLiveVideoLazyAttachment.react','ReactComposerMediaLazyAttachment.react','ReactComposerMessageLazyAttachment.react','ReactComposerPagesBootloader','ReactComposerPagesPrivacyContainer.react','ReactComposerProductTaggerButton.react','ReactComposerProductTaggerContainer.react','ReactComposerQAndALazyAttachment.react','ReactComposerQuestionLazyAttachment.react','ReactComposerSponsorTaggerButton.react','ReactComposerSponsorTaggerContainer.react','ReactComposerStatusLazyAttachment.react','ReactComposerTaggerActions','ReactComposerTaggerType','ReactComposerTargetingTaggerButton.react','ReactComposerTargetingTaggerContainer.react','PagesCalloutActions','PagesCalloutDispatcher','PagesComposerExtraLazyAttachment.react','React','dotAccess'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactPagesComposerBodyWrapper',mixins:[c('ReactComposerContextProviderMixin')],propTypes:{contextConfig:c('ReactComposerContextConfig').isRequired,config:c('ReactComposerConfig').isRequired,selectedAttachment:h.string},_getAdditionalTaggersForStatusAttachment:function j(){var k=[],l=this.props.config.taggersConfig;if(l[c('ReactComposerTaggerType').TARGETING].enabled)k.push(this._getTargetTagger());if(l[c('ReactComposerTaggerType').SPONSOR].enabled)k.push(this._getSponsorTagger());if(l[c('ReactComposerTaggerType').PRODUCT].enabled)k.push(this._getProductTagger());return k;},_getAdditionalTaggersForMediaAttachment:function j(){return this._getAdditionalTaggersForStatusAttachment();},_getTargetTagger:function j(){var k=this.props.config.taggersConfig[c('ReactComposerTaggerType').TARGETING],l=this.props.config.nuxConfig;return {button:c('React').createElement(c('ReactComposerTargetingTaggerButton.react'),{feedTargetingGK:c('dotAccess')(k,'feedTargetingGK'),feedTargetingShowReachGK:c('dotAccess')(k,'feedTargetingShowReachGK'),shouldShowTargetingTaggerNux:l.shouldShowTargetingTaggerNux,shouldShowRestrictionTabNux:this.props.config.nuxConfig.shouldShowRestrictionTabNux,useTargetingAsFilter:!c('dotAccess')(k,'feedTargetingGK'),key:'targeting_button'}),container:c('React').createElement(c('ReactComposerTargetingTaggerContainer.react'),{key:'targeting_container'})};},_getSponsorTagger:function j(){var k=this.props.config.taggersConfig[c('ReactComposerTaggerType').SPONSOR];c('ReactComposerTaggerActions').handleSetTaggerShowNUX(this.props.contextConfig.composerID,c('ReactComposerTaggerType').SPONSOR,k.showSponsorTaggerButtonNUX);return {button:c('React').createElement(c('ReactComposerSponsorTaggerButton.react'),{key:'sponsor_button'}),container:c('React').createElement(c('ReactComposerSponsorTaggerContainer.react'),{key:'sponsor_container',viewer:this.props.config.actorConfig.viewerAccountID})};},_getProductTagger:function j(){var k=this.props.config.taggersConfig[c('ReactComposerTaggerType').PRODUCT];if(k.productTaggerButtonNUXTipID)c('PagesCalloutDispatcher').dispatch({type:c('PagesCalloutActions').REGISTER_CALLOUT,data:{tip_id:k.productTaggerButtonNUXTipID,showCallback:function(){return c('ReactComposerTaggerActions').handleSetTaggerShowNUX(this.props.contextConfig.composerID,c('ReactComposerTaggerType').PRODUCT,true);}.bind(this),nux_id:k.productTaggerButtonNUXID}});var l=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA];return {button:c('React').createElement(c('ReactComposerProductTaggerButton.react'),{key:'product_button',productTaggerType:l.productTaggerType,nuxTipID:k.productTaggerButtonNUXTipID}),container:c('React').createElement(c('ReactComposerProductTaggerContainer.react'),{key:'product_container',pageIDs:[this.props.config.targetData.targetID],reactComposerID:this.props.contextConfig.composerID,showAddProduct:k.showAddProduct,viewer:this.props.config.actorConfig.viewerAccountID})};},_getAdditionalFooterActionsForStatusAttachment:function j(){var k=[];if(this.props.config.boostedPostButtonConfig)k.push(c('React').createElement(c('ReactComposerBoostedPostLazyButton.react'),babelHelpers['extends']({},this.props.config.boostedPostButtonConfig,{key:'boosted_post_button',reactComposerID:this.props.contextConfig.composerID})));if(this.props.config.taggersConfig[c('ReactComposerTaggerType').TARGETING].enabled&&!c('dotAccess')(this.props.config,'feedTargetingGK'))k.push(c('React').createElement(c('ReactComposerPagesPrivacyContainer.react'),{key:'privacy_selector',lockToPrivacy:this.props.config.taggersConfig[c('ReactComposerTaggerType').TARGETING].lockToPrivacy,useTargetingAsFilter:true}));return k;},_getAdditionalFooterActionsForLiveVideoAttachment:function j(){var k=[];if(this.props.config.taggersConfig[c('ReactComposerTaggerType').TARGETING].enabled&&!c('dotAccess')(this.props.config,'feedTargetingGK'))k.push(c('React').createElement(c('ReactComposerPagesPrivacyContainer.react'),{key:'privacy_selector',lockToPrivacy:this.props.config.taggersConfig[c('ReactComposerTaggerType').TARGETING].lockToPrivacy,useTargetingAsFilter:true}));return k;},_getAdditionalFooterActionsForMediaAttachment:function j(){return this._getAdditionalFooterActionsForStatusAttachment();},render:function j(){var k=this.props.config.attachmentsConfig,l=k[c('ReactComposerAttachmentType').STATUS],m=k[c('ReactComposerAttachmentType').LIVE_VIDEO];return (c('React').createElement(c('ReactComposerBody.react'),null,c('React').createElement(c('ReactComposerStatusLazyAttachment.react'),{config:this.props.config,selected:!this.props.selectedAttachment||this.props.selectedAttachment===c('ReactComposerAttachmentType').STATUS,placeholder:l.placeholder,additionalTaggers:this._getAdditionalTaggersForStatusAttachment(),additionalFooterActions:this._getAdditionalFooterActionsForStatusAttachment(),bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerMediaLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').MEDIA,additionalTaggers:this._getAdditionalTaggersForMediaAttachment(),additionalFooterActions:this._getAdditionalFooterActionsForMediaAttachment(),bootloader:c('ReactComposerPagesBootloader'),config:this.props.config}),m.enabled?c('React').createElement(c('ReactComposerLiveVideoLazyAttachment.react'),{additionalFooterActions:this._getAdditionalFooterActionsForLiveVideoAttachment(),selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').LIVE_VIDEO,bootloader:c('ReactComposerPagesBootloader'),config:this.props.config}):null,c('React').createElement(c('PagesComposerExtraLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').PAGES_EXTRA,bootloader:c('ReactComposerPagesBootloader'),config:this.props.config}),c('React').createElement(c('ReactComposerQuestionLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').QUESTION,config:this.props.config,key:c('ReactComposerAttachmentType').QUESTION,bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerQAndALazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').QANDA,config:this.props.config,key:c('ReactComposerAttachmentType').QANDA,bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerCTALazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').CTA,config:this.props.config,key:c('ReactComposerAttachmentType').CTA,bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerMessageLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').MESSAGE,config:this.props.config,key:c('ReactComposerAttachmentType').MESSAGE,bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerGetDirectionsLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').GET_DIRECTIONS,config:this.props.config,key:c('ReactComposerAttachmentType').GET_DIRECTIONS,bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerCallLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').CALL,config:this.props.config,key:c('ReactComposerAttachmentType').CALL,bootloader:c('ReactComposerPagesBootloader')})));}});f.exports=i;}),null);
__d('ReactPagesComposer.react',['cx','ReactComposer.react','ReactComposerAttachmentActions','ReactPagesComposerBodyWrapper.react','ReactComposerConfig','ReactComposerContextConfig','ReactComposerContextProviderMixin','ComposerEntryPointRef','ReactComposerLazyHeader.react','ReactComposerLiveVideoAttachmentSelector.react','ReactComposerMediaAttachmentSelector.react','ReactComposerPagesStore','ReactComposerPrefillUtils','ReactComposerStatusAttachmentSelector.react','ReactComposerAttachmentType','BootloadedComponent.react','JSResource','PagesComposer','PagesComposerExtraAttachmentSelector.react','React','XUISpinner.react','PagesComposerUnpublishedPostsStore'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();c('PagesComposerUnpublishedPostsStore');var i=c('React').createClass({displayName:'ReactPagesComposer',mixins:[c('ReactComposerContextProviderMixin')],propTypes:{contextConfig:c('ReactComposerContextConfig').isRequired,config:c('ReactComposerConfig').isRequired},componentDidMount:function j(){c('PagesComposer').init(this.props.contextConfig.composerID,this.props.contextConfig.targetID);c('ReactComposerPagesStore').registerComposerID(this.props.contextConfig.composerID);if(this.props.config.expanded)c('ReactComposerAttachmentActions').selectAttachment(this.props.contextConfig.composerID,c('ReactComposerAttachmentType').STATUS,true);},componentWillMount:function j(){if(this.props.prefillConfig)c('ReactComposerPrefillUtils').prefill(this.props.contextConfig.composerID,this.props.prefillConfig);},render:function j(){var k=this.props.config.attachmentsConfig,l=k[c('ReactComposerAttachmentType').PAGES_EXTRA],m=k[c('ReactComposerAttachmentType').STATUS],n=k[c('ReactComposerAttachmentType').MEDIA],o=k[c('ReactComposerAttachmentType').LIVE_VIDEO];return (c('React').createElement(c('ReactComposer.react'),{hideBorders:this.props.config.hideBorders!==false,loggingConfig:this.props.config.loggingConfig},c('React').createElement(c('ReactComposerLazyHeader.react'),{background:'light-wash',noHorizontalMargin:true,rightChild:this._renderActorSelector(),showDelimiter:false},c('React').createElement(c('ReactComposerStatusAttachmentSelector.react'),{label:m.label}),n.enabled?c('React').createElement(c('ReactComposerMediaAttachmentSelector.react'),null):null,o.enabled?c('React').createElement(c('ReactComposerLiveVideoAttachmentSelector.react'),null):null,l.enabled?c('React').createElement(c('PagesComposerExtraAttachmentSelector.react'),{enabled:!!l.enabled,label:l.label,icon:l.icon,aymtNuxEnabled:l.aymtNuxEnabled,attachmentsConfig:l}):null),c('React').createElement(c('ReactPagesComposerBodyWrapper.react'),this.props)));},_renderActorSelector:function j(){var k=this.props.contextConfig.composerType;if(k!==c('ComposerEntryPointRef').PAGES_FEED&&k!==c('ComposerEntryPointRef').TIMELINE)return null;var l=this.props.config.actorConfig;l.composerID=this.props.contextConfig.composerID;return (c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({},l,{bootloadPlaceholder:c('React').createElement(c('XUISpinner.react'),{className:"_3igw"}),bootloadLoader:c('JSResource')('ReactComposerActorSelectorContainer.react').__setRef('ReactPagesComposer.react')})));}});f.exports=i;}),null);
__d('PagesPicUIEvents',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={PHOTO_DESELECTED:'PagesPicUIEvents/photoDeselected',PHOTO_SELECTED:'PagesPicUIEvents/photoSelected',PHOTOS_SELECTED_CONFIRM:'PagesPicUIEvents/photosSelectedConfirm'};f.exports=h;}),null);
__d('PagesPicModalManager',['Arbiter','PagesPicUIEvents','tidyEvent'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){'use strict';this.setIsOpen(false);}h.prototype.setIsOpen=function(i){'use strict';this.$PagesPicModalManager1=i;return this;};h.prototype.isOpen=function(){'use strict';return this.$PagesPicModalManager1;};h.prototype.informPhotoSelected=function(i){'use strict';c('Arbiter').inform(c('PagesPicUIEvents').PHOTO_SELECTED,i);};h.prototype.informPhotoDeselected=function(i){'use strict';c('Arbiter').inform(c('PagesPicUIEvents').PHOTO_DESELECTED,i);};h.prototype.informPhotosSelectedConfirm=function(i){'use strict';c('Arbiter').inform(c('PagesPicUIEvents').PHOTOS_SELECTED_CONFIRM,i);};h.prototype.subscribePhotoSelected=function(i){'use strict';c('tidyEvent')(c('Arbiter').subscribe(c('PagesPicUIEvents').PHOTO_SELECTED,i));};h.prototype.subscribePhotoDeselected=function(i){'use strict';c('tidyEvent')(c('Arbiter').subscribe(c('PagesPicUIEvents').PHOTO_DESELECTED,i));};h.prototype.subscribePhotosSelectedConfirm=function(i){'use strict';return c('tidyEvent')(c('Arbiter').subscribeOnce(c('PagesPicUIEvents').PHOTOS_SELECTED_CONFIRM,i));};f.exports=new h();}),null);
__d('ReactComposerCanvasActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({HIDE_CANVAS_SELECTOR:null,SHOW_CANVAS_SELECTOR:null},'ReactComposerCanvasActionType');}),null);
__d('ReactComposerCanvasActions',['ReactComposerDispatcher','ReactComposerCanvasActionType'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={showCanvasSelector:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerCanvasActionType').SHOW_CANVAS_SELECTOR});},hideCanvasSelector:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerCanvasActionType').HIDE_CANVAS_SELECTOR});}};f.exports=h;}),null);
__d('ReactComposerPhotoCarouselActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SELECT_PHOTO_CAROUSEL:null,UNSELECT_PHOTO_CAROUSEL:null,PREVIEW_COMPLETED:null,PREVIEW_INCOMPLETED:null,HIDE_CAROUSEL_URL_INPUT_AREA:null,SHOW_CAROUSEL_URL_INPUT_AREA:null,SEEN_NUX:null},'ReactComposerPhotoCarouselActionType');}),null);
__d('ReactComposerPhotoCarouselActions',['ReactComposerPhotoCarouselActionType','ReactComposerDispatcher','ReactComposerPhotoStore'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactComposerPhotoStore');var h={selectPhotoCarouselEntryPoint:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').SELECT_PHOTO_CAROUSEL});},unselectPhotoCarouselEntryPoint:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').UNSELECT_PHOTO_CAROUSEL});},setPreviewCompleted:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').PREVIEW_COMPLETED});},setPreviewIncompleted:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').PREVIEW_INCOMPLETED});},showPhotoCarouselUrlEditArea:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,source:k,targetID:l,type:c('ReactComposerPhotoCarouselActionType').SHOW_CAROUSEL_URL_INPUT_AREA});},hidePhotoCarouselUrlEditArea:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').HIDE_CAROUSEL_URL_INPUT_AREA});},seenNux:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').SEEN_NUX});}};f.exports=h;}),null);
__d('SlideshowMediaUploadContainer.react',['cx','fbt','ix','React','Image.react','XUIButton.react','XUINotice.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$SlideshowMediaUploadContainer1=function(){if(!this.props.errorMessage)return null;return (c('React').createElement('div',{className:"_3dg4"},c('React').createElement(c('XUINotice.react'),{use:'warn'},this.props.errorMessage)));}.bind(this),o;}m.prototype.render=function(){return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:"_v32"+(!!this.props.errorMessage?' '+"_16q2":'')}),this.$SlideshowMediaUploadContainer1(),c('React').createElement(c('Image.react'),{className:"_v33",hidden:!!this.props.errorMessage,src:j('/images/slideshow/photostack.png')}),c('React').createElement('div',{className:"_3dg5"+(!!this.props.errorMessage?' '+"_16q2":'')},i._("Use photos or video frames to create a slideshow"),c('React').createElement('div',{className:"_v34"+(!!this.props.errorMessage?' '+"_16q2":'')},this.props.children))));};m.getImageUploadButton=function(){return c('React').createElement(c('XUIButton.react'),{className:"_v35",href:{url:'#'},image:c('React').createElement(c('Image.react'),{className:"_v36",src:j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/photo-add_20_fig-white.png")}),label:i._("Add Photos"),size:'xlarge',use:'confirm'});};m.getVideoUploadButton=function(n){return c('React').createElement(c('XUIButton.react'),{className:"_v35",href:{url:'#'},image:c('React').createElement(c('Image.react'),{className:"_v36",src:j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/camcorder-plus_20_fig-dark-80.png")}),label:n||i._("Upload Video"),size:'xlarge'});};m.defaultProps={children:null,errorMessage:null};f.exports=m;}),null);
__d("XPagesPicMenuDialogController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/profile\/pages\/picture\/menu_dialog\/",{multiselect:{type:"Bool",defaultValue:false},page_id:{type:"Int",required:true},source:{type:"String",defaultValue:"unknown"},__asyncDialog:{type:"Int"}});}),null);
__d('ReactComposerSlideshowImageUploadsContainer.react',['cx','Link.react','SlideshowMediaUploadContainer.react','Arbiter','AsyncDialog','AsyncRequest','ReactComposerSlideshowActions','PagesPicModalManager','React','XPagesPicMenuDialogController','emptyFunction','tidyEvent'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l='slideshow_pages_composer';i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$ReactComposerSlideshowImageUploadsContainer1=function(event){var s=this.refs.imageFileInput.getFileInput();if(s!==null&&s!==undefined&&this.props.onFilesSelected!==null&&this.props.onFilesSelected!==undefined)this.props.onFilesSelected(event,s);}.bind(this),this.$ReactComposerSlideshowImageUploadsContainer3=function(){c('AsyncDialog').send(new (c('AsyncRequest'))(this.$ReactComposerSlideshowImageUploadsContainer4()),function(s){self.$ReactComposerSlideshowImageUploadsContainer2=s;var t=c('PagesPicModalManager').subscribePhotosSelectedConfirm(function(u,v){c('ReactComposerSlideshowActions').selectImagesConfirm(this.props.composerID,v);s.hide();}.bind(this));s.subscribe('hide',function(event){c('Arbiter').unsubscribe(t);});}.bind(this));}.bind(this),this.$ReactComposerSlideshowImageUploadsContainer4=function(){return c('XPagesPicMenuDialogController').getURIBuilder().setInt('page_id',this.props.pageID).setString('source',l).setBool('multiselect',true).getURI();}.bind(this),o;}m.handleFileInput=function(n){c('tidyEvent')(n.subscribe('change',function(event){if(!n.getValue())return;this.$ReactComposerSlideshowImageUploadsContainer1(event,n);if(self.$ReactComposerSlideshowImageUploadsContainer2)self.$ReactComposerSlideshowImageUploadsContainer2.hide();}.bind(this)));};m.prototype.componentWillMount=function(){m.$ReactComposerSlideshowImageUploadsContainer1=this.props.onFilesSelected;};m.prototype.render=function(){var n=null;switch(this.props.imageUploadButtonType){case 'more_link':n=c('React').createElement(c('Link.react'),{className:"_38i2"});break;case 'add_button':n=c('SlideshowMediaUploadContainer.react').getImageUploadButton();break;}return c('React').createElement('span',{onClick:this.$ReactComposerSlideshowImageUploadsContainer3},n);};m.$ReactComposerSlideshowImageUploadsContainer1=c('emptyFunction');m.$ReactComposerSlideshowImageUploadsContainer2=null;m.propTypes={composerID:k.string.isRequired,imageUploadButtonType:k.oneOf(['more_link','add_button']).isRequired,mediaAcceptParam:k.string.isRequired,pageID:k.string.isRequired,onFilesSelected:k.func.isRequired};f.exports=m;}),null);
__d('SlideshowFrameImage.react',['Image.react','React','SlideshowImageUtil'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.$SlideshowFrameImage5=function(){if(this.props.croppingSpec){this.$SlideshowFrameImage3={width:this.props.imageWidth,height:this.props.imageHeight};this.$SlideshowFrameImage4={x:-this.props.croppingSpec.topLeft[0],y:-this.props.croppingSpec.topLeft[1]};this.$SlideshowFrameImage1={width:this.props.croppingSpec.bottomRight[0]+this.$SlideshowFrameImage4.x,height:this.props.croppingSpec.bottomRight[1]+this.$SlideshowFrameImage4.y};}else{this.$SlideshowFrameImage3={width:this.props.imageWidth,height:this.props.imageHeight};this.$SlideshowFrameImage4={x:0,y:0};this.$SlideshowFrameImage1={width:this.props.imageWidth,height:this.props.imageHeight};}var k=Math.min(this.props.maxWidth/this.$SlideshowFrameImage1.width,this.props.maxHeight/this.$SlideshowFrameImage1.height);this.$SlideshowFrameImage3.width*=k;this.$SlideshowFrameImage3.height*=k;this.$SlideshowFrameImage4.x*=k;this.$SlideshowFrameImage4.y*=k;this.$SlideshowFrameImage1.width*=k;this.$SlideshowFrameImage1.height*=k;this.$SlideshowFrameImage2={x:(this.props.maxWidth-this.$SlideshowFrameImage1.width)/2,y:(this.props.maxHeight-this.$SlideshowFrameImage1.height)/2};};j.prototype.$SlideshowFrameImage6=function(){var k=this.props.textoverlay,l=c('SlideshowImageUtil').getScaleMultiplier(this.props.maxWidth,this.props.maxHeight);if(!k||!k.textoverlay_content)return null;var m=c('SlideshowImageUtil').calculateTextboxCoordinates(this.props.maxHeight,this.props.maxWidth,k,l),n=k.text_alignment.split('-')[1];return (c('React').createElement('div',{style:{backgroundColor:k.background_color,color:k.font_color,position:'absolute',fontFamily:k.font,fontSize:c('SlideshowImageUtil').getFontSize(l),fontWeight:c('SlideshowImageUtil').getFontWeight(k.bold),lineHeight:c('SlideshowImageUtil').getLineHeight(),marginLeft:m.marginLeft,marginTop:m.marginTop,maxHeight:c('SlideshowImageUtil').getTextoverlayMaxEdge(this.props.maxHeight,l),maxWidth:c('SlideshowImageUtil').getTextoverlayMaxEdge(this.props.maxWidth,l),opacity:c('SlideshowImageUtil').getOpacity(),overflow:'hidden',overflowWrap:'break-word',padding:c('SlideshowImageUtil').getTextoverlayPadding(l),textAlign:n,whiteSpace:'pre-wrap'}},k.textoverlay_content));};j.prototype.render=function(){this.$SlideshowFrameImage5();return (c('React').createElement('div',{className:this.props.className,style:{position:this.props.positionStyle,width:this.$SlideshowFrameImage1.width,height:this.$SlideshowFrameImage1.height,left:this.$SlideshowFrameImage2.x,top:this.$SlideshowFrameImage2.y,overflow:'hidden'}},c('React').createElement(c('Image.react'),{src:this.props.imageSrc,width:this.$SlideshowFrameImage3.width,height:this.$SlideshowFrameImage3.height,style:{position:'absolute',left:this.$SlideshowFrameImage4.x,top:this.$SlideshowFrameImage4.y}}),this.$SlideshowFrameImage6()));};function j(){h.apply(this,arguments);}j.defaultProps={className:null,croppingSpec:null,positionStyle:'absolute',textoverlay:null};f.exports=j;}),null);
__d('SlideshowFramesPanel.react',['cx','React','SlideshowImageUtil','SlideshowFrameImage.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=3,l=110,m=110;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$SlideshowFramesPanel1=function(t){return (c('React').createElement('div',{onClick:function(){return this.$SlideshowFramesPanel2(t);}.bind(this)},c('React').createElement(c('SlideshowFrameImage.react'),{className:"_qme",croppingSpec:c('SlideshowImageUtil').getFullSizeImageBoxCroppingSpec({width:t.width,height:t.height},{width:m,height:l}),imageSrc:t.uri,imageWidth:t.width,imageHeight:t.height,maxWidth:m,maxHeight:l,positionStyle:'relative'})));}.bind(this),this.$SlideshowFramesPanel2=function(t){this.props.onFrameImageSelected(t);}.bind(this),this.$SlideshowFramesPanel3=function(t){return t.map(function(u,v){return (c('React').createElement('div',{className:"_qmf",key:u.id},this.$SlideshowFramesPanel1(u)));}.bind(this));}.bind(this),this.$SlideshowFramesPanel4=function(){var t=this.props.frameImages,u=0,v=[];for(u=0;u<t.length;u+=k){var w=t.slice(u,u+k);v.push(c('React').createElement('div',{key:u},this.$SlideshowFramesPanel3(w)));}return v;}.bind(this),this.$SlideshowFramesPanel5=function(){return (c('React').createElement('div',{className:"_qmk"},this.$SlideshowFramesPanel4()));}.bind(this),p;}n.prototype.render=function(){return (c('React').createElement('div',{className:"_qmm"},this.$SlideshowFramesPanel5()));};f.exports=n;}),null);
__d('SlideshowActionTypes',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({CHANGE_COLOR_PICKER_TYPE:null,CHANGE_EDIT_OPTION_TYPE:null,CHANGE_TEXTOVERLAY_ALIGNMENT:null,CHANGE_TEXTOVERLAY_FONT:null,CHANGE_TEXTOVERLAY_FONT_BOLD:null,SELECT_TEXTOVERLAY_COLOR:null,SET_TEXTOVERLAY_CONTENT:null,SHOW_PHOTO_EDIT_DIALOG:null,CLOSE_PHOTO_EDIT_DIALOG:null,TOGGLE_COLOR_PICKER_DIALOG:null,TOGGLE_PHOTO_EDIT_DIALOG:null});f.exports=h;}),null);
__d('SlideshowDispatcher',['ExplicitRegistrationDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ExplicitRegistrationDispatcher'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this);}f.exports=new j({strict:true});}),null);
__d('SlideshowTextoverlayColorPickerConstants',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={Basic:'BASIC',Advanced:'ADVANCED'};}),null);
__d('SlideshowActions',['SlideshowActionTypes','SlideshowDispatcher','SlideshowTextoverlayColorPickerConstants'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={showPhotoEditDialog:function i(j,k){c('SlideshowDispatcher').dispatch({isColorPickerDialogShown:false,isPhotoEditDialogShown:true,isTextoverlayFontBold:k.bold,photoToEdit:j,textoverlayAlignment:k.text_alignment,textoverlayColor:{background_color:k.background_color,font_color:k.font_color},textoverlayContent:k.textoverlay_content,textoverlayFont:k.font,type:c('SlideshowActionTypes').SHOW_PHOTO_EDIT_DIALOG});},closePhotoEditDialog:function i(){c('SlideshowDispatcher').dispatch({isPhotoEditDialogShown:false,photoToEdit:null,type:c('SlideshowActionTypes').CLOSE_PHOTO_EDIT_DIALOG});},toggleColorPickerDialog:function i(){c('SlideshowDispatcher').dispatch({type:c('SlideshowActionTypes').TOGGLE_COLOR_PICKER_DIALOG});},selectTextoverlayColor:function i(j){c('SlideshowDispatcher').dispatch({textoverlayColor:j,type:c('SlideshowActionTypes').SELECT_TEXTOVERLAY_COLOR});},setTextoverlayContent:function i(j){c('SlideshowDispatcher').dispatch({textoverlayContent:j,type:c('SlideshowActionTypes').SET_TEXTOVERLAY_CONTENT});},changeEditOptionType:function i(j){c('SlideshowDispatcher').dispatch({type:c('SlideshowActionTypes').CHANGE_EDIT_OPTION_TYPE,editOptionType:j});},changeTextoverlayAlignment:function i(j){c('SlideshowDispatcher').dispatch({textoverlayAlignment:j,type:c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_ALIGNMENT});},changeTextoverlayFont:function i(j){c('SlideshowDispatcher').dispatch({textoverlayFont:j,type:c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_FONT});},changeTextoverlayFontBold:function i(j){c('SlideshowDispatcher').dispatch({isTextoverlayFontBold:j,type:c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_FONT_BOLD});},showBasicColorPicker:function i(){c('SlideshowDispatcher').dispatch({type:c('SlideshowActionTypes').CHANGE_COLOR_PICKER_TYPE,colorPickerType:c('SlideshowTextoverlayColorPickerConstants').Basic});},showAdvancedColorPicker:function i(){c('SlideshowDispatcher').dispatch({type:c('SlideshowActionTypes').CHANGE_COLOR_PICKER_TYPE,colorPickerType:c('SlideshowTextoverlayColorPickerConstants').Advanced});}};f.exports=h;}),null);
__d('SlideshowPhotoEditButton.react',['ix','fbt','Image.react','React','Tooltip','XUIButton.react','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$SlideshowPhotoEditButton1=function(){this.props.onPhotoEdit(this.props.selectedPhoto,this.props.selectedPhotoTextoverlay);}.bind(this);this.$SlideshowPhotoEditButton1=this.$SlideshowPhotoEditButton1.bind(this);}l.prototype.render=function(){var m=i._("Edit Photo");return (c('React').createElement(c('XUIButton.react'),babelHelpers['extends']({image:c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/pencil_20_fig-black.png")}),className:this.props.className,onClick:this.$SlideshowPhotoEditButton1},c('Tooltip').propsFor(m))));};f.exports=l;}),null);
__d('SlideshowDraggableImage.react',['cx','invariant','DraggableTokenMixin.react','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','LoadingImageBox.react','ReactComponentWithPureRenderMixin','React','SlideshowActions','SlideshowFrameImage.react','SlideshowImageUtil','SlideshowPhotoEditButton.react','XUICloseButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=100,k=100,l=c('React').PropTypes,m=c('React').createClass({displayName:'SlideshowDraggableImage',mixins:[c('DraggableTokenMixin.react'),c('ReactComponentWithPureRenderMixin')],propTypes:{className:l.string.isRequired,dragTargetIndex:l.oneOfType([l.oneOf([null]),l.number]),image:l.shape({height:l.number,isLoading:l.bool.isRequired,key:l.string.isRequired,url:l.string,width:l.number}).isRequired,imageTextoverlay:l.oneOfType([l.oneOf([null]),l.shape({background_color:l.string,bold:l.bool.isRequired,font:l.string.isRequired,font_color:l.string.isRequired,text_alignment:l.string.isRequired,textoverlay_content:l.oneOfType([l.oneOf([null]),l.string])})]),index:l.number.isRequired,overflow:l.bool.isRequired,showSlideshowPhotoEditButton:l.bool.isRequired,onImageRemove:l.func.isRequired},_onImageRemove:function n(){this.props.onImageRemove(this.props.image);},_getImage:function n(){var o=this.props.image,p="_590x"+(this.props.overflow?' '+"_5b-k":'');if(o.isLoading){return (c('React').createElement(c('LoadingImageBox.react'),{className:p,height:j,width:k}));}else{!(o.width!=null&&o.height!=null)?i(0):void 0;return (c('React').createElement(c('SlideshowFrameImage.react'),{className:p,croppingSpec:c('SlideshowImageUtil').getFullSizeImageBoxCroppingSpec({width:o.width?o.width:0,height:o.height?o.height:0},{width:k,height:j}),imageSrc:o.url,imageWidth:o.width,imageHeight:o.height,maxWidth:k,maxHeight:j,positionStyle:'relative',textoverlay:this.props.imageTextoverlay}));}},_getPhotoEditButton:function n(){return this.props.showSlideshowPhotoEditButton?c('React').createElement(c('SlideshowPhotoEditButton.react'),{className:"_fah",selectedPhoto:this.props.image,selectedPhotoTextoverlay:this.props.imageTextoverlay,onPhotoEdit:c('SlideshowActions').showPhotoEditDialog}):null;},render:function n(){return this.renderDraggableToken(c('React').createElement(c('FBOverlayContainer.react'),null,c('React').createElement(c('FBOverlayBase.react'),null,this._getImage()),c('React').createElement(c('FBOverlayElement.react'),null,c('React').createElement('div',{className:"_5910"+(this.props.dragTargetIndex===this.props.index?' '+"_5911":'')},c('React').createElement(c('XUICloseButton.react'),{className:"_5912",shade:'light',size:'small',onClick:this._onImageRemove}),this._getPhotoEditButton()))));}});f.exports=m;}),null);
__d('SlideshowImageUploadsContainer.react',['cx','fbt','invariant','AdsHelpLink.react','React','Image.react','SlideshowDraggableImage.react','padNumber'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=1000,n=60,o=':',p=0,q=1,r=2,s=c('React').PropTypes;k=babelHelpers.inherits(t,c('React').Component);l=k&&k.prototype;function t(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=l.constructor).call.apply(u,[this].concat(x)),this.$SlideshowImageUploadsContainer1=function(){return {draggingIndex:null,dragTargetIndex:null};},this.$SlideshowImageUploadsContainer2=function(z,aa){this.setState({draggingIndex:aa});}.bind(this),this.$SlideshowImageUploadsContainer3=function(z,aa){this.setState(this.$SlideshowImageUploadsContainer1());}.bind(this),this.$SlideshowImageUploadsContainer4=function(z,aa,ba){if(this.state.draggingIndex!==null&&this.state.dragTargetIndex!==aa)this.setState({dragTargetIndex:aa});}.bind(this),this.$SlideshowImageUploadsContainer5=function(z,aa){if(this.state.draggingIndex!==null&&this.state.draggingIndex!==undefined&&this.state.draggingIndex!==aa)this.$SlideshowImageUploadsContainer6(this.state.draggingIndex,aa);}.bind(this),this.$SlideshowImageUploadsContainer6=function(z,aa){if(aa<this.props.selectedImages.length&&aa>=0)this.props.onImageReorder(z,aa);}.bind(this),this.$SlideshowImageUploadsContainer7=function(z){this.props.onImageRemove(z);}.bind(this),this.$SlideshowImageUploadsContainer8=function(z,aa){var ba=this.props,ca=ba.durationWithTransitionInMS,da=ba.maxSelectedImages,ea=ca/m;if(aa===da-1){return (c('React').createElement('span',null,this.$SlideshowImageUploadsContainer9(aa*ea),c('React').createElement('span',{className:"_73-"},this.$SlideshowImageUploadsContainer9(da*ea))));}else if(aa===da){return (c('React').createElement(c('AdsHelpLink.react'),{position:'left',width:290},i._("You can only show {maximum number of images} images in your slideshow. All other images won't get displayed.",[i.param('maximum number of images',da)])));}else if(aa<da){return c('React').createElement('span',null,this.$SlideshowImageUploadsContainer9(aa*ea));}else return c('React').createElement('span',null,'\u00A0');}.bind(this),this.$SlideshowImageUploadsContainer9=function(z){var aa=Math.floor(z/n),ba=z-aa*n;return aa+o+c('padNumber')(ba,2);},this.$SlideshowImageUploadsContainer10=function(){var z=this.props,aa=z.maxSelectedImages,ba=z.selectedImages,ca=Math.max(ba.length,aa),da=Array.from(Array(ca),function(ea,fa){if(fa<ba.length&&fa<aa){return p;}else if(fa<ba.length&&fa>=aa){return r;}else return q;});return (c('React').createElement('div',{className:"_73_"},da.map(function(ea,fa){return (c('React').createElement('span',{className:"_2j_u"+(ea===p&&fa!==0&&fa<aa?' '+"_741":'')+(ea===r&&fa>=aa?' '+"_4lrv":'')+(ea===r&&fa===aa?' '+"_4lrw":'')+(ea===q&&fa===0?' '+"_742":'')+(ea===q&&fa===ba.length&&fa!==0?' '+"_743":'')+(ea===q&&fa!==ba.length&&fa!==0?' '+"_749":''),key:fa},this.$SlideshowImageUploadsContainer8(ea,fa)));}.bind(this))));}.bind(this),this.$SlideshowImageUploadsContainer11=function(){if(this.props.selectedImages.length>=this.props.maxSelectedImages)return null;!(this.props.children!=null&&!Array.isArray(this.props.children))?j(0):void 0;return this.props.children;}.bind(this),this.$SlideshowImageUploadsContainer12=function(){var z=this.props.maxSelectedImages-1-this.props.selectedImages.length;if(z<=0)return null;var aa=[];for(var ba=0;ba<z;ba++)aa.push(c('React').createElement('span',{className:"_74a",key:ba}));return aa;}.bind(this),this.$SlideshowImageUploadsContainer13=function(z){var aa=this.state,ba=aa.draggingIndex,ca=aa.dragTargetIndex;if(ba!=null&&ca!=null){if(ca<z&&z<=ba)return z-1;if(ba<=z&&z<ca)return z+1;}return z;}.bind(this),this.state=this.$SlideshowImageUploadsContainer1(),v;}t.prototype.render=function(){var u="_38i3"+(this.props.selectedImages.length>=this.props.maxSelectedImages?' '+"_1ca2":'');return (c('React').createElement('div',{className:"_832"},c('React').createElement('div',{className:"_1ca3"},this.$SlideshowImageUploadsContainer10(),c('React').createElement('div',{className:u},this.props.selectedImages.map(function(v,w){var x=this.$SlideshowImageUploadsContainer13(w),y=this.props.imagesTextoverlays?this.props.imagesTextoverlays[x]:null,z=v.key;return (c('React').createElement(c('SlideshowDraggableImage.react'),{className:this.state.draggingIndex!=null&&this.state.dragTargetIndex===w?"_44cb":'',draggableImageClass:c('Image.react').baseClassName,dragTargetIndex:this.state.dragTargetIndex,entry:{},image:this.props.selectedImages[x],imageTextoverlay:y,index:w,isDragDropEnabled:true,key:z,overflow:w>=this.props.maxSelectedImages,showSlideshowPhotoEditButton:this.props.showSlideshowPhotoEditButton,onImageRemove:this.$SlideshowImageUploadsContainer7,onTokenDragEnd:this.$SlideshowImageUploadsContainer3,onTokenDragOver:this.$SlideshowImageUploadsContainer4,onTokenDragStart:this.$SlideshowImageUploadsContainer2,onTokenDrop:this.$SlideshowImageUploadsContainer5}));}.bind(this))),this.$SlideshowImageUploadsContainer11(),this.$SlideshowImageUploadsContainer12())));};t.propTypes={durationWithTransitionInMS:s.number.isRequired,maxSelectedImages:s.number.isRequired,selectedImages:s.arrayOf(s.shape({height:s.number,isLoading:s.bool.isRequired,key:s.string.isRequired,url:s.string,width:s.number})).isRequired,showSlideshowPhotoEditButton:s.bool.isRequired,onImageRemove:s.func.isRequired,onImageReorder:s.func.isRequired};f.exports=t;}),null);
__d('SlideshowFbtUtils',['fbt','SlideshowFlowTypes','SlideshowMusicCategory'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('SlideshowFlowTypes').SlideshowTabKey,l={None:h._("None"),Fade:h._("Fade"),Unknown:h._("Unknown")},m=(i={},i[k.SETTINGS_TAB]=h._("Settings"),i[k.MUSIC_TAB]=h._("Music"),i[k.FRAMES_TAB]=h._("Frames"),i.FRAMES_TAB_NUX=h._("Choose which frames you want to include in your slideshow"),i.MUSIC_TAB_NUX=h._("You can now add music to your slideshow. Use one of our royalty-free tracks or upload your own."),i),n={UPLOAD_ERROR:h._("There was a problem with your upload"),FRAME_IMAGE_FETCH_ERROR_FIRST:h._("We weren't able to cut your video into a slideshow. Try adding the video again."),FRAME_IMAGE_FETCH_ERROR_SECOND:h._("We still weren't able to cut your video into a slideshow. There could be a problem with your video file."),Unknown:null},o=(j={},j[c('SlideshowMusicCategory').ALL_TRACKS]=h._("All tracks"),j[c('SlideshowMusicCategory').USER_UPLOADED]=h._("Uploaded tracks"),j[c('SlideshowMusicCategory').RECENTLY_USED]=h._("Recently used"),j[c('SlideshowMusicCategory').ENERGETIC]=h._("Energetic"),j[c('SlideshowMusicCategory').INSPIRATIONAL]=h._("Inspirational"),j[c('SlideshowMusicCategory').FUN]=h._("Fun"),j[c('SlideshowMusicCategory').TRUSTWORTHY]=h._("Trustworthy"),j[c('SlideshowMusicCategory').MODERN]=h._("Modern"),j.Unknown=null,j),p={Original:h._("Original"),Wide:h._("Rectangle (16:9)"),Square:h._("Square (1:1)"),Vertical:h._("Vertical (2:3)")},q={Original:null,Wide:null,Square:null,Vertical:null},r={_getFbtString:function s(t,u){if(t[u])return t[u];return t.Unknown;},getDurationFbtString:function s(t){if(t===1)return h._({"*":"{second} second"},[h.param('second',t,[0])]);return h._({"*":"{seconds} seconds"},[h.param('seconds',t,[0])]);},getFramesTabNuxFbtString:function s(){return this._getFbtString(m,'FRAMES_TAB_NUX');},getMusicTabNuxFbtString:function s(){return this._getFbtString(m,'MUSIC_TAB_NUX');},getTabNameFbtString:function s(t){return this._getFbtString(m,t);},getTransitionFbtString:function s(t){return this._getFbtString(l,t);},getSlideshowVideoErrorMessage:function s(t){return this._getFbtString(n,t);},getFormatFbtString:function s(t){return this._getFbtString(p,t);},getFormatTooltipFbtString:function s(t){return this._getFbtString(q,t);},getMusicCategoryTooltip:function s(t){return this._getFbtString(o,t);}};f.exports=r;}),null);
__d('SlideshowMusicCategorySelector.react',['cx','React','SlideshowAudioUtil','SlideshowFbtUtils','SlideshowMusicCategory','Tooltip.react','XUICardSection.react','XUIPageNavigation.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('XUIPageNavigation.react').Group,l=c('XUIPageNavigation.react').Item;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.prototype.$SlideshowMusicCategorySelector1=function(n){var o=c('SlideshowAudioUtil').getMusicCategoryGlyph(n);if(!o)return null;return (c('React').createElement(l,{key:n,ref:n},c('React').createElement(c('Tooltip.react'),{alignH:'center',className:"_3fk8",position:'above',tooltip:c('SlideshowFbtUtils').getMusicCategoryTooltip(n)},o)));};m.prototype.$SlideshowMusicCategorySelector2=function(){return (c('React').createElement(c('XUICardSection.react'),{className:"_5vx1"},c('React').createElement(c('XUIPageNavigation.react'),{activeTabKey:this.props.selectedMusicCategory,defaultActiveTabKey:c('SlideshowMusicCategory').ALL_TRACKS,onTabClick:this.props.onMusicCategorySelect},c('React').createElement(k,null,Object.values(c('SlideshowMusicCategory')).map(function(n){return this.$SlideshowMusicCategorySelector1(n);}.bind(this))))));};m.prototype.render=function(){return (c('React').createElement('div',{className:"_d__"},this.$SlideshowMusicCategorySelector2()));};function m(){i.apply(this,arguments);}m.defaultProps={selectedMusicCategory:c('SlideshowMusicCategory').ALL_TRACKS};f.exports=m;}),null);
__d('SlideshowMusicTrackUploader.react',['cx','fbt','ix','LayerFadeOnHide','React','ReactFragment','SlideshowDataManager','FileInput.react','Image.react','Link.react','Tooltip.react','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','emptyFunction'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=700;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.$SlideshowMusicTrackUploader2=function(p){this.setState({showCopyrightDialog:p});}.bind(this);this.$SlideshowMusicTrackUploader5=function(){this.$SlideshowMusicTrackUploader2(false);this.props.onAudioFileUpload();var p=this.refs.audioFileInput.getFileInput();c('SlideshowDataManager').uploadAudioFile(p,this.props.targetID,this.props.onAudioFileUploadSuccess,this.props.onAudioFileUploadError);}.bind(this);this.state={showCopyrightDialog:false};}n.prototype.renderLayers=function(){var o=this.state.showCopyrightDialog?this.$SlideshowMusicTrackUploader1():null;return c('ReactFragment').create({copyrightDialog:o});};n.prototype.$SlideshowMusicTrackUploader1=function(){return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},layerHideOnBlur:false,shown:this.state.showCopyrightDialog,width:m,onToggle:this.$SlideshowMusicTrackUploader2},c('React').createElement(c('XUIDialogTitle.react'),null,i._("Rights to upload music")),c('React').createElement(c('XUIDialogBody.react'),{className:"_3mav",useCustomPadding:true},this.$SlideshowMusicTrackUploader3()),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:i._("Cancel")}),this.$SlideshowMusicTrackUploader4()));};n.prototype.$SlideshowMusicTrackUploader4=function(){return c('React').createElement(c('FileInput.react'),{accept:'audio/*',multiple:false,ref:'audioFileInput',onChange:this.$SlideshowMusicTrackUploader5},c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',className:"_3maw",href:{url:'#'},label:i._("Proceed"),use:'confirm'}));};n.prototype.$SlideshowMusicTrackUploader3=function(){return c('React').createElement('div',{className:"_3max"},c('React').createElement('div',{className:"_3may"},c('React').createElement(c('Image.react'),{src:j('/images/slideshow/music_licensing.png')})),c('React').createElement('div',{className:"_3ma-"},i._("By uploading music, you confirm that you have the rights to use it with your slideshow and have it played on Facebook. If you aren't sure, learn more about {slideshow_upload_audio_help_link}.",[i.param('slideshow_upload_audio_help_link',c('React').createElement(c('Link.react'),{href:'/help/249141925204375',target:'_blank'},i._("music you can use")))])));};n.prototype.$SlideshowMusicTrackUploader6=function(){var o=this.props.selectedStorylineMood?i._("You'll need to remove the track you've selected before uploading another"):null,p=this.props.selectedStorylineMood||this.props.audioFileUploadInfo.isUploading;return (c('React').createElement(c('Tooltip.react'),{alignH:'center',className:"_2fiy",position:'above',tooltip:o},c('React').createElement(c('XUIButton.react'),{className:"_3maw"+(p?' '+"_42fr":''),label:i._("Upload"),ref:'dialogButton',size:'xlarge',onClick:p?c('emptyFunction'):function(){this.setState({showCopyrightDialog:true});}.bind(this)})));};n.prototype.render=function(){return (c('React').createElement('div',null,this.$SlideshowMusicTrackUploader6(),this.renderLayers()));};f.exports=n;}),null);
__d('SlideshowMusicSelectedTrackComponent.react',['cx','fbt','React','SlideshowMusicTrackUploader.react','Tooltip.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$SlideshowMusicSelectedTrackComponent4=function(event){event.stopPropagation();this.props.onChangeStorylineMood(null);this.props.onPreviewStateChange(false);}.bind(this),this.$SlideshowMusicSelectedTrackComponent5=function(){if(!this.props.selectedStorylineMood)return;this.props.onPreviewStateChange(!this.props.isPreviewPlaying);}.bind(this),n;}l.prototype.$SlideshowMusicSelectedTrackComponent1=function(){return c('React').createElement('div',{className:"_nan"+(!this.props.isPreviewPlaying?' '+"_5yby":'')+(this.props.isPreviewPlaying?' '+"_5ybz":'')});};l.prototype.$SlideshowMusicSelectedTrackComponent2=function(){var m=i._("No music selected");if(this.props.selectedStorylineMood)m=this.props.selectedStorylineMood.fileName;return c('React').createElement('div',{className:"_nao"},m);};l.prototype.$SlideshowMusicSelectedTrackComponent3=function(){if(!this.props.selectedStorylineMood)return null;return c('React').createElement('div',{className:"_59qs",onClick:this.$SlideshowMusicSelectedTrackComponent4});};l.prototype.$SlideshowMusicSelectedTrackComponent6=function(){return (c('React').createElement(c('SlideshowMusicTrackUploader.react'),{audioFileUploadInfo:this.props.audioFileUploadInfo,selectedStorylineMood:this.props.selectedStorylineMood,targetID:this.props.targetID,onAudioFileUpload:this.props.onAudioFileUpload,onAudioFileUploadError:this.props.onAudioFileUploadError,onAudioFileUploadSuccess:this.props.onAudioFileUploadSuccess}));};l.prototype.$SlideshowMusicSelectedTrackComponent7=function(){return (c('React').createElement('div',{className:(!this.props.selectedStorylineMood?"_1sx5":'')+(!!this.props.selectedStorylineMood?' '+"_nar":''),onClick:this.$SlideshowMusicSelectedTrackComponent5},this.$SlideshowMusicSelectedTrackComponent1(),this.$SlideshowMusicSelectedTrackComponent2(),this.$SlideshowMusicSelectedTrackComponent3()));};l.prototype.$SlideshowMusicSelectedTrackComponent8=function(){return i._("Select a track below or upload your own tracks");};l.prototype.render=function(){if(!this.props.selectedStorylineMood)return (c('React').createElement('div',{className:"_naq"},c('React').createElement(c('Tooltip.react'),{alignH:'center',className:"_9ns",position:'above',tooltip:this.$SlideshowMusicSelectedTrackComponent8()},this.$SlideshowMusicSelectedTrackComponent7()),this.$SlideshowMusicSelectedTrackComponent6()));return (c('React').createElement('div',{className:"_naq"},this.$SlideshowMusicSelectedTrackComponent7(),this.$SlideshowMusicSelectedTrackComponent6()));};f.exports=l;}),null);
__d('SlideshowMusicTrackSelector.react',['cx','fbt','React','Set','SlideshowAudioUtil','SlideshowMusicCategory','Tooltip.react','XUINotice.react','XUISpinner.react','curry'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=6;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$SlideshowMusicTrackSelector2=function(s){this.props.onPreviewStateChange(false);this.props.onChangeStorylineMood(s);}.bind(this),this.$SlideshowMusicTrackSelector3=function(s,event){event.stopPropagation();this.props.onDeleteStorylineMood(s);}.bind(this),o;}m.prototype.$SlideshowMusicTrackSelector1=function(n){if(this.props.selectedMusicCategory===c('SlideshowMusicCategory').ALL_TRACKS||this.props.selectedMusicCategory===c('SlideshowMusicCategory').RECENTLY_USED||n.categories.indexOf(this.props.selectedMusicCategory)!==-1)return true;return false;};m.prototype.$SlideshowMusicTrackSelector4=function(){return (c('React').createElement('div',{className:"_4o-n",key:'UPLOADING_TRACK_KEY'},c('React').createElement(c('XUISpinner.react'),{className:"_2ruw",size:'small'}),c('React').createElement('div',{className:"_4o-p"},i._("Uploading\u2026"))));};m.prototype.$SlideshowMusicTrackSelector5=function(){var n=i._("There was a problem with uploading your music. Please make that sure it's in a supported file format and try again. You can use WAV, MP3, M4A, FLAC or OGG.");return (c('React').createElement('div',{className:"_4o-n",key:'ERROR_UPLOADING_TRACK_KEY'},c('React').createElement(c('XUINotice.react'),{className:"_2h_x",use:'warn'},n)));};m.prototype.$SlideshowMusicTrackSelector6=function(n){var o=i._("Delete");return (c('React').createElement(c('Tooltip.react'),{alignH:'center',className:"_4o-m",position:'above',tooltip:o,onClick:c('curry')(this.$SlideshowMusicTrackSelector3,n)},c('React').createElement('div',null)));};m.prototype.$SlideshowMusicTrackSelector7=function(){return Array.from(new (c('Set'))(this.props.recentlyUsedStorylineMoods)).slice(0,l);};m.prototype.$SlideshowMusicTrackSelector8=function(){var n=[],o=this.props.selectedMusicCategory===c('SlideshowMusicCategory').USER_UPLOADED,p=this.props.selectedMusicCategory===c('SlideshowMusicCategory').RECENTLY_USED;if(o&&this.props.audioFileUploadInfo.isUploading){n.push(this.$SlideshowMusicTrackSelector4());}else if(o&&this.props.audioFileUploadInfo.hasError)n.push(this.$SlideshowMusicTrackSelector5());var q=p?this.$SlideshowMusicTrackSelector7():this.props.storylineMoodFiles;q.sort(function(r,s){if(r.fileName<s.fileName){return -1;}else if(r.fileName>s.fileName){return 1;}else return 0;});q.forEach(function(r){var s=o?this.$SlideshowMusicTrackSelector6(r):null;if(this.$SlideshowMusicTrackSelector1(r)){var t=c('SlideshowAudioUtil').storylineMoodCompare(r,this.props.selectedStorylineMood);n.push(c('React').createElement('div',{className:"_4o-n",key:r.moodID,onClick:c('curry')(this.$SlideshowMusicTrackSelector2,r)},s,c('React').createElement('div',{className:(!t?"_4o-o":'')+(t?' '+"_4c2n":'')}),c('React').createElement('div',{className:"_4o-p"},r.fileName)));}}.bind(this));return n;};m.prototype.render=function(){return (c('React').createElement('div',{className:"_4o-x"},this.$SlideshowMusicTrackSelector8()));};m.defaultProps={selectedMusicCategory:c('SlideshowMusicCategory').ALL_TRACKS};f.exports=m;}),null);
__d('SlideshowMusicPanel.react',['cx','React','SlideshowMusicCategorySelector.react','SlideshowMusicSelectedTrackComponent.react','SlideshowMusicTrackSelector.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.$SlideshowMusicPanel1=function(){return (c('React').createElement(c('SlideshowMusicSelectedTrackComponent.react'),{audioFileUploadInfo:this.props.audioFileUploadInfo,isPreviewPlaying:this.props.isPreviewPlaying,selectedStorylineMood:this.props.selectedStorylineMood,targetID:this.props.targetID,onAudioFileUpload:this.props.onAudioFileUpload,onAudioFileUploadError:this.props.onAudioFileUploadError,onAudioFileUploadSuccess:this.props.onAudioFileUploadSuccess,onChangeStorylineMood:this.props.onChangeStorylineMood,onPreviewStateChange:this.props.onPreviewStateChange}));};k.prototype.$SlideshowMusicPanel2=function(){return (c('React').createElement(c('SlideshowMusicCategorySelector.react'),{selectedMusicCategory:this.props.selectedMusicCategory,onMusicCategorySelect:this.props.onMusicCategorySelect}));};k.prototype.$SlideshowMusicPanel3=function(){return (c('React').createElement(c('SlideshowMusicTrackSelector.react'),{audioFileUploadInfo:this.props.audioFileUploadInfo,recentlyUsedStorylineMoods:this.props.recentlyUsedStorylineMoods,selectedMusicCategory:this.props.selectedMusicCategory,selectedStorylineMood:this.props.selectedStorylineMood,storylineMoodFiles:this.props.storylineMoodFiles,onChangeStorylineMood:this.props.onChangeStorylineMood,onDeleteStorylineMood:this.props.onDeleteStorylineMood,onPreviewStateChange:this.props.onPreviewStateChange}));};k.prototype.render=function(){return (c('React').createElement('div',{className:"_3-xf"},this.$SlideshowMusicPanel1(),this.$SlideshowMusicPanel2(),this.$SlideshowMusicPanel3()));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('SlideshowAlignmentBox.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$SlideshowAlignmentBox1=function(){var r=this.props,s=r.horizontalAlignment,t=r.verticalAlignment,u=t+'-'+s;this.props.onValueChange&&this.props.onValueChange(u);}.bind(this),n;}l.prototype.render=function(){var m=this.props,n=m.horizontalAlignment,o=m.selectedValue,p=m.verticalAlignment,q=p+'-'+n;return c('React').createElement('div',{className:"_hfg"+(o==q?' '+"_hfh":'')+(p=='bottom'?' '+"_hfi":'')+(p=='top'?' '+"_hfj":'')+(n=='right'?' '+"_hfk":'')+(n=='left'?' '+"_hfl":''),onClick:this.$SlideshowAlignmentBox1});};l.propTypes={onValueChange:k.func.isRequired};f.exports=l;}),null);
__d('SlideshowColorBox.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l='#ffffff';i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$SlideshowColorBox1=function(){this.props.onClick&&this.props.onClick(this.props.color);}.bind(this),o;}m.prototype.render=function(){var n=this.props,o=n.className,p=n.style,q=babelHelpers.objectWithoutProperties(n,['className','style']);o=c('joinClasses')("_5266",this.props.className);if(p&&p.backgroundColor===l){o=c('joinClasses')("_2obn",o);}else if(p&&!p.backgroundColor){o=c('joinClasses')("_526b",o);if(p.color===l)o=c('joinClasses')("_12k3",o);}return c('React').createElement('div',babelHelpers['extends']({},q,{className:o,style:p,onClick:this.$SlideshowColorBox1}),'T');};m.propTypes={className:k.string,style:k.object,onClick:k.func};f.exports=m;}),null);
__d('SlideshowPhotoCropperWindow.react',['cx','fbt','React','joinClasses','SlideshowConstants'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('SlideshowConstants').formats;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);}m.prototype.$SlideshowPhotoCropperWindow1=function(){if(this.props.isCropping)return null;var n=void 0;switch(this.props.format){case l.Original:n=i._("Original");break;case l.Wide:n=i._("Rectangle (16:9)");break;case l.Square:n=i._("Square (1:1)");break;default:n=i._("Unknown");}return (c('React').createElement('div',{className:"_2d6a"},c('React').createElement('div',{className:"_2d6b"},n)));};m.prototype.render=function(){return (c('React').createElement('div',{onMouseDown:this.props.onMouseDown,className:c('joinClasses')(this.props.className,"_2d6c"),style:babelHelpers['extends']({},this.props.style||{},{width:this.props.width,height:this.props.height})},c('React').createElement('div',{className:"_2d6d"}),this.$SlideshowPhotoCropperWindow1()));};f.exports=m;}),null);
__d('SlideshowPhotoCropSelector.react',['cx','invariant','BackgroundImage.react','Event','SlideshowPhotoCropperWindow.react','React','ReactDOM'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=656,m=425,n=400,o=400,p=function s(t,u,v){return Math.min(Math.max(t,u),v);},q=function s(t){return t*t;};j=babelHelpers.inherits(r,c('React').Component);k=j&&j.prototype;function r(s){k.constructor.call(this,s);this.state={coordinates:{},isCropping:false,isResizing:false,min:{},max:{},photoDimensions:{},scale:1,screenX:0,screenY:0};this.$SlideshowPhotoCropSelector1=false;this.$SlideshowPhotoCropSelector2=null;this.$SlideshowPhotoCropSelector3=null;this.$SlideshowPhotoCropSelector5={};this.$SlideshowPhotoCropSelector4=null;this.$SlideshowPhotoCropSelector6=null;this.$SlideshowPhotoCropSelector7=this.$SlideshowPhotoCropSelector7.bind(this);this.$SlideshowPhotoCropSelector8=this.$SlideshowPhotoCropSelector8.bind(this);this.$SlideshowPhotoCropSelector9=this.$SlideshowPhotoCropSelector9.bind(this);this.$SlideshowPhotoCropSelector10=this.$SlideshowPhotoCropSelector10.bind(this);this.$SlideshowPhotoCropSelector11=this.$SlideshowPhotoCropSelector11.bind(this);this.$SlideshowPhotoCropSelector12=this.$SlideshowPhotoCropSelector12.bind(this);}r.prototype.componentWillMount=function(){this.$SlideshowPhotoCropSelector13(this.props);};r.prototype.componentWillReceiveProps=function(s){this.$SlideshowPhotoCropSelector13(s);};r.prototype.componentWillUnmount=function(){if(this.$SlideshowPhotoCropSelector2)this.$SlideshowPhotoCropSelector2.remove();if(this.$SlideshowPhotoCropSelector6)this.$SlideshowPhotoCropSelector6.remove();};r.prototype.$SlideshowPhotoCropSelector13=function(s){var t=s.photoToEdit.width,u=s.photoToEdit.height;!(t&&u)?i(0):void 0;var v=Math.min(l/t,m/u),w={height:u,scaledWidth:Math.round(t*v),scaledHeight:Math.round(u*v),width:t},x={scale:1,x:(l-w.scaledWidth)/2,y:(m-w.scaledHeight)/2},y={scale:1,x:x.x+w.scaledWidth,y:x.y+w.scaledHeight},z=this.props.photosCrops[0],aa=Object.keys(z)[0],ba=z[aa],ca={};ca.top=x.y+ba[0][1]*v;ca.left=x.x+ba[0][0]*v;ca.bottom=x.y+(u-ba[1][1])*v;ca.right=x.x+(t-ba[1][0])*v;ca.width=l-ca.right-ca.left;ca.height=m-ca.bottom-ca.top;x.scale=Math.min(n*v/ca.width,o*v/ca.height);y.scale=Math.min(w.scaledWidth/ca.width,w.scaledHeight/ca.height);this.setState({max:y,min:x,photoDimensions:w,scale:v,coordinates:ca});};r.prototype.$SlideshowPhotoCropSelector14=function(){var s=c('React').createElement('td',{className:"_47uq"}),t=c('React').createElement('tr',null,s,s,s);return (c('React').createElement('table',{className:"_47ur"},c('React').createElement('tbody',null,t,t,t)));};r.prototype.$SlideshowPhotoCropSelector15=function(s){var t=this.state.min.y,u=this.state.min.x,v=Math.floor(s.top-t),w=Math.floor(s.left-u),x=Math.floor(s.right-u),y=Math.floor(s.bottom-t);return v+'px '+x+'px '+y+'px '+w+'px';};r.prototype.$SlideshowPhotoCropSelector16=function(){return (c('React').createElement('div',{className:"_47us",ref:'handles'},c('React').createElement('div',{className:"_47ut _47vn",key:'top_left',onMouseDown:this.$SlideshowPhotoCropSelector11}),c('React').createElement('div',{className:"_47ut _47vo",key:'top_right',onMouseDown:this.$SlideshowPhotoCropSelector11}),c('React').createElement('div',{className:"_47ut _47vp",key:'bottom_right',onMouseDown:this.$SlideshowPhotoCropSelector11}),c('React').createElement('div',{className:"_47ut _47vq",key:'bottom_left',onMouseDown:this.$SlideshowPhotoCropSelector11})));};r.prototype.$SlideshowPhotoCropSelector11=function(event){this.$SlideshowPhotoCropSelector17(event,true);};r.prototype.$SlideshowPhotoCropSelector17=function(event,s){event.preventDefault();this.$SlideshowPhotoCropSelector18();if(!this.$SlideshowPhotoCropSelector1){this.$SlideshowPhotoCropSelector3=this.$SlideshowPhotoCropSelector19(s);var t=c('ReactDOM').findDOMNode(this.refs.handles);!t?i(0):void 0;var u=t.getBoundingClientRect(),v=u.left,w=u.top,x=u.width,y=u.height;this.$SlideshowPhotoCropSelector5={x:v+x/2,y:w+y/2};this.$SlideshowPhotoCropSelector2=c('Event').listen(window,'mousemove',this.$SlideshowPhotoCropSelector8);this.$SlideshowPhotoCropSelector6=c('Event').listen(window,'mouseup',this.$SlideshowPhotoCropSelector7);this.setState({isCropping:true,isResizing:s,screenX:event.pageX,screenY:event.pageY});this.$SlideshowPhotoCropSelector1=true;this.$SlideshowPhotoCropSelector20(this.state.coordinates.left,this.state.coordinates.top,this.state.coordinates.width,this.state.coordinates.height);}};r.prototype.$SlideshowPhotoCropSelector19=function(s){return s?this.$SlideshowPhotoCropSelector12:this.$SlideshowPhotoCropSelector10;};r.prototype.$SlideshowPhotoCropSelector12=function(s,t){var u=Math.sqrt(q(this.state.screenX-this.$SlideshowPhotoCropSelector5.x)+q(this.state.screenY-this.$SlideshowPhotoCropSelector5.y)),v={x:s/2+this.state.screenX,y:t/2+this.state.screenY},w=Math.sqrt(q(this.$SlideshowPhotoCropSelector5.x-v.x)+q(this.$SlideshowPhotoCropSelector5.y-v.y)),x=p(w/u,this.state.min.scale,this.state.max.scale),y=Math.round(this.state.coordinates.width*x),z=Math.round(this.state.coordinates.height*x),aa=this.state.screenX<this.$SlideshowPhotoCropSelector5.x?this.state.coordinates.width-y:0,ba=this.state.screenY<this.$SlideshowPhotoCropSelector5.y?this.state.coordinates.height-z:0,ca=p(this.state.coordinates.left+aa,this.state.min.x,this.state.max.x-y),da=p(this.state.coordinates.top+ba,this.state.min.y,this.state.max.y-z);this.$SlideshowPhotoCropSelector20(ca,da,y,z);};r.prototype.$SlideshowPhotoCropSelector20=function(s,t,u,v){var w=m-t-v,x=l-s-u,y=this.$SlideshowPhotoCropSelector15({top:t,left:s,bottom:w,right:x});!this.$SlideshowPhotoCropSelector4?i(0):void 0;this.$SlideshowPhotoCropSelector4.style.borderWidth=y;this.$SlideshowPhotoCropSelector4.style.width=u+'px';this.$SlideshowPhotoCropSelector4.style.height=v+'px';if(!this.$SlideshowPhotoCropSelector1){this.setState({coordinates:{top:t,left:s,bottom:w,right:x,width:u,height:v}});var z=this.state.min;z.scale=Math.min(n*this.state.scale/u,o*this.state.scale/v);var aa=this.state.max;aa.scale=Math.min(this.state.photoDimensions.scaledWidth/u,this.state.photoDimensions.scaledHeight/v);this.setState({min:z,max:aa});}};r.prototype.$SlideshowPhotoCropSelector10=function(s,t){var u=this.state.coordinates.width,v=this.state.coordinates.height,w=p(this.state.coordinates.left+s,this.state.min.x,this.state.max.x-u),x=p(this.state.coordinates.top+t,this.state.min.y,this.state.max.y-v);this.$SlideshowPhotoCropSelector20(w,x,u,v);};r.prototype.$SlideshowPhotoCropSelector18=function(){!!this.$SlideshowPhotoCropSelector4?i(0):void 0;this.$SlideshowPhotoCropSelector4=c('ReactDOM').findDOMNode(this.refs.selector);!this.$SlideshowPhotoCropSelector4?i(0):void 0;};r.prototype.$SlideshowPhotoCropSelector9=function(event){this.$SlideshowPhotoCropSelector17(event,false);};r.prototype.$SlideshowPhotoCropSelector8=function(event){if(this.$SlideshowPhotoCropSelector1){event.prevent();!this.$SlideshowPhotoCropSelector3?i(0):void 0;this.$SlideshowPhotoCropSelector3(event.pageX-this.state.screenX,event.pageY-this.state.screenY);}};r.prototype.$SlideshowPhotoCropSelector7=function(event){if(this.$SlideshowPhotoCropSelector1){this.$SlideshowPhotoCropSelector1=false;this.setState({isCropping:false,isResizing:false});!this.$SlideshowPhotoCropSelector3?i(0):void 0;this.$SlideshowPhotoCropSelector3(event.pageX-this.state.screenX,event.pageY-this.state.screenY);this.$SlideshowPhotoCropSelector2&&this.$SlideshowPhotoCropSelector2.remove();this.$SlideshowPhotoCropSelector2=null;this.$SlideshowPhotoCropSelector6&&this.$SlideshowPhotoCropSelector6.remove();this.$SlideshowPhotoCropSelector6=null;this.$SlideshowPhotoCropSelector3=null;}this.$SlideshowPhotoCropSelector21();};r.prototype.$SlideshowPhotoCropSelector21=function(){delete this.$SlideshowPhotoCropSelector4;};r.prototype.$SlideshowPhotoCropSelector22=function(){var s=this.state.coordinates.width+'px',t=this.state.coordinates.height+'px',u=this.$SlideshowPhotoCropSelector15(this.state.coordinates);return (c('React').createElement('div',null,c('React').createElement('div',{className:"_47vr",style:{width:this.state.photoDimensions.scaledWidth+2,height:this.state.photoDimensions.scaledHeight+2,top:this.state.min.y-1,left:this.state.min.x-1}}),c('React').createElement('div',null,c('React').createElement('div',{className:"_47vs",ref:'selector',style:{borderWidth:u,height:t,left:this.state.min.x,top:this.state.min.y,width:s}},this.$SlideshowPhotoCropSelector14(),this.$SlideshowPhotoCropSelector16(),c('React').createElement(c('SlideshowPhotoCropperWindow.react'),{className:"_ms8",format:this.props.format,height:this.state.coordinates.height,isCropping:this.state.isCropping&&this.$SlideshowPhotoCropSelector1,onMouseDown:this.$SlideshowPhotoCropSelector9,width:this.state.coordinates.width})))));};r.prototype.render=function(){return (c('React').createElement('div',{className:"_118z"},c('React').createElement('div',{className:"_47vt"},c('React').createElement(c('BackgroundImage.react'),{backgroundSize:'contain',height:m,loadingIndicatorStyle:'large',src:this.props.photoToEdit.url,width:l}),this.$SlideshowPhotoCropSelector22())));};f.exports=r;}),null);
__d('SlideshowPhotoEditOptionConstants',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={Text:'TEXT',Crop:'CROP'};}),null);
__d('SlideshowPhotoEditOptionSelector.react',['ix','cx','fbt','Image.react','React','SlideshowPhotoEditOptionConstants','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('SlideshowPhotoEditOptionConstants').Text,n=c('SlideshowPhotoEditOptionConstants').Crop;k=babelHelpers.inherits(o,c('React').PureComponent);l=k&&k.prototype;function o(){var p;(p=l.constructor).call.apply(p,[this].concat(Array.prototype.slice.call(arguments)));this.$SlideshowPhotoEditOptionSelector1=this.$SlideshowPhotoEditOptionSelector1.bind(this);this.$SlideshowPhotoEditOptionSelector2=this.$SlideshowPhotoEditOptionSelector2.bind(this);}o.prototype.$SlideshowPhotoEditOptionSelector3=function(p){if(p!==this.props.editOptionType)return null;return (c('React').createElement(c('Image.react'),{className:p===m?"_3rqm":"_3rqn",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/triangle-left_24_fig-white.png")}));};o.prototype.$SlideshowPhotoEditOptionSelector4=function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:this.props.editOptionType===m?"_4bna":"_3rqo",onClick:this.$SlideshowPhotoEditOptionSelector2},c('React').createElement(c('Image.react'),{className:"_3rqp",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/text-helvetica_24_fig-blue.png")}),c('React').createElement('span',{className:"_3rqq"},j._("Text"))),this.$SlideshowPhotoEditOptionSelector3(m)));};o.prototype.$SlideshowPhotoEditOptionSelector5=function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:this.props.editOptionType===n?"_4bnb":"_3rqr",onClick:this.$SlideshowPhotoEditOptionSelector1},c('React').createElement(c('Image.react'),{className:"_3rqp",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/crop_24_fig-blue.png")}),c('React').createElement('span',{className:"_3rqq"},j._("Crop"))),this.$SlideshowPhotoEditOptionSelector3(n)));};o.prototype.$SlideshowPhotoEditOptionSelector2=function(){if(this.props.editOptionType!==m)this.props.onChangeEditOption(m);};o.prototype.$SlideshowPhotoEditOptionSelector1=function(){if(this.props.editOptionType!==n)this.props.onChangeEditOption(n);};o.prototype.render=function(){return (c('React').createElement('div',{className:"_3rqs"},this.$SlideshowPhotoEditOptionSelector4(),this.$SlideshowPhotoEditOptionSelector5()));};f.exports=o;}),null);
__d("SlideshowPreviewConstants",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={WWW_PREVIEW_CONTAINER_SIZE:450,WWW_PREVIEW_CONTAINER_SIZE_COMPOSER:478,WWW_COMPOSER_LEFT_MARGIN:12,WWW_PLAY_ICON_SIZE:64,WWW_PLAYER_SIZE:350,WWW_PLAYER_SIZE_COMPOSER:478};}),null);
__d('SlideshowTextoverlayAlignmentConstants',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={Horizontal:['left','center','right'],Vertical:['top','center','bottom']};}),null);
/**
 * @providesModule color-picker-clamp
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Nick Williams
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */__d("color-picker-clamp",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();function h(i,j,k){return i<j?j:(i>k?k:i);}f.exports=h;}),null);
/**
 * @providesModule color-picker-draggable-mixin
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Nick Williams
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */__d("color-picker-draggable-mixin",["React","color-picker-clamp"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c("React"),i=c("color-picker-clamp");function j(){}var k={propTypes:{onChange:h.PropTypes.func,max:h.PropTypes.number},getDefaultProps:function(){return {onChange:j,max:1};},getInitialState:function(){return {active:false};},componentDidMount:function(){document.addEventListener("mousemove",this.handleUpdate);document.addEventListener("touchmove",this.handleUpdate);document.addEventListener("mouseup",this.stopUpdates);document.addEventListener("touchend",this.stopUpdates);},componentWillUnmount:function(){document.removeEventListener("mousemove",this.handleUpdate);document.removeEventListener("touchmove",this.handleUpdate);document.removeEventListener("mouseup",this.stopUpdates);document.removeEventListener("touchend",this.stopUpdates);},startUpdates:function(l){l.preventDefault();var m=this.getPosition(l);this.setState({active:true});this.updatePosition(m.x,m.y);},handleUpdate:function(l){if(this.state.active){l.preventDefault();var m=this.getPosition(l);this.updatePosition(m.x,m.y);}},stopUpdates:function(){if(this.state.active)this.setState({active:false});},getPosition:function(l){if(l.touches)l=l.touches[0];return {x:l.clientX,y:l.clientY};},getPercentageValue:function(l){return (l/this.props.max)*100+"%";},getScaledValue:function(l){return i(l,0,1)*this.props.max;}};f.exports=k;}),null);
/**
 * @providesModule color-picker-map
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Nick Williams
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @fullSyntaxTransform
 */__d("color-picker-map",["cx","React","ReactDOM","ReactComponentWithPureRenderMixin","color-picker-draggable-mixin"],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c("React").createClass({displayName:"Map",mixins:[c("color-picker-draggable-mixin"),c("ReactComponentWithPureRenderMixin")],propTypes:{x:c("React").PropTypes.number,y:c("React").PropTypes.number,backgroundColor:c("React").PropTypes.string},getDefaultProps:function j(){return {x:0,y:0,backgroundColor:"transparent"};},updatePosition:function j(k,l){var m=c("ReactDOM").findDOMNode(this).getBoundingClientRect(),n=(k-m.left)/m.width,o=(m.bottom-l)/m.height;n=this.getScaledValue(n);o=this.getScaledValue(o);this.props.onChange(n,o);},render:function j(){var k="map"+(this.state.active?" "+"active":"");return (c("React").createElement("div",{className:"_4uwo"+" "+this.props.className+" "+k,onMouseDown:this.startUpdates,onTouchStart:this.startUpdates},c("React").createElement("div",{className:"background",style:{backgroundColor:this.props.backgroundColor}}),c("React").createElement("div",{className:"pointer",style:{left:this.getPercentageValue(this.props.x),bottom:this.getPercentageValue(this.props.y)}})));}});f.exports=i;}),null);
/**
 * @providesModule color-picker-slider
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Nick Williams
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @fullSyntaxTransform
 */__d("color-picker-slider",["cx","React","ReactDOM","ReactComponentWithPureRenderMixin","color-picker-draggable-mixin"],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c("React").createClass({displayName:"Slider",mixins:[c("color-picker-draggable-mixin"),c("ReactComponentWithPureRenderMixin")],propTypes:{vertical:c("React").PropTypes.bool.isRequired,value:c("React").PropTypes.number.isRequired},getDefaultProps:function j(){return {value:0};},updatePosition:function j(k,l){var m=c("ReactDOM").findDOMNode(this).getBoundingClientRect(),n;if(this.props.vertical){n=(m.bottom-l)/m.height;}else n=(k-m.left)/m.width;n=this.getScaledValue(n);this.props.onChange(n);},getCss:function j(){var k={},l=this.props.vertical?"bottom":"left";k[l]=this.getPercentageValue(this.props.value);return k;},render:function j(){var k="slider"+(this.props.vertical?" "+"vertical":"")+(!this.props.vertical?" "+"horizontal":"");return (c("React").createElement("div",{className:"_4_2w"+" "+k,onMouseDown:this.startUpdates,onTouchStart:this.startUpdates},c("React").createElement("div",{className:"track"}),c("React").createElement("div",{className:"pointer",style:this.getCss()})));}});f.exports=i;}),null);
/**
 * @providesModule color-picker
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Nick Williams
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @fullSyntaxTransform
 */__d("color-picker",["cx","React","color-picker-map","color-picker-slider","colr"],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.getStateFrom=function(q){q=c("colr").fromHex(q);return {hsv:q.toHsvObject()};},this.getLuminosity=function(){return c("colr").fromHsvObject(this.state.hsv).toGrayscale()/255;}.bind(this),this.getBackgroundHue=function(){return c("colr").fromHsv(this.state.hsv.h,100,100).toHex();}.bind(this),this.handleHueChange=function(q){this.update({h:q,s:this.state.hsv.s,v:this.state.hsv.v});}.bind(this),this.handleSaturationValueChange=function(q,r){this.update({h:this.state.hsv.h,s:q,v:r});}.bind(this),this.update=function(q){var r=c("colr").fromHsvObject(q);this.props.onChange(r.toHex());this.setState({hsv:q});}.bind(this),this.state=this.getStateFrom(this.props.color),m;}k.prototype.componentWillReceiveProps=function(l){"use strict";var m=l.color,n=c("colr").fromHsvObject(this.state.hsv).toHex();if(m.toLowerCase()!==n.toLowerCase())this.setState(this.getStateFrom(m));};k.prototype.render=function(){"use strict";var l=this.getLuminosity(),m=this.getBackgroundHue(),n=(l<=.5?"dark":"")+(l>.5?" "+"light":"");return c("React").createElement("div",{className:"_f4e"},c("React").createElement("div",{className:"_2ppf"},c("React").createElement(c("color-picker-slider"),{vertical:true,value:this.state.hsv.h,max:360,onChange:this.handleHueChange})),c("React").createElement(c("color-picker-map"),{x:this.state.hsv.s,y:this.state.hsv.v,max:100,className:n,backgroundColor:m,onChange:this.handleSaturationValueChange}));};k.defaultProps={color:"#000000"};f.exports=k;}),null);
__d('SlideshowPhotoEditDialog.react',['invariant','cx','fbt','colr','color-picker','LayerHideOnBlur','LayerFadeOnHide','React','SlideshowAlignmentBox.react','SlideshowColorBox.react','SlideshowConstants','SlideshowFrameImage.react','SlideshowPhotoCropSelector.react','SlideshowImageUtil','SlideshowPhotoEditOptionConstants','SlideshowPhotoEditOptionSelector.react','SlideshowPreviewConstants','SlideshowTextoverlayAlignmentConstants','SlideshowTextoverlayColorPickerConstants','XUIButton.react','XUIContextualDialog.react','XUIContextualDialogBody.react','XUIContextualDialogFooter.react','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogSaveButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIRadioButtonGroup.react','XUISingleSelector.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('XUISingleSelector.react').Option,n=204,o=730,p=810,q=460,r=60;k=babelHelpers.inherits(s,c('React').Component);l=k&&k.prototype;function s(t){l.constructor.call(this,t);this.$SlideshowPhotoEditDialog1=function(u){this.props.onChangeTextoverlayFont(u.value);}.bind(this);this.$SlideshowPhotoEditDialog2=function(u){this.props.onChangeTextoverlayFontBold(u);}.bind(this);this.$SlideshowPhotoEditDialog3=function(u){this.props.onSetTextoverlayContent(u.target.value);}.bind(this);this.state={colorInput:t.textoverlayColor.background_color};this.$SlideshowPhotoEditDialog1=this.$SlideshowPhotoEditDialog1.bind(this);this.$SlideshowPhotoEditDialog2=this.$SlideshowPhotoEditDialog2.bind(this);this.$SlideshowPhotoEditDialog3=this.$SlideshowPhotoEditDialog3.bind(this);this.$SlideshowPhotoEditDialog4=this.$SlideshowPhotoEditDialog4.bind(this);this.$SlideshowPhotoEditDialog5=this.$SlideshowPhotoEditDialog5.bind(this);this.$SlideshowPhotoEditDialog6=this.$SlideshowPhotoEditDialog6.bind(this);this.$SlideshowPhotoEditDialog7=this.$SlideshowPhotoEditDialog7.bind(this);}s.prototype.$SlideshowPhotoEditDialog7=function(t){if(this.props.colorPickerDialogShown&&!t)this.props.onSaveColor();};s.prototype.$SlideshowPhotoEditDialog8=function(){var t=c('SlideshowConstants').textoverlays_fonts;return Object.keys(t).map(function(u){return c('React').createElement(m,{key:u,value:u},t[u]);});};s.prototype.$SlideshowPhotoEditDialog9=function(){return c('React').createElement('div',{className:"_bsi"},c('React').createElement('div',{className:"_bsj"},j._("Font")),c('React').createElement(c('XUISingleSelector.react'),{className:"_bsm",maxwidth:138,name:'font',size:'large',value:this.props.textoverlayFont,onChange:this.$SlideshowPhotoEditDialog1},this.$SlideshowPhotoEditDialog8()),c('React').createElement(c('XUIRadioButtonGroup.react'),{className:"_46un",selectedValue:this.props.isTextoverlayFontBold,selectedDepressed:true,onValueChange:this.$SlideshowPhotoEditDialog2},c('React').createElement(c('XUIButton.react'),{label:j._("Regular"),value:false}),c('React').createElement(c('XUIButton.react'),{label:j._("Bold"),value:true})));};s.prototype.$SlideshowPhotoEditDialog10=function(){return c('React').createElement('div',{className:"_47dr"},c('React').createElement('span',{className:"_bsj"},j._("Colours")),c('React').createElement(c('SlideshowColorBox.react'),{className:"_458a",ref:'colorBox',style:{color:this.props.textoverlayColor.font_color,backgroundColor:this.props.textoverlayColor.background_color},onClick:this.props.onOpenColorPicker}),this.$SlideshowPhotoEditDialog11());};s.prototype.$SlideshowPhotoEditDialog12=function(){var t=c('SlideshowConstants').textoverlays_colors,u=this.props.textoverlayColor;return c('React').createElement('div',{className:"_3pya"},t.map(function(v){return c('React').createElement(c('SlideshowColorBox.react'),{className:"_47ds"+(v.background_color==u.background_color&&v.font_color==u.font_color?' '+"_auk":''),color:v,key:v.font_color+v.background_color,style:{color:v.font_color,backgroundColor:v.background_color},onClick:this.$SlideshowPhotoEditDialog6});}.bind(this)));};s.prototype.$SlideshowPhotoEditDialog6=function(t){this.setState({colorInput:t.background_color});this.props.onSelectTextoverlayColor(t);};s.prototype.$SlideshowPhotoEditDialog13=function(){var t=this.props.textoverlayColor;return c('React').createElement('div',null,c('React').createElement('div',{className:"_3pyb"},c('React').createElement(c('color-picker'),{color:t.background_color,onChange:this.$SlideshowPhotoEditDialog4})),c('React').createElement(c('SlideshowColorBox.react'),{className:"_47ds _3pyc",color:t,style:{color:t.font_color,backgroundColor:t.background_color}}),c('React').createElement('div',{className:"_3pyd"},c('React').createElement('input',{maxLength:7,value:this.state.colorInput,onChange:this.$SlideshowPhotoEditDialog5})));};s.prototype.$SlideshowPhotoEditDialog11=function(){var t=this.props,u=t.colorPickerDialogShown,v=t.colorPickerType,w=v==c('SlideshowTextoverlayColorPickerConstants').Basic;return c('React').createElement(c('XUIContextualDialog.react'),{alignment:'right',behaviors:{LayerHideOnBlur:c('LayerHideOnBlur')},contextRef:function(){return this.refs.colorBox;}.bind(this),shown:u,position:'below',width:n,onToggle:this.$SlideshowPhotoEditDialog7},c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement('div',{className:"_3pye"+(' '+"_2d75")+(w?' '+"_3pyf":''),onClick:this.props.onClickBasicColorPicker},j._("Basic")),c('React').createElement('div',{className:"_3pye"+(' '+"_2d76")+(!w?' '+"_3pyf":''),onClick:this.props.onClickAdvancedColorPicker},j._("Advanced")),w?this.$SlideshowPhotoEditDialog12():this.$SlideshowPhotoEditDialog13()),c('React').createElement(c('XUIContextualDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{use:'confirm',label:j._("Done"),onClick:this.props.onSaveColor})));};s.prototype.$SlideshowPhotoEditDialog5=function(t){var u=t.target;!(u instanceof HTMLInputElement)?h(0):void 0;this.setState({colorInput:u.value});var v=void 0;try{v=c('colr').fromHex(u.value).toHex();if(v)this.props.onSelectTextoverlayColor({background_color:v,font_color:this.props.textoverlayColor.font_color});}catch(w){}};s.prototype.$SlideshowPhotoEditDialog4=function(t){this.setState({colorInput:t});this.props.onSelectTextoverlayColor({background_color:t,font_color:this.props.textoverlayColor.font_color});};s.prototype.$SlideshowPhotoEditDialog14=function(){var t=c('SlideshowTextoverlayAlignmentConstants').Horizontal,u=c('SlideshowTextoverlayAlignmentConstants').Vertical;return c('React').createElement('div',{className:"_b3r"},c('React').createElement('span',{className:"_bsj"},j._("Alignment")),c('React').createElement('div',{className:"_b3s"},u.map(function(v){return t.map(function(w){return c('React').createElement(c('SlideshowAlignmentBox.react'),{key:v+'-'+w,selectedValue:this.props.textoverlayAlignment,horizontalAlignment:w,verticalAlignment:v,onValueChange:this.props.onChangeTextoverlayAlignment});}.bind(this));}.bind(this))));};s.prototype.$SlideshowPhotoEditDialog15=function(){return c('React').createElement('div',{className:"_32zp"},this.$SlideshowPhotoEditDialog16(),this.$SlideshowPhotoEditDialog9(),this.$SlideshowPhotoEditDialog10(),this.$SlideshowPhotoEditDialog14());};s.prototype.$SlideshowPhotoEditDialog17=function(){if(!this.props.dialogShown)return null;var t=c('SlideshowImageUtil').getPreviewBoxDimensions(this.props.photosCrops,q),u={marginLeft:(q-t.width)/2,marginTop:(q-t.height)/2},v=this.props.photoToEdit;!v?h(0):void 0;return c('React').createElement('div',{className:"_4ry3"},c('React').createElement('div',{style:u},c('React').createElement(c('SlideshowFrameImage.react'),{croppingSpec:c('SlideshowImageUtil').getFullSizeImageBoxCroppingSpec({width:v.width||0,height:v.height||0},{width:t.width,height:t.height}),imageSrc:v.url,imageWidth:v.width,imageHeight:v.height,maxWidth:t.width,maxHeight:t.height,positionStyle:'relative',textoverlay:{background_color:this.props.textoverlayColor.background_color,bold:this.props.isTextoverlayFontBold,font:this.props.textoverlayFont,font_color:this.props.textoverlayColor.font_color,text_alignment:this.props.textoverlayAlignment,textoverlay_content:this.props.textoverlayContent}})));};s.prototype.$SlideshowPhotoEditDialog18=function(){switch(this.props.editOptionType){case c('SlideshowPhotoEditOptionConstants').Crop:if(!this.props.photoToEdit)return null;return c('React').createElement('div',{className:"_2m0d"},c('React').createElement(c('SlideshowPhotoCropSelector.react'),{format:this.props.format,photosCrops:this.props.photosCrops,photoToEdit:this.props.photoToEdit}));case c('SlideshowPhotoEditOptionConstants').Text:return c('React').createElement('div',{className:"_2m0d"},this.$SlideshowPhotoEditDialog15(),c('React').createElement('div',{className:"_4ry4"},this.$SlideshowPhotoEditDialog17()));default:return null;}};s.prototype.$SlideshowPhotoEditDialog16=function(){var t=this.props.textoverlayContent,u=r-(t?t.length:0);return c('React').createElement('div',null,c('React').createElement('textarea',{className:"_32zq",placeholder:j._("Your text..."),maxLength:r,onChange:this.$SlideshowPhotoEditDialog3,value:t||''}),c('React').createElement('div',{className:"_2nyn"+(u<=0?' '+"_2d77":'')},u));};s.prototype.$SlideshowPhotoEditDialog19=function(){if(!this.props.showSlideshowImageCroppingEditOption)return null;return (c('React').createElement(c('SlideshowPhotoEditOptionSelector.react'),{editOptionType:this.props.editOptionType,onChangeEditOption:this.props.onChangeEditOption}));};s.prototype.render=function(){return (c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},layerHideOnBlur:false,shown:this.props.dialogShown,width:this.props.showSlideshowImageCroppingEditOption?p:o},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},j._("Edit photo")),c('React').createElement(c('XUIDialogBody.react'),{className:"_5emm",useCustomPadding:true},this.$SlideshowPhotoEditDialog19(),this.$SlideshowPhotoEditDialog18()),c('React').createElement(c('XUIDialogFooter.react'),{className:"_vc3"},c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.props.onCancel}),c('React').createElement(c('XUIDialogSaveButton.react'),{disabled:this.props.textoverlayContent&&this.props.textoverlayContent.length>r,use:'confirm',onClick:this.props.onSave}))));};f.exports=s;}),null);
__d('SlideshowPhotoEditStore',['SlideshowConstants','SlideshowPhotoEditOptionConstants','SlideshowTextoverlayColorPickerConstants','FluxReduceStore','immutable','SlideshowActionTypes','SlideshowDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k;if(c.__markCompiled)c.__markCompiled();var l=c('immutable').Record({colorPickerType:c('SlideshowTextoverlayColorPickerConstants').Basic,isColorPickerDialogShown:false,isPhotoEditDialogShown:false,isTextoverlayFontBold:false,editOptionType:c('SlideshowPhotoEditOptionConstants').Text,photoToEdit:null,textoverlayAlignment:'center-center',textoverlayColor:c('SlideshowConstants').textoverlays_colors[0],textoverlayContent:null,textoverlayFont:Object.keys(c('SlideshowConstants').textoverlays_fonts)[0]});h=babelHelpers.inherits(m,l);i=h&&h.prototype;function m(){h.apply(this,arguments);}j=babelHelpers.inherits(n,c('FluxReduceStore'));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m();};n.prototype.getPhotoToEdit=function(){return this.getState().get('photoToEdit');};n.prototype.reduce=function(o,p){switch(p.type){case c('SlideshowActionTypes').SHOW_PHOTO_EDIT_DIALOG:return o.set('isColorPickerDialogShown',p.isColorPickerDialogShown).set('isPhotoEditDialogShown',p.isPhotoEditDialogShown).set('photoToEdit',p.photoToEdit).set('textoverlayAlignment',p.textoverlayAlignment).set('textoverlayColor',p.textoverlayColor).set('textoverlayContent',p.textoverlayContent).set('textoverlayFont',p.textoverlayFont).set('isTextoverlayFontBold',p.isTextoverlayFontBold);case c('SlideshowActionTypes').CLOSE_PHOTO_EDIT_DIALOG:return o.set('isPhotoEditDialogShown',p.isPhotoEditDialogShown).set('photoToEdit',p.photoToEdit);case c('SlideshowActionTypes').TOGGLE_COLOR_PICKER_DIALOG:return o.set('isColorPickerDialogShown',!o.get('isColorPickerDialogShown'));case c('SlideshowActionTypes').CHANGE_COLOR_PICKER_TYPE:return o.set('colorPickerType',p.colorPickerType);case c('SlideshowActionTypes').CHANGE_EDIT_OPTION_TYPE:return o.set('editOptionType',p.editOptionType);case c('SlideshowActionTypes').SELECT_TEXTOVERLAY_COLOR:return o.set('textoverlayColor',p.textoverlayColor);case c('SlideshowActionTypes').SET_TEXTOVERLAY_CONTENT:var q=p.textoverlayContent?p.textoverlayContent.trimLeft():null;return o.set('textoverlayContent',q);case c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_ALIGNMENT:return o.set('textoverlayAlignment',p.textoverlayAlignment);case c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_FONT:return o.set('textoverlayFont',p.textoverlayFont);case c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_FONT_BOLD:return o.set('isTextoverlayFontBold',p.isTextoverlayFontBold);}return o;};n.prototype.getColorPickerType=function(){return this.getState().get('colorPickerType');};n.prototype.getEditOptionType=function(){return this.getState().get('editOptionType');};n.prototype.getTextoverlayAlignment=function(){return this.getState().get('textoverlayAlignment');};n.prototype.getTextoverlayColor=function(){return this.getState().get('textoverlayColor');};n.prototype.getTextoverlayContent=function(){return this.getState().get('textoverlayContent');};n.prototype.getTextoverlayFont=function(){return this.getState().get('textoverlayFont');};n.prototype.shouldShowColorPickerDialog=function(){return this.getState().get('isColorPickerDialogShown');};n.prototype.shouldShowPhotoEditDialog=function(){return this.getState().get('isPhotoEditDialogShown');};n.prototype.isTextoverlayFontBold=function(){return this.getState().get('isTextoverlayFontBold');};function n(){j.apply(this,arguments);}f.exports=new n(c('SlideshowDispatcher'));}),null);
__d('SlideshowPhotoEditDialogContainer.react',['FluxContainer','FluxStore','React','SlideshowActions','SlideshowDispatcher','SlideshowPhotoEditDialog.react','SlideshowPhotoEditStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$SlideshowPhotoEditDialogContainer1=function(){this.props.onSaveTextoverlay&&this.props.onSaveTextoverlay(this.state.photoToEdit,{textoverlay_content:this.state.textoverlayContent,font_color:this.state.textoverlayColor.font_color,background_color:this.state.textoverlayColor.background_color,text_alignment:this.state.textoverlayAlignment,font:this.state.textoverlayFont,bold:this.state.isTextoverlayFontBold});c('SlideshowActions').closePhotoEditDialog();}.bind(this);this.$SlideshowPhotoEditDialogContainer1=this.$SlideshowPhotoEditDialogContainer1.bind(this);}j.getStores=function(){return [c('SlideshowPhotoEditStore')];};j.calculateState=function(){return {colorPickerType:c('SlideshowPhotoEditStore').getColorPickerType(),editOptionType:c('SlideshowPhotoEditStore').getEditOptionType(),isColorPickerDialogShown:c('SlideshowPhotoEditStore').shouldShowColorPickerDialog(),isPhotoEditDialogShown:c('SlideshowPhotoEditStore').shouldShowPhotoEditDialog(),isTextoverlayFontBold:c('SlideshowPhotoEditStore').isTextoverlayFontBold(),textoverlayAlignment:c('SlideshowPhotoEditStore').getTextoverlayAlignment(),textoverlayColor:c('SlideshowPhotoEditStore').getTextoverlayColor(),textoverlayContent:c('SlideshowPhotoEditStore').getTextoverlayContent(),textoverlayFont:c('SlideshowPhotoEditStore').getTextoverlayFont(),photoToEdit:c('SlideshowPhotoEditStore').getPhotoToEdit()};};j.prototype.componentWillMount=function(){c('SlideshowDispatcher').explicitlyRegisterStores([c('SlideshowPhotoEditStore')]);};j.prototype.render=function(){return (c('React').createElement(c('SlideshowPhotoEditDialog.react'),{colorPickerDialogShown:this.state.isColorPickerDialogShown,colorPickerType:this.state.colorPickerType,dialogShown:this.state.isPhotoEditDialogShown,editOptionType:this.state.editOptionType,format:this.props.format,isTextoverlayFontBold:this.state.isTextoverlayFontBold,photosCrops:this.props.photosCrops,photoToEdit:this.state.photoToEdit,showSlideshowImageCroppingEditOption:this.props.showSlideshowImageCroppingEditOption,textoverlayAlignment:this.state.textoverlayAlignment,textoverlayColor:this.state.textoverlayColor,textoverlayContent:this.state.textoverlayContent,textoverlayFont:this.state.textoverlayFont,onCancel:c('SlideshowActions').closePhotoEditDialog,onChangeEditOption:c('SlideshowActions').changeEditOptionType,onChangeTextoverlayAlignment:c('SlideshowActions').changeTextoverlayAlignment,onChangeTextoverlayFont:c('SlideshowActions').changeTextoverlayFont,onChangeTextoverlayFontBold:c('SlideshowActions').changeTextoverlayFontBold,onClickAdvancedColorPicker:c('SlideshowActions').showAdvancedColorPicker,onClickBasicColorPicker:c('SlideshowActions').showBasicColorPicker,onOpenColorPicker:c('SlideshowActions').toggleColorPickerDialog,onSave:this.$SlideshowPhotoEditDialogContainer1,onSaveColor:c('SlideshowActions').toggleColorPickerDialog,onSelectTextoverlayColor:c('SlideshowActions').selectTextoverlayColor,onSetTextoverlayContent:c('SlideshowActions').setTextoverlayContent}));};f.exports=c('FluxContainer').create(j);}),null);
__d('SlideshowPlayer.react',['cx','fbt','ix','Animation','Event','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','Image.react','Link.react','React','ReactDOM','Style','SlideshowConstants','SlideshowImageUtil','SlideshowPreviewConstants','XUICloseButton.react','XUIOverlayButton.react','ge','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=1000,m=100,n=c('React').createClass({displayName:'SlideshowPlayer',_animation:null,_timeout:0,_audioEndedEvent:c('Event'),_audioref:'slideshow_audio_player',_fadeTimeOut:0,_fadeInterval:0,propTypes:{durationInMS:k.number.isRequired,imagesAllLoaded:k.bool.isRequired,imagesCrops:k.arrayOf(k.object.isRequired).isRequired,isPreviewPlaying:k.bool.isRequired,previewBoxContainerSize:k.number.isRequired,previewBoxSize:k.number.isRequired,transitionInMS:k.number.isRequired,storylineMoodIDSource:k.oneOfType([k.oneOf([null,undefined]),k.string]),onClose:k.func,onPreviewStateChange:k.func.isRequired},getInitialState:function o(){return {currIndex:0,nextIndex:1,playing:false};},componentDidMount:function o(){this._timeout=0;this._audioEndedEvent=null;},componentWillUnmount:function o(){this._clearTimeout();},componentDidUpdate:function o(p){if(this.props.isPreviewPlaying&&!p.isPreviewPlaying){this._startPlaying();}else if(!this.props.isPreviewPlaying&&p.isPreviewPlaying)this._stopPlaying();},_clearTimeout:function o(){if(this._timeout){clearTimeout(this._timeout);this._timeout=0;}if(this._animation){this._animation.stop();this._animation=null;}if(this._fadeTimeOut)clearTimeout(this._fadeTimeOut);if(this._fadeInterval)clearInterval(this._fadeInterval);},_getItemCount:function o(){return c('React').Children.count(this.props.children);},_moveNext:function o(){if(this.state.nextIndex>=this._getItemCount()){this._stopPlaying();}else this._fadeImage();},_setTimeout:function o(){this._timeout=setTimeout(this._moveNext,this.props.durationInMS);},_fadeImage:function o(){var p=this.state,q=p.currIndex,r=p.nextIndex,s=c('ReactDOM').findDOMNode(this.refs[q]);if(!s){this._stopPlaying();return;}this._animation=new (c('Animation'))(c('ReactDOM').findDOMNode(this.refs[q])).from('opacity',1).to('opacity',0).duration(this.props.transitionInMS).ondone(function(){this.setState({currIndex:r,nextIndex:r+1},this._setTimeout);}.bind(this)).go();},_resetImages:function o(){this.setState({currIndex:0,nextIndex:1});for(var p=0;p<this._getItemCount();p++)c('Style').set(c('ReactDOM').findDOMNode(this.refs[p]),'opacity',1);},_fadeAudio:function o(){var p=c('ge')(this._audioref),q=c('SlideshowConstants').audio_fadeout*(l/m),r=1/q;this._fadeInterval=setInterval(function(){var s=p.volume;if(s-r>=0){s-=r;p.volume=s;}else clearInterval(this._fadeInterval);},m);},_startPlaying:function o(){if(this._timeout)return;this.setState({playing:true},this._setTimeout);this._audioEndedEvent=null;var p=this.props.storylineMoodIDSource;if(!p)return;var q=c('ge')(this._audioref);if(!q)return;q.src=p;q.currentTime=0;q.volume=1;q.play();this._audioEndedEvent=c('Event').listen(q,'ended',function(){q.play();});var r=this._getItemCount()*(this.props.durationInMS+this.props.transitionInMS);this._fadeTimeOut=setTimeout(this._fadeAudio,r-l*c('SlideshowConstants').audio_fadeout);},_stopPlaying:function o(){this.props.onPreviewStateChange(false);if(this._timeout){this.setState({playing:false});var p=c('ge')(this._audioref);if(p!=null)p.pause();if(this._audioEndedEvent!==null)this._audioEndedEvent.remove();this._clearTimeout();this._resetImages();}},_getCurrentImages:function o(){return this.props.children.map(function(p,q){return (c('React').createElement('div',{ref:q,key:q,style:{position:'absolute'}},p));}).reverse();},_getPlayerStyle:function o(){return {height:this.props.previewBoxSize,margin:(this.props.previewBoxContainerSize-this.props.previewBoxSize)/2,width:this.props.previewBoxSize};},_getEditOverlayButtonStyle:function o(){var p=c('SlideshowImageUtil').getPreviewBoxDimensions(this.props.imagesCrops,this.props.previewBoxSize);return {marginLeft:(this.props.previewBoxSize-p.width)/2,marginTop:(this.props.previewBoxSize-p.height)/2};},_getCloseOverlayButtonStyle:function o(){var p=c('SlideshowImageUtil').getPreviewBoxDimensions(this.props.imagesCrops,this.props.previewBoxSize);return {marginRight:(this.props.previewBoxSize-p.width)/2,marginTop:(this.props.previewBoxSize-p.height)/2};},_getCloseButton:function o(){if(!this.props.onClose)return null;return (c('React').createElement(c('XUICloseButton.react'),{className:"_4xxs",onClick:this.props.onClose,size:'medium',shade:'light',style:this._getCloseOverlayButtonStyle()}));},_playButtonClick:function o(){this.props.onPreviewStateChange(true);},_getEditButton:function o(){if(!this.props.onEdit)return null;var p=i._("Edit");return (c('React').createElement(c('XUIOverlayButton.react'),{className:"_4xxt",image:c('React').createElement(c('Image.react'),{src:j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/pencil_16_fig-white.png")}),label:p,style:this._getEditOverlayButtonStyle(),onClick:this.props.onEdit}));},render:function o(){var p=this._getItemCount();if(p===0)return (c('React').createElement('div',{className:"_4xxu"},c('React').createElement(c('Image.react'),{className:"_4xxv",src:j('/images/ads/video/play-na.png')}),i._("Add images to see a preview of your slideshow")));var q={marginLeft:(this.props.previewBoxContainerSize-c('SlideshowPreviewConstants').WWW_PLAY_ICON_SIZE)/2,marginTop:(this.props.previewBoxContainerSize-c('SlideshowPreviewConstants').WWW_PLAY_ICON_SIZE)/2};return (c('React').createElement(c('FBOverlayContainer.react'),null,c('React').createElement(c('FBOverlayBase.react'),null,c('React').createElement('div',{className:"_4xxx",style:this._getPlayerStyle()},p===1?c('React').createElement('div',{ref:0,style:{position:'absolute'}},this.props.children):this._getCurrentImages(),this._getCloseButton(),this._getEditButton(),c('React').createElement('audio',{id:this._audioref,className:'hidden_elem'},c('React').createElement('source',{type:'audio/mpeg'})))),c('React').createElement(c('FBOverlayElement.react'),null,c('React').createElement('div',{className:this.state.playing||!this.props.imagesAllLoaded?"_4xxy":'',style:q},c('React').createElement(c('Link.react'),{onClick:this._playButtonClick},c('React').createElement(c('Image.react'),{src:j('/images/calltoaction/videoendscreen/play_64dp.png')}))))));}});f.exports=n;}),null);
__d('SlideshowPreview.react',['cx','invariant','LoadingImageBox.react','React','SlideshowFrameImage.react','SlideshowImageUtil','SlideshowPlayer.react','SlideshowPreviewConstants'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$SlideshowPreview1=function(){var r=c('SlideshowImageUtil').getPreviewBoxDimensions(this.props.imagesCrops,this.props.previewBoxSize),s={marginLeft:(this.props.previewBoxSize-r.width)/2,marginTop:(this.props.previewBoxSize-r.height)/2};return (this.props.selectedImages.map(function(t,u){!(t.width!=null&&t.height!=null)?i(0):void 0;return (c('React').createElement('div',{style:s,key:t.key},c('React').createElement(c('SlideshowFrameImage.react'),{className:"_590x",croppingSpec:c('SlideshowImageUtil').getFullSizeImageBoxCroppingSpec({width:t.width?t.width:0,height:t.height?t.height:0},{width:r.width,height:r.height}),imageSrc:t.url,imageWidth:t.width,imageHeight:t.height,maxWidth:r.width,maxHeight:r.height,positionStyle:'relative',textoverlay:this.props.imagesTextoverlays&&this.props.imagesTextoverlays[u].textoverlay_content?this.props.imagesTextoverlays[u]:null})));}.bind(this)).slice(0,this.props.maxSelectedImages));}.bind(this),n;}l.prototype.render=function(){return (c('React').createElement('div',this.props,c('React').createElement(c('SlideshowPlayer.react'),{durationInMS:this.props.durationWithTransitionInMS-this.props.transitionInMS,imagesAllLoaded:this.props.imagesAllLoaded,imagesCrops:this.props.imagesCrops,isPreviewPlaying:this.props.isPreviewPlaying,previewBoxContainerSize:this.props.previewBoxContainerSize,previewBoxSize:this.props.previewBoxSize,storylineMoodIDSource:this.props.storylineMoodIDSource,transitionInMS:this.props.transitionInMS,onClose:this.props.onClose,onEdit:this.props.onEdit,onPreviewStateChange:this.props.onPreviewStateChange},this.props.imagesAllLoaded?this.$SlideshowPreview1():c('React').createElement(c('LoadingImageBox.react'),{className:"_590x",height:this.props.previewBoxSize,width:this.props.previewBoxSize}))));};f.exports=l;}),null);
__d('SlideshowSettingsPanel.react',['cx','fbt','SlideshowConstants','SlideshowFbtUtils','AdsHelpLink.react','React','XUIButton.react','XUIRadioButtonGroup.react','XUISingleSelector.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('XUISingleSelector.react').Option,m=c('SlideshowConstants').image_duration_in_sec_options,n=1000;j=babelHelpers.inherits(o,c('React').PureComponent);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$SlideshowSettingsPanel8=function(event){this.props.onPreviewStateChange(false);var u=event.value,v=this.props.storylineMoodFiles.find(function(w){return w.moodID===u;});this.props.onChangeStorylineMood(v?v:null);}.bind(this),q;}o.prototype.$SlideshowSettingsPanel1=function(){return c('React').createElement('div',{className:"_315i"},c('React').createElement('span',{className:"_315k"},i._("ASPECT RATIO")),c('React').createElement(c('AdsHelpLink.react'),{width:360},i._("Choose the aspect ratio for your video. Let the first image of your slideshow determine the ratio, or set it to square (1:1), rectangle (16:9) or vertical (2:3)")),c('React').createElement('div',{className:"_2i2r"},c('React').createElement(c('XUISingleSelector.react'),{defaultValue:this.props.format,name:'format',size:'xlarge',onChange:this.props.onChangeFormat},this.$SlideshowSettingsPanel2())));};o.prototype.$SlideshowSettingsPanel2=function(){var p=c('SlideshowConstants').formats;return Object.keys(p).map(function(q){return c('React').createElement(l,{key:q,value:p[q]},c('SlideshowFbtUtils').getFormatFbtString(q));});};o.prototype.$SlideshowSettingsPanel3=function(){return c('React').createElement('div',{className:"_315i"},c('React').createElement('span',{className:"_315k"},i._("IMAGE DURATION")),c('React').createElement(c('AdsHelpLink.react'),null,i._("Set the total number of seconds that you show each image for in your slideshow.")),c('React').createElement('div',{className:"_2i2r"},c('React').createElement(c('XUISingleSelector.react'),{defaultValue:this.props.durationWithTransitionInMS,name:'duration',size:'xlarge',onChange:this.props.onChangeDuration},this.$SlideshowSettingsPanel4())));};o.prototype.$SlideshowSettingsPanel4=function(){return m.map(function(p){return c('React').createElement(l,{key:p,value:p*n},c('SlideshowFbtUtils').getDurationFbtString(p));});};o.prototype.$SlideshowSettingsPanel5=function(){var p=c('SlideshowConstants').transitions;return c('React').createElement('div',{className:"_315i"},c('React').createElement('span',{className:"_315k"},i._("TRANSITION")),c('React').createElement(c('AdsHelpLink.react'),null,i._("Choose how your slideshow switches from one image to the next.")),c('React').createElement('div',{className:"_2i2r"},c('React').createElement(c('XUIRadioButtonGroup.react'),{selectedDepressed:true,selectedValue:this.props.transitionInMS,onValueChange:this.props.onChangeTransition},Object.keys(p).map(function(q){return c('React').createElement(c('XUIButton.react'),{key:q,label:c('SlideshowFbtUtils').getTransitionFbtString(q),size:'xlarge',value:p[q]});}))));};o.prototype.$SlideshowSettingsPanel6=function(){if(!this.props.showStorylineMood)return null;return c('React').createElement('div',{className:"_315i"},c('React').createElement('span',{className:"_315k"},i._("MUSIC")),c('React').createElement(c('AdsHelpLink.react'),null,i._("Add sound, such as narration or music, to your slideshow.")),c('React').createElement('div',{className:"_2i2r"},this.$SlideshowSettingsPanel7()));};o.prototype.$SlideshowSettingsPanel7=function(){var p=[];this.props.storylineMoodFiles.forEach(function(r){p.push(c('React').createElement(l,{key:r.moodID,value:r.moodID},r.fileName));});var q=[c('React').createElement(l,{key:c('SlideshowConstants').storyline_mood_id_none,value:null},i._("None"))];return c('React').createElement(c('XUISingleSelector.react'),{defaultValue:null,name:'storyline_mood_file',size:'xlarge',onChange:this.$SlideshowSettingsPanel8},q.concat(p));};o.prototype.render=function(){return (c('React').createElement('div',babelHelpers['extends']({className:"_2bot"+(this.props.showTabs?' '+"_2bou":'')},this.props),this.$SlideshowSettingsPanel1(),this.$SlideshowSettingsPanel3(),this.$SlideshowSettingsPanel5(),this.$SlideshowSettingsPanel6()));};f.exports=o;}),null);
__d('SlideshowTabBar.react',['cx','LayerFadeOnHide','React','ReactFragment','SimpleNUXMessage','SimpleNUXMessageTypes','SlideshowFbtUtils','SlideshowFlowTypes','XUIAmbientNUX.react','XUICardSection.react','XUIPageNavigation.react'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('SlideshowFlowTypes').SlideshowTabKey,l=c('XUIPageNavigation.react').Group,m=c('XUIPageNavigation.react').Item;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(o){'use strict';j.constructor.call(this,o);this.$SlideshowTabBar1=function(p){var q;if(p!==k.FRAMES_TAB){this.setState({showFramesTabNux:false});}else if(p!==k.MUSIC_TAB)this.setState({showMusicTabNux:false});for(var r=arguments.length,s=Array(r>1?r-1:0),t=1;t<r;t++)s[t-1]=arguments[t];(q=this.props).onSelect.apply(q,[p].concat(s));}.bind(this);this.$SlideshowTabBar3=function(p,q){return (c('React').createElement(m,{key:p,ref:q},c('SlideshowFbtUtils').getTabNameFbtString(p)));};this.state={showFramesTabNux:!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').SLIDESHOW_FRAMES_TAB_NUX),showMusicTabNux:!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').SLIDESHOW_MUSIC_TAB_NUX)};}n.prototype.renderLayers=function(){'use strict';var o=this.props.tabKeys.indexOf(k.FRAMES_TAB)!==-1,p=this.props.tabKeys.indexOf(k.MUSIC_TAB)!==-1,q=null,r=null;if(o){c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').SLIDESHOW_FRAMES_TAB_NUX);q=c('React').createElement(c('XUIAmbientNUX.react'),{alignment:'left',behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},contextRef:function(){return this.refs.framesTab;}.bind(this),offsetX:14,position:'below',shown:this.state.showFramesTabNux,width:'normal',onCloseButtonClick:function(){this.setState({showFramesTabNux:false});}.bind(this)},c('SlideshowFbtUtils').getFramesTabNuxFbtString());}if(p){c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').SLIDESHOW_MUSIC_TAB_NUX);r=c('React').createElement(c('XUIAmbientNUX.react'),{alignment:'left',behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},contextRef:function(){return this.refs.musicTab;}.bind(this),offsetX:14,position:'below',shown:this.state.showMusicTabNux,width:'normal',onCloseButtonClick:function(){this.setState({showMusicTabNux:false});}.bind(this)},c('SlideshowFbtUtils').getMusicTabNuxFbtString());}return c('ReactFragment').create({framesTabNUX:q,musicTabNUX:r});};n.prototype.render=function(){'use strict';return c('React').createElement(c('XUICardSection.react'),{className:"_5vx1"},c('React').createElement(c('XUIPageNavigation.react'),{activeTabKey:this.props.selected,defaultActiveTabKey:this.props.tabKeys[0],onTabClick:this.$SlideshowTabBar1},this.$SlideshowTabBar2()),this.renderLayers());};n.prototype.$SlideshowTabBar2=function(){'use strict';return (c('React').createElement(l,null,this.props.tabKeys.map(function(o){switch(o){case k.FRAMES_TAB:return this.$SlideshowTabBar3(k.FRAMES_TAB,'framesTab');case k.MUSIC_TAB:return this.$SlideshowTabBar3(k.MUSIC_TAB,'musicTab');default:return this.$SlideshowTabBar3(o);}}.bind(this))));};f.exports=n;}),null);
__d('SlideshowTopLeftPanelFrame.react',['cx','React','SlideshowTabBar.react','SlideshowFlowTypes','emptyFunction'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('SlideshowFlowTypes').SlideshowTabKey;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$SlideshowTopLeftPanelFrame1=function(){var r=[k.SETTINGS_TAB];if(this.props.showMusicTab)r.push(k.MUSIC_TAB);if(this.props.showFramesTab)r.push(k.FRAMES_TAB);return r;}.bind(this),n;}l.prototype.render=function(){var m=this.$SlideshowTopLeftPanelFrame1();return (c('React').createElement('div',{className:"_3mt1"},c('React').createElement(c('SlideshowTabBar.react'),{selected:this.props.selectedTab,tabKeys:m,onSelect:this.props.onTabSelect}),c('React').createElement('div',{className:"_3mt2"},c('React').createElement('div',{className:"_3mtc"+(this.props.selectedTab===m[0]?' '+"_3mtd":'')+(this.props.selectedTab===m[1]?' '+"_3mte":'')+(this.props.selectedTab===m[2]?' '+"_1ovn":'')},c('React').Children.map(this.props.children,function(n){return (c('React').createElement('div',{className:"_3mtf"},n));})))));};l.defaultProps={selectedTab:k.SETTINGS_TAB,onTabSelect:c('emptyFunction')};f.exports=l;}),null);
__d('SlideshowDialog.react',['cx','fbt','LayerFadeOnHide','LeftRight.react','Link.react','QE','React','SlideshowConstants','SlideshowFramesPanel.react','SlideshowImageUploadsContainer.react','SlideshowMusicPanel.react','SlideshowPhotoEditDialogContainer.react','SlideshowPreview.react','SlideshowPreviewConstants','SlideshowSettingsPanel.react','SlideshowTopLeftPanelFrame.react','XUIDialog.react','XUIDialogButton.react','XUIDialogBody.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=900;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.$SlideshowDialog1=function(){if(this.props.selectedImages.length>=c('SlideshowConstants').min_photo_num)return null;return i._({"*":"You'll need to add at least {Minimum number of images} images to create a slideshow"},[i.param('Minimum number of images',c('SlideshowConstants').min_photo_num,[0])]);};m.prototype.$SlideshowDialog2=function(n){return (c('React').createElement(c('SlideshowSettingsPanel.react'),{durationWithTransitionInMS:this.props.durationWithTransitionInMS,format:this.props.format,selectedStorylineMood:this.props.selectedStorylineMood,showStorylineMood:!this.props.showAudioRedesign,showTabs:n,storylineMoodFiles:this.props.storylineMoodFiles,transitionInMS:this.props.transitionInMS,onChangeDuration:this.props.onChangeDuration,onChangeFormat:this.props.onChangeFormat,onChangeStorylineMood:this.props.onChangeStorylineMood,onChangeTransition:this.props.onChangeTransition,onPreviewStateChange:this.props.onPreviewStateChange}));};m.prototype.$SlideshowDialog3=function(){return (c('React').createElement(c('SlideshowMusicPanel.react'),{audioFileUploadInfo:this.props.audioFileUploadInfo,isPreviewPlaying:this.props.isPreviewPlaying,recentlyUsedStorylineMoods:this.props.recentlyUsedStorylineMoods,selectedMusicCategory:this.props.selectedMusicCategory,selectedStorylineMood:this.props.selectedStorylineMood,storylineMoodFiles:this.props.storylineMoodFiles,targetID:this.props.targetID,onAudioFileUpload:this.props.onAudioFileUpload,onAudioFileUploadError:this.props.onAudioFileUploadError,onAudioFileUploadSuccess:this.props.onAudioFileUploadSuccess,onChangeStorylineMood:this.props.onChangeStorylineMood,onDeleteStorylineMood:this.props.onDeleteStorylineMood,onMusicCategorySelect:this.props.onMusicCategorySelect,onPreviewStateChange:this.props.onPreviewStateChange}));};m.prototype.$SlideshowDialog4=function(){return (c('React').createElement(c('SlideshowFramesPanel.react'),{frameImages:this.props.frameImages,onFrameImageSelected:this.props.onFrameImageSelected}));};m.prototype.$SlideshowDialog5=function(){var n=this.props.frameImages&&this.props.frameImages.length>0;if(n){return (c('React').createElement(c('SlideshowTopLeftPanelFrame.react'),{selectedTab:this.props.selectedTab,showFramesTab:true,showMusicTab:false,onTabSelect:this.props.onTabSelect},this.$SlideshowDialog2(true),this.$SlideshowDialog4()));}else return (c('React').createElement('div',{className:"_315q"},this.$SlideshowDialog2(false)));};m.prototype.$SlideshowDialog6=function(){var n=this.props.showAudioRedesign,o=this.props.frameImages&&this.props.frameImages.length>0;c('QE').logExposure('slideshow_audio_redesign');if(n){if(o){return (c('React').createElement(c('SlideshowTopLeftPanelFrame.react'),{selectedTab:this.props.selectedTab,showFramesTab:true,showMusicTab:true,onTabSelect:this.props.onTabSelect},this.$SlideshowDialog2(true),this.$SlideshowDialog3(),this.$SlideshowDialog4()));}else return (c('React').createElement(c('SlideshowTopLeftPanelFrame.react'),{selectedTab:this.props.selectedTab,showFramesTab:false,showMusicTab:true,onTabSelect:this.props.onTabSelect},this.$SlideshowDialog2(true),this.$SlideshowDialog3()));}else return this.$SlideshowDialog5();};m.prototype.render=function(){return (c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},layerHideOnBlur:false,shown:this.props.dialogShown,width:l},c('React').createElement(c('XUIDialogBody.react'),{className:"_5z0a",useCustomPadding:true},this.$SlideshowDialog6(),c('React').createElement('div',{className:"_2ldm"},c('React').createElement(c('SlideshowPreview.react'),{durationWithTransitionInMS:this.props.durationWithTransitionInMS,hidden:!this.props.showPreview,imagesAllLoaded:this.props.imagesAllLoaded,imagesCrops:this.props.imagesCrops,imagesTextoverlays:this.props.imagesTextoverlays,isPreviewPlaying:this.props.isPreviewPlaying,maxSelectedImages:this.props.maxSelectedImages,previewBoxContainerSize:c('SlideshowPreviewConstants').WWW_PREVIEW_CONTAINER_SIZE,previewBoxSize:c('SlideshowPreviewConstants').WWW_PLAYER_SIZE,selectedImages:this.props.selectedImages,storylineMoodIDSource:this.props.selectedStorylineMood?this.props.selectedStorylineMood.source:null,transitionInMS:this.props.transitionInMS,onPreviewStateChange:this.props.onPreviewStateChange}),this.props.children[2],this.props.children[1]),c('React').createElement(c('SlideshowImageUploadsContainer.react'),{durationWithTransitionInMS:this.props.durationWithTransitionInMS,imagesTextoverlays:this.props.imagesTextoverlays,maxSelectedImages:this.props.maxSelectedImages,selectedImages:this.props.selectedImages,showSlideshowPhotoEditButton:this.props.showSlideshowPhotoEditButton,onImageRemove:this.props.onImageRemove,onImageReorder:this.props.onImageReorder},this.props.children[0])),c('React').createElement(c('LeftRight.react'),{className:"_5z0b"},c('React').createElement('div',null,c('React').createElement(c('Link.react'),{href:'/business/learn/facebook-create-ad-slideshow-ads',target:'_blank'},i._("Guidelines")),c('React').createElement('span',{className:"_5z0c"},c('React').createElement(c('Link.react'),{href:'/help/503502689826117',target:'_blank'},i._("Help Centre"))),c('React').createElement(c('Link.react'),{href:'/business/help/search/?query=slideshow',target:'_blank'},i._("FAQ"))),c('React').createElement('div',null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("Cancel"),onClick:this.props.onCloseDialog}),c('React').createElement(c('XUIDialogButton.react'),{'data-hover':'tooltip','data-tooltip-content':this.$SlideshowDialog1(),'data-tooltip-position':'above',disabled:this.props.selectedImages.length<c('SlideshowConstants').min_photo_num,label:i._("Create Slideshow"),use:'confirm',onClick:this.props.onCreateSlideshow}))),c('React').createElement(c('SlideshowPhotoEditDialogContainer.react'),{format:this.props.format,photosCrops:this.props.imagesCrops,showSlideshowImageCroppingEditOption:this.props.showSlideshowImageCroppingEditOption,onSaveTextoverlay:this.props.onSaveTextoverlay})));};function m(){j.apply(this,arguments);}m.defaultProps={adgroupIDs:[]};f.exports=m;}),null);
__d('ReactComposerSlideshowDialogContainer.react',['ReactComposerMediaUploadStore','ReactComposerMediaUploadActions','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerSelectedImagesStore','ReactComposerSlideshowActions','ReactComposerSlideshowAudioStore','ReactComposerSlideshowLoggingStore','ReactComposerSlideshowStore','React','SlideshowDataManager','ReactComposerSlideshowImageUploadsContainer.react','SlideshowDialog.react','SlideshowMediaUploadContainer.react','immutable'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerSlideshowDialogContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerSelectedImagesStore'),c('ReactComposerSlideshowAudioStore'),c('ReactComposerSlideshowLoggingStore'),c('ReactComposerSlideshowStore'))],propTypes:{dialogShown:h.bool,maxSelectedImages:h.number,mediaAcceptParam:h.string.isRequired,pageID:h.string.isRequired,showAudioRedesign:h.bool,showSlideshowPhotoEditButton:h.bool,onCloseDialog:h.func,onFilesSelected:h.func.isRequired},statics:{calculateState:function j(k,l){var m=!c('ReactComposerMediaUploadStore').isUploading(k);return {audioFileUploadInfo:c('ReactComposerSlideshowAudioStore').getAudioFileUploadInfo(k),durationWithTransitionInMS:c('ReactComposerSlideshowStore').getDurationInMS(k),format:c('ReactComposerSelectedImagesStore').getFormat(k),imagesAllLoaded:m,imagesCrops:c('ReactComposerSelectedImagesStore').getImagesCrops(k),isPreviewPlaying:c('ReactComposerSlideshowAudioStore').getIsPreviewPlaying(k),recentlyUsedStorylineMoods:c('ReactComposerSlideshowAudioStore').getRecentlyUsedStorylineMoods(k),selectedImages:c('ReactComposerSelectedImagesStore').getSelectedImages(k),selectedMusicCategory:c('ReactComposerSlideshowAudioStore').getSelectedMusicCategory(k),selectedStorylineMood:c('ReactComposerSlideshowAudioStore').getSelectedStorylineMood(k),selectedTab:c('ReactComposerSlideshowStore').getSelectedTab(k),storylineMoodFiles:c('ReactComposerSlideshowAudioStore').getStorylineMoodFiles(k),transitionInMS:c('ReactComposerSlideshowStore').getTransitionInMS(k)};}},componentDidMount:function j(){var k=this.context.composerID;c('SlideshowDataManager').fetchStorylineMoodFiles(function(l){c('ReactComposerSlideshowActions').setStorylineMoodFiles(k,l);},this.props.pageID);},_onChangeDuration:function j(event){c('ReactComposerSlideshowActions').changeDuration(this.context.composerID,event.value);},_onChangeFormat:function j(event){c('ReactComposerSlideshowActions').changeFormat(this.context.composerID,event.value);},_onChangeTransition:function j(k){c('ReactComposerSlideshowActions').changeTransition(this.context.composerID,k);},_onChangeStorylineMood:function j(k){c('ReactComposerSlideshowActions').changeStorylineMoodFile(this.context.composerID,k);},_onDeleteStorylineMood:function j(k){c('ReactComposerSlideshowActions').deleteStorylineMoodFile(this.context.composerID,k);},_onCreateSlideshow:function j(){var k=this.context.composerID;if(c('ReactComposerSlideshowStore').isEditing(k)){var l=c('ReactComposerSelectedImagesStore').getRemovedUploadIDs(k);l.forEach(function(m){if(c('ReactComposerMediaUploadStore').getMediaUploadExists(k,m)){var n=c('ReactComposerMediaUploadStore').getMediaUpload(k,m);c('ReactComposerMediaUploadActions').removePhotoAndPhotoUpload(k,n);}});}c('ReactComposerSlideshowActions').createSlideshow(this.context.composerID);},_onImageRemove:function j(k){var l=this.context.composerID;c('ReactComposerSlideshowActions').removeImage(l,k);if(!c('ReactComposerSlideshowStore').isEditing(l)&&c('ReactComposerMediaUploadStore').getMediaUploadExists(l,k.key)){var m=c('ReactComposerMediaUploadStore').getMediaUpload(l,k.key);c('ReactComposerMediaUploadActions').removePhotoAndPhotoUpload(l,m);}},_onImageReorder:function j(k,l){c('ReactComposerSlideshowActions').reorderImages(this.context.composerID,k,l);},_onTabSelect:function j(k){c('ReactComposerSlideshowActions').selectTab(this.context.composerID,k);},_getImageUploadContainer:function j(k){return (c('React').createElement(c('ReactComposerSlideshowImageUploadsContainer.react'),{composerID:this.context.composerID,imageUploadButtonType:k,mediaAcceptParam:this.props.mediaAcceptParam,pageID:this.props.pageID,pageImages:this.state.pageImages,onFilesSelected:this.props.onFilesSelected}));},_onMusicCategorySelect:function j(k){c('ReactComposerSlideshowActions').musicCategorySelect(this.context.composerID,k);},_onPreviewStateChange:function j(k){c('ReactComposerSlideshowActions').previewStateChange(this.context.composerID,k);},_onAudioFileUploadStarted:function j(){c('ReactComposerSlideshowActions').audioFileUploadStarted(this.context.composerID);},_onAudioFileUploadError:function j(){c('ReactComposerSlideshowActions').audioFileUploadError(this.context.composerID);},_onAudioFileUploadSuccess:function j(k){c('ReactComposerSlideshowActions').audioFileUploadSuccess(this.context.composerID,k);},render:function j(){return (c('React').createElement(c('SlideshowDialog.react'),{audioFileUploadInfo:this.state.audioFileUploadInfo,dialogShown:this.props.dialogShown,durationWithTransitionInMS:this.state.durationWithTransitionInMS,format:this.state.format,imagesAllLoaded:this.state.imagesAllLoaded,imagesCrops:this.state.imagesCrops,isPreviewPlaying:this.state.isPreviewPlaying,maxSelectedImages:this.props.maxSelectedImages,recentlyUsedStorylineMoods:this.state.recentlyUsedStorylineMoods,selectedImages:this.state.selectedImages,selectedMusicCategory:this.state.selectedMusicCategory,selectedStorylineMood:this.state.selectedStorylineMood,selectedTab:this.state.selectedTab,showAudioRedesign:this.props.showAudioRedesign,showPreview:true,showSlideshowPhotoEditButton:false,storylineMoodFiles:this.state.storylineMoodFiles,targetID:this.props.pageID,transitionInMS:this.state.transitionInMS,onAudioFileUpload:this._onAudioFileUploadStarted,onAudioFileUploadError:this._onAudioFileUploadError,onAudioFileUploadSuccess:this._onAudioFileUploadSuccess,onChangeDuration:this._onChangeDuration,onChangeFormat:this._onChangeFormat,onChangeTransition:this._onChangeTransition,onChangeStorylineMood:this._onChangeStorylineMood,onCloseDialog:this.props.onCloseDialog,onCreateSlideshow:this._onCreateSlideshow,onDeleteStorylineMood:this._onDeleteStorylineMood,onImageRemove:this._onImageRemove,onImageReorder:this._onImageReorder,onMusicCategorySelect:this._onMusicCategorySelect,onPreviewStateChange:this._onPreviewStateChange,onTabSelect:this._onTabSelect},this._getImageUploadContainer('more_link'),c('React').createElement(c('SlideshowMediaUploadContainer.react'),{hidden:true},this._getImageUploadContainer('add_button'))));}});f.exports=i;}),null);
__d('ReactComposerSlideshowPostButton.react',['ReactComposerSlideshowDialogContainer.react','React','ReactFragment'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.renderLayers=function(){var p=null;if(this.props.dialogShown)p=c('React').createElement(c('ReactComposerSlideshowDialogContainer.react'),babelHelpers['extends']({},this.props,{onCloseDialog:this.props.onCancel}));return c('ReactFragment').create({dialog:p});}.bind(this),l;}j.prototype.render=function(){return c('React').createElement('div',{className:this.props.className,onClick:this.props.onShowDialog},this.props.children,this.renderLayers());};f.exports=j;}),null);
__d('ReactComposerSlideshowPostButtonContainer.react',['ReactComposerMediaUploadActions','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerPropsAndStoreBasedStateMixin','React','ReactComposerSlideshowActions','ReactComposerSlideshowPostButton.react','ReactComposerSlideshowStore','SlideshowEntrypoint'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerSlideshowPostButtonContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerSlideshowStore'))],propTypes:{className:h.string,maxSelectedImages:h.number.isRequired,mediaAcceptParam:h.string.isRequired,pageID:h.string.isRequired,showAudioRedesign:h.bool.isRequired,onFilesSelected:h.func.isRequired},statics:{calculateState:function j(k,l){var m=c('ReactComposerSlideshowStore').shouldShowSlideshowDialog(k);return {dialogShown:m};}},render:function j(){return (c('React').createElement(c('ReactComposerSlideshowPostButton.react'),{className:this.props.className,dialogShown:this.state.dialogShown,maxSelectedImages:this.props.maxSelectedImages,mediaAcceptParam:this.props.mediaAcceptParam,pageID:this.props.pageID,showAudioRedesign:this.props.showAudioRedesign,onCancel:this._onCancel,onFilesSelected:this.props.onFilesSelected,onShowDialog:this._onShowDialog},this.props.children));},_onShowDialog:function j(){c('ReactComposerSlideshowActions').showSlideshowDialog(this.context.composerID,c('SlideshowEntrypoint').COMPOSER_PHOTO_VIDEO_TAB);},_onCancel:function j(){c('ReactComposerMediaUploadActions').removeAllPhotoUploads(this.context.composerID,c('ReactComposerMediaUploadStore').getUploadsOfType(this.context.composerID,c('ReactComposerMediaUploadType').PHOTO));c('ReactComposerSlideshowActions').closeSlideshowDialog(this.context.composerID);}});f.exports=i;}),null);
__d("XCarouselPageComposerPhotoUploadFirstController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composer\/photouploadfirst\/",{composer_id:{type:"String"},target_id:{type:"Int"}});}),null);
__d('ReactComposerMediaAttachmentButtonsWithOptions.react',['cx','fbt','ix','ActorURI','ReactComposerAttachmentStore','ReactComposerCanvasActions','ReactComposerContextMixin','ReactComposerLoggingActions','ReactComposerLoggingName','ReactComposerMediaUtils','ReactComposerPhotoCarouselActions','ComposerTargetData','PagesComposerPostActionsLoggerEvent','PagesComposerActionsLogger','ReactComposerSlideshowPostButtonContainer.react','XCarouselPageComposerPhotoUploadFirstController','AsyncRequest','DOMContainer.react','FileInput.react','Grid.react','Image.react','Link.react','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('Grid.react').GridItem,l=c('React').PropTypes,m=c('React').createClass({displayName:'ReactComposerMediaAttachmentButtonsWithOptions',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{carouselConfig:l.object,createAlbumLink:l.any,mediaAcceptParam:l.shape({photos:l.string,both:l.string}).isRequired,onFilesSelected:l.func.isRequired,showCanvasEntryPoint:l.bool,showCarouselEntryPoint:l.bool,showPhotoAlbumEntryPoint:l.bool,showSlideshowEntryPoint:l.bool,showUploadPhotosButton:l.bool,slideshowConfig:l.object,targetData:l.instanceOf(c('ComposerTargetData')).isRequired},getDefaultProps:function o(){return {mediaAcceptParam:{}};},componentDidMount:function o(){if(c('ReactComposerAttachmentStore').getSelectedAttachmentID(this.context.composerID))c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').SHOW_PHOTO_CAROUSEL_CREATE_TAB,target_id:parseInt(this.context.targetID,10)});},render:function o(){var p=[];p.push(this._getUploadPhotosButton());var q=null,r=null;if(this.props.showPhotoAlbumEntryPoint&&this.props.createAlbumLink){var s=c('React').createElement(c('DOMContainer.react'),{className:"_3m1x",display:'block'},this.props.createAlbumLink);q=c('React').createElement(k,{className:"_3m1y",key:'createAlbum'},c('React').createElement(c('Link.react'),{className:"_3m1z _5xvh",onClick:this._onClickPhotoAlbumOption},s));}if(this.props.showCarouselEntryPoint)r=this._getCarouselPostButton();p.push(q);p.push(r);if(this.props.showSlideshowEntryPoint)p.push(this._getSlideshowPostButton());if(this.props.showCanvasEntryPoint)p.push(this._getCanvasPostButton());return (c('React').createElement('div',{className:"_3m1_"},c('React').createElement(c('Grid.react'),{className:"_3m20",cols:1},p.filter(function(t){return t!=null;}))));},_getUploadPhotosButton:function o(){if(!this.props.showUploadPhotosButton)return null;var p=this.props.targetData.targetSupportsMultiplePhotos,q=this.props.mediaAcceptParam.both,r=p?i._("Upload Photos\/Video"):i._("Upload Photo\/Video"),s=i._("Add photos or video to your status.");return (c('React').createElement(k,{className:"_3m1y",key:'uploadPhoto'},c('React').createElement(c('FileInput.react'),{accept:q,multiple:p,name:'composer_photo',onChange:this._onFilesSelected,onClick:this._onUploadPhotosClick,ref:'fileInput','data-testid':'media-attachment-add-photo'},c('React').createElement(c('Link.react'),{className:"_3m1z"},this._renderPhotoPostOption(n.PHOTOVIDEO,r,s)))));},_onUploadPhotosClick:function o(){c('ReactComposerLoggingActions').mediaUploadInputClicked(this.context.composerID,c('ReactComposerLoggingName').MEDIA_ATTACHMENT_UPLOAD_BUTTON);c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').CLICK_UPLOAD_PHOTO_OPTION,target_id:parseInt(this.context.targetID,10)});},_onClickPhotoAlbumOption:function o(){c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').CLICK_PHOTO_ALBUM_OPTION,target_id:parseInt(this.context.targetID,10)});},_onFilesSelected:function o(event){this.props.onFilesSelected(event,this.refs.fileInput.getFileInput());c('ReactComposerMediaUtils').clearInput(this.refs.fileInput.getFileInput());},_getCarouselPostButton:function o(){if(!this.props.showUploadPhotosButton)return null;var p=i._("Create a Photo Carousel");if(this.props.carouselConfig&&this.props.carouselConfig.supportVideoCarousel)p=i._("Create a Photo\/Video Carousel");var q=i._("Build a scrolling photo carousel with a link.");return (c('React').createElement(k,{className:"_3m1y",key:'carousel'},c('React').createElement(c('Link.react'),{onClick:this._onCarouselClick,className:"_3m1z _5xvh"},this._renderPhotoPostOption(n.CAROUSEL,p,q))));},_onCarouselClick:function o(){c('ReactComposerPhotoCarouselActions').selectPhotoCarouselEntryPoint(this.context.composerID);if(!this.props.carouselConfig||!this.props.carouselConfig.ComposerPhotoCarouselUploadFirst){c('ReactComposerPhotoCarouselActions').showPhotoCarouselUrlEditArea(this.context.composerID);}else{var p=c('XCarouselPageComposerPhotoUploadFirstController').getURIBuilder().setString('composer_id',this.context.composerID).setInt('target_id',parseInt(this.context.targetID,10)).getURI();p=c('ActorURI').create(p,this.context.targetID);var q=new (c('AsyncRequest'))().setURI(p);q.send();c('ReactComposerPhotoCarouselActions').setPreviewIncompleted(this.context.composerID);}var r={event:c('PagesComposerPostActionsLoggerEvent').CLICK_PHOTO_CAROUSEL_CREATE_TAB,target_id:parseInt(this.context.targetID,10)};c('PagesComposerActionsLogger').log(r);},_getSlideshowPostButton:function o(){var p=this.props.slideshowConfig;if(!p)return null;var q=i._("Create Slideshow"),r=i._({"*":{"*":"Add {Minimum number of images} to {Maximum number of images} photos to create a video."}},[i.param('Minimum number of images',p?p.minPhotoNum:3,[0]),i.param('Maximum number of images',p?p.maxPhotoNum:7,[0])]),s=c('React').createElement(c('Link.react'),{className:"_3m1z _5xvh"},this._renderPhotoPostOption(n.SLIDESHOW,q,r));return (c('React').createElement(k,{className:"_3m1y",key:'slideshow'},c('React').createElement(c('ReactComposerSlideshowPostButtonContainer.react'),{className:"_3-8-",maxSelectedImages:p.maxPhotoNum,mediaAcceptParam:this.props.mediaAcceptParam.photos,pageID:p.pageID,showAudioRedesign:p.showAudioRedesign,onFilesSelected:this._onSlideshowFilesUpload},s)));},_onSlideshowFilesUpload:function o(event,p){this.props.onFilesSelected(event,p);c('ReactComposerMediaUtils').clearInput(p);},_getCanvasPostButton:function o(){var p=i._("Create a Canvas"),q=i._("You can now tell a more immersive story by combining images and videos.");return (c('React').createElement(k,{className:"_3m1y",key:'canvas'},c('React').createElement(c('Link.react'),{onClick:this._onCanvasClick,className:"_3m1z _5xvh"},this._renderPhotoPostOption(n.CANVAS,p,q))));},_onCanvasClick:function o(){c('ReactComposerCanvasActions').showCanvasSelector(this.context.composerID);var p={event:c('PagesComposerPostActionsLoggerEvent').CLICK_CANVAS_CREATE_TAB,target_id:parseInt(this.context.targetID,10)};c('PagesComposerActionsLogger').log(p);},_renderPhotoPostOption:function o(p,q,r){var s=null;if(p===n.CAROUSEL&&this.props.carouselConfig&&this.props.carouselConfig.showCarouselOptionSuperscript){var t=i._("NEW");s=c('React').createElement('sup',{className:"_9td"},t);}return (c('React').createElement(c('Grid.react'),{className:"_3m1-",cols:2},c('React').createElement(k,{className:"_5xvi"},c('React').createElement(c('Image.react'),{className:"_5xvj",src:this._getIconSource(p)})),c('React').createElement(k,{className:"_5xvk"},c('React').createElement('div',{className:"_5xvl"},q,s),c('React').createElement('div',{className:"_5xvm"},r))));},_getIconSource:function o(p){switch(p){case n.PHOTOVIDEO:return j('/images/composer/carousel/photo_video_upload.png');case n.PHOTOALBUM:return j('/images/composer/carousel/photo_album_icon.png');case n.CAROUSEL:return j('/images/composer/carousel/carousel_photo_tab_icon.png');case n.SLIDESHOW:return j('/images/composer/carousel/slideshow_video_icon.png');case n.CANVAS:return j('/images/composer/carousel/pages_canvas_icon.png');default:return null;}}}),n={PHOTOVIDEO:'photo_video',PHOTOALBUM:'photo_album',CAROUSEL:'carousel',SLIDESHOW:'slideshow',CANVAS:'canvas'};f.exports=m;}),null);
__d('ReactComposerCanvasTypeaheadContainer.react',['cx','fbt','AdsCanvasEditorFunnelLogging','CanvasCreationEvent','CanvasCreationWaterfallTypedLogger','ReactComposerCanvasActions','ReactComposerContextMixin','ReactComposerLoggingName','ReactComposerScrapedAttachmentActions','AdsCanvasComposerDialogStore','AdsCanvasSearchSource','AdsCanvasTypeahead.react','CanvasSource','RichMediaEditorActions','RichMediaLoggingStoreUtils','SearchableEntry','StoreAndPropBasedStateMixin','XUICloseButton.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerCanvasTypeaheadContainer',mixins:[c('ReactComposerContextMixin'),c('StoreAndPropBasedStateMixin')(c('AdsCanvasComposerDialogStore'))],propTypes:{config:j.shape({accessToken:j.string.isRequired,businessID:j.string,canAddProductSet:j.bool.isRequired,canAddStoreLocator:j.bool.isRequired,canUseLinkedCanvas:j.bool.isRequired}).isRequired},statics:{calculateState:function l(m){return {selectedCanvas:c('AdsCanvasComposerDialogStore').getSelectedCanvas(),unpublishedCanvas:c('AdsCanvasComposerDialogStore').getUnpublishedCanvas()};}},render:function l(){var m=new (c('AdsCanvasSearchSource'))({pageID:this.context.targetID,accessToken:this.props.config.accessToken,onlyPublished:true});m.bootstrap();var n=this.state.unpublishedCanvas||this.state.selectedCanvas,o=n?n.id:null,p=this.state.selectedCanvas?new (c('SearchableEntry'))({subtile:'',title:this.state.selectedCanvas.name,uniqueID:0}):null,q=i._("Select a canvas"),r=i._("Close"),s={accessToken:this.props.config.accessToken,businessID:this.props.config.businessID,canAddProductSet:this.props.config.canAddProductSet,canAddStoreLocator:this.props.config.canAddStoreLocator,canUseLinkedCanvas:this.props.config.canUseLinkedCanvas,disabled:false,error:null,focusedOnInit:false,mustPublish:true,pageID:this.context.targetID,placeholder:q,searchSource:m,onCloseReset:this._onCloseReset,onDuplicateReload:this._onDuplicateReload,onEntrySelect:this._onEntrySelect,onSaveCanvasSuccess:this._onSaveCanvasSuccess};return (c('React').createElement('div',{className:"_3uyo"},c('React').createElement(c('XUICloseButton.react'),{className:"_3uyp",label:r,onClick:this._onClickCloseButton,size:'medium'}),c('React').createElement(c('AdsCanvasTypeahead.react'),babelHelpers['extends']({canvasID:o,selectedEntry:p,source:c('CanvasSource').PAGE_COMPOSER},s))));},_onClickCloseButton:function l(){c('ReactComposerCanvasActions').hideCanvasSelector(this.context.composerID);},_onCloseReset:function l(){c('RichMediaEditorActions').resetUnpublishedCanvas();},_onDuplicateReload:function l(m,n){c('RichMediaEditorActions').setDialogShown(m,false);c('RichMediaEditorActions').setDialogCanvas(n.id,n);c('RichMediaEditorActions').setDialogShown(n.id,true);c('RichMediaEditorActions').setUnpublishedCanvas(n);},_onEntrySelect:function l(m,n){var o=m.getUniqueID(),p=m.getAuxiliaryData();c('RichMediaEditorActions').setDialogCanvas(o,p);c('RichMediaEditorActions').setSelectedCanvas(p);this._scrapeURL(p.canvas_link);},_onSaveCanvasSuccess:function l(m,n,o,p,q){if(p){c('RichMediaEditorActions').resetUnpublishedCanvas();c('AdsCanvasEditorFunnelLogging').endFunnel();c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').EDITOR_EXIT));c('RichMediaEditorActions').setDialogShown(o.id,false);c('RichMediaEditorActions').setSelectedCanvas(o);this._scrapeURL(o.canvas_link);}else{c('RichMediaEditorActions').setDialogCanvas(o.id,o);c('RichMediaEditorActions').setUnpublishedCanvas(o);}},_scrapeURL:function l(m){c('ReactComposerScrapedAttachmentActions').scrapeAttachment(this.context.composerID,this.context.targetID,m,this.context.composerType,this.context.actorID,c('ReactComposerLoggingName').CANVAS_EDITOR);}});f.exports=k;}),null);
__d('ReactComposerPhotoCarouselStore',['CarouselPagesComposerSource','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerPhotoCarouselActionType','ReactComposerScrapedAttachmentActionType','ReactComposerStoreBase','PagesComposerPostActionsLoggerEvent','PagesComposerActionsLogger'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isPhotoCarouselSelected:false,isCarouselPreviewCompleted:true,shouldShowURLEditArea:false,seenNux:false};},function(l){switch(l.type){case c('ReactComposerPhotoCarouselActionType').SELECT_PHOTO_CAROUSEL:k&&k.$ReactComposerPhotoCarouselStore1(l);break;case c('ReactComposerPhotoCarouselActionType').UNSELECT_PHOTO_CAROUSEL:k&&k.$ReactComposerPhotoCarouselStore2(l);break;case c('ReactComposerPhotoCarouselActionType').PREVIEW_COMPLETED:k&&k.$ReactComposerPhotoCarouselStore3(l);break;case c('ReactComposerPhotoCarouselActionType').PREVIEW_INCOMPLETED:k&&k.$ReactComposerPhotoCarouselStore4(l);break;case c('ReactComposerPhotoCarouselActionType').SHOW_CAROUSEL_URL_INPUT_AREA:k&&k.$ReactComposerPhotoCarouselStore5(l);break;case c('ReactComposerPhotoCarouselActionType').HIDE_CAROUSEL_URL_INPUT_AREA:k&&k.$ReactComposerPhotoCarouselStore6(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerPhotoCarouselStore7(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:k&&k.$ReactComposerPhotoCarouselStore6(l);break;case c('ReactComposerPhotoCarouselActionType').SEEN_NUX:k&&k.$ReactComposerPhotoCarouselStore8(l);break;default:}});k=this;}j.prototype.$ReactComposerPhotoCarouselStore1=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isPhotoCarouselSelected=true;this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore2=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isPhotoCarouselSelected=false;this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore3=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isCarouselPreviewCompleted=true;this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore4=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isCarouselPreviewCompleted=false;this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore5=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.shouldShowURLEditArea=true;var n=k.source;if(n===c('CarouselPagesComposerSource').CAROUSEL_CAMERA_ICON)c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').CLICK_CAROUSEL_CAMERA_ICON,target_id:k.targetID});this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore6=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.shouldShowURLEditArea=false;this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore7=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n=c('ReactComposerAttachmentStore').getSelectedAttachmentID(l);if(m.shouldShowURLEditArea&&n!==c('ReactComposerAttachmentType').MEDIA)m.shouldShowURLEditArea=false;if(m.isPhotoCarouselSelected&&n!==c('ReactComposerAttachmentType').MEDIA){m.isPhotoCarouselSelected=false;m.isCarouselPreviewCompleted=false;}this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore8=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.seenNux=true;this.emitChange(l);};j.prototype.shouldShowURLEditArea=function(k){'use strict';return this.getComposerData(k).shouldShowURLEditArea;};j.prototype.seenNux=function(k){'use strict';return this.getComposerData(k).seenNux;};j.prototype.isPhotoCarouselSelected=function(k){'use strict';return this.getComposerData(k).isPhotoCarouselSelected;};j.prototype.isCarouselPreviewCompleted=function(k){'use strict';return this.getComposerData(k).isCarouselPreviewCompleted;};f.exports=new j();}),null);
__d("XCarouselPageComposerSeenNuxController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composer\/carouselseennux\/",{type:{type:"String"}});}),null);
__d('ReactComposerPhotoCarouselUrlInput.react',['cx','fbt','ix','AsyncRequest','ReactComposerContextMixin','ReactComposerPhotoCarouselActions','ReactComposerPhotoCarouselStore','CSS','Keys','Locale','PagesComposerPostActionsLoggerEvent','PagesComposerActionsLogger','PagesComposerCarouselPostNuxType','ReactComponentWithPureRenderMixin','React','Image.react','ReactDOM','URLMatcher','URLScraper','XCarouselPageComposerSeenNuxController','XUIAmbientNUX.react','XUICloseButton.react','XUITextInput.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'ReactComposerPhotoCarouselUrlInput',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{onChange:k.func.isRequired,onClickRemoveButton:k.func.isRequired,prefillURL:k.string,showUrlInputAreaNux:k.bool},getInitialState:function m(){return {disableArrow:true,showUrlInputAreaNux:this.props.showUrlInputAreaNux&&!c('ReactComposerPhotoCarouselStore').seenNux(this.context.composerID)};},componentDidMount:function m(){var n=c('ReactDOM').findDOMNode(this.refs.inputArea);n.focus();c('CSS').addClass(n,"_47_s");var o=this.props.prefillURL?this.props.prefillURL:'',p=!this._checkValidUrl(o);this.setState({disableArrow:p});c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').PREFILL_SCRAPE_URL,target_id:parseInt(this.context.targetID,10),prefill_scrape_url:this.props.prefillURL});},renderLayers:function m(){var n=i._("Photos are taken from a website that you choose. Enter a website to build your photo carousel.");return (c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.inputArea;}.bind(this),shown:this.state.showUrlInputAreaNux,onCloseButtonClick:this._onCloseButtonClick,position:'below',key:'notice'},n));},_onCloseButtonClick:function m(){var n=c('XCarouselPageComposerSeenNuxController').getURIBuilder().setString('type',c('PagesComposerCarouselPostNuxType').MEDIA_ATTACHEMENT_URL_INPUT_AREA_NUX).getURI(),o=new (c('AsyncRequest'))().setURI(n);o.send();this.setState({showUrlInputAreaNux:false});c('ReactComposerPhotoCarouselActions').seenNux(this.context.composerID);},render:function m(){var n=i._("Photo carousel"),o=i._("Remove"),p=i._("Destination URL"),q=null,r=null,s=null,t=c('Locale').isRTL();if(t){r=j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/arrow-left_20_bluegray-10.png");s=j('/images/composer/carousel/arrow_left_blue.png');}else{r=j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/arrow-right_20_bluegray-10.png");s=j('/images/composer/carousel/arrow_right_blue.png');}if(this.state.disableArrow){q=c('React').createElement(c('Image.react'),{className:"_3ev6",size:'small',src:r,onClick:this._handleScrapeLink});}else q=c('React').createElement(c('Image.react'),{className:"_3ev7",size:'small',src:s,onClick:this._handleScrapeLink});var u=i._("Enter a URL");return (c('React').createElement('div',{className:"_d67"},c('React').createElement('div',{className:"_d68"},c('React').createElement('div',{className:"_d69"},n),c('React').createElement(c('XUICloseButton.react'),{className:"_d6a",label:o,onClick:this.props.onClickRemoveButton,size:'medium'})),c('React').createElement('div',{className:"_d6b"},c('React').createElement('div',{className:"_px7"},c('React').createElement('span',{className:"_2do6"},p),c('React').createElement('div',{className:"_px8"},c('React').createElement(c('XUITextInput.react'),{className:"_d6c",defaultValue:this.props.prefillURL,onBlur:this._onBlur,onChange:this._onChange,onKeyUp:this._handleKeyUp,placeholder:u,ref:'inputArea'}))),q),this.renderLayers()));},_handleScrapeLink:function m(event){var n=c('ReactDOM').findDOMNode(this.refs.inputArea),o=n.childNodes[0].value+'\n';this.setState({inputValue:o});this.props.onChange&&this.props.onChange(o);},_onBlur:function m(event){c('CSS').removeClass(c('ReactDOM').findDOMNode(this.refs.inputArea),"_47_s");},_onChange:function m(event){this.setState({inputValue:event.target.value});this.props.onChange&&this.props.onChange(event.target.value);var n=!this._checkValidUrl(event.target.value);this.setState({disableArrow:n});c('CSS').removeClass(c('ReactDOM').findDOMNode(this.refs.inputArea),"_47_s");},_handleKeyUp:function m(event){if(event.keyCode===c('Keys').RETURN){var n=event.target.value+'\n';this.setState({inputValue:n});this.props.onChange&&this.props.onChange(n);}},_checkValidUrl:function m(n){return c('URLScraper').match(n)||c('URLMatcher').permissiveMatch(n);}});f.exports=l;}),null);
__d('ReactComposerPhotoCarouselUrlInputContainer.react',['ReactComposerContextMixin','ReactComposerLoggingName','ReactComposerPhotoCarouselActions','ReactComposerPhotoCarouselUrlInput.react','ReactComposerStatusUtils','PagesComposerPostActionsLoggerEvent','PagesComposerActionsLogger','ReactComponentWithPureRenderMixin','React','URLScraper'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerPhotoCarouselUrlInputContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{prefillURL:h.string,showUrlInputAreaNux:h.bool},render:function j(){return (c('React').createElement(c('ReactComposerPhotoCarouselUrlInput.react'),{onChange:this._onMentionsInputChange,onClickRemoveButton:this._onClickRemoveButton,prefillURL:this.props.prefillURL,showUrlInputAreaNux:this.props.showUrlInputAreaNux}));},_onClickRemoveButton:function j(){c('ReactComposerPhotoCarouselActions').hidePhotoCarouselUrlEditArea(this.context.composerID);c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').REMOVE_PHOTO_CAROUSEL_URL_INPUT,target_id:parseInt(this.context.targetID,10)});},_onMentionsInputChange:function j(k){if(!c('URLScraper').trigger(k))c('ReactComposerStatusUtils').scrapeLink(this.context.composerID,this.context.targetID,k,this.context.composerType,this.context.actorID,c('ReactComposerLoggingName').INLINE_COMPOSER);}});f.exports=i;}),null);
__d('ReactComposerPhotoCarouselUtils',['fbt','ReactComposerPhotoCarouselStore','React'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={getPhotoCarouselMediaContent:function j(k,l){var m=null;if(!k)return m;if(k.ComposerPhotoCarouselPlaceHolder){var n=k.ComposerPhotoCarouselPlaceHolder;m=c('React').createElement(n,null);}else{var o=k.ComposerPhotoCarouselUrlInputContainer;m=c('React').createElement(o,{showUrlInputAreaNux:l.showUrlInputAreaNux,prefillURL:k.preFillURL});}return m;},getInputPlaceHolder:function j(k,l){var m=h._("Write something...");if(l||!k||!k.ComposerPhotoCarouselPlaceHolder)return m;return h._("Enter a URL");},isPagePostButtonDisabled:function j(k){if(!c('ReactComposerPhotoCarouselStore').isPhotoCarouselSelected(k))return false;if(c('ReactComposerPhotoCarouselStore').shouldShowURLEditArea(k))return true;if(!c('ReactComposerPhotoCarouselStore').isCarouselPreviewCompleted(k))return true;return false;}};f.exports=i;}),null);
__d('ReactComposerSlideshowThumbnailViewContainer.react',['cx','ReactComposerMediaUploadActions','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerSelectedImagesStore','ReactComposerSlideshowActions','ReactComposerSlideshowAudioStore','ReactComposerSlideshowDialogContainer.react','ReactComposerSlideshowStore','React','ReactComponentWithPureRenderMixin','ReactFragment','SlideshowPreview.react','SlideshowPreviewConstants','SlideshowImageUtil'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerSlideshowThumbnailViewContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerSlideshowAudioStore'),c('ReactComposerSlideshowStore'),c('ReactComposerSelectedImagesStore')),c('ReactComponentWithPureRenderMixin')],propTypes:{maxSelectedImages:i.number.isRequired,mediaAcceptParam:i.string.isRequired,pageID:i.string.isRequired,showAudioRedesign:i.bool.isRequired,onFilesSelected:i.func.isRequired},statics:{calculateState:function k(l,m){return {dialogShown:c('ReactComposerSlideshowStore').shouldShowSlideshowDialog(l),durationWithTransitionInMS:c('ReactComposerSlideshowStore').getDurationInMS(l),imagesAllLoaded:!c('ReactComposerMediaUploadStore').isUploading(l),imagesCrops:c('ReactComposerSelectedImagesStore').getImagesCrops(l),isPreviewPlaying:c('ReactComposerSlideshowAudioStore').getIsPreviewPlaying(l),selectedImages:c('ReactComposerSelectedImagesStore').getSelectedImages(l),selectedStorylineMood:c('ReactComposerSlideshowAudioStore').getSelectedStorylineMood(l),transitionInMS:c('ReactComposerSlideshowStore').getTransitionInMS(l)};}},_renderPreview:function k(){var l=c('SlideshowPreviewConstants').WWW_PREVIEW_CONTAINER_SIZE_COMPOSER,m=c('SlideshowPreviewConstants').WWW_PLAYER_SIZE_COMPOSER,n=c('SlideshowImageUtil').getPreviewBoxDimensions(this.state.imagesCrops,m),o={marginBottom:(n.height-l)/2,marginLeft:c('SlideshowPreviewConstants').WWW_COMPOSER_LEFT_MARGIN,marginTop:(n.height-l)/2};return (c('React').createElement('div',{className:"_3-95",style:{overflow:'hidden'}},c('React').createElement(c('SlideshowPreview.react'),{durationWithTransitionInMS:this.state.durationWithTransitionInMS,hidden:false,imagesAllLoaded:this.state.imagesAllLoaded,imagesCrops:this.state.imagesCrops,isPreviewPlaying:this.state.isPreviewPlaying,maxSelectedImages:this.props.maxSelectedImages,previewBoxContainerSize:l,previewBoxSize:m,selectedImages:this.state.selectedImages,storylineMoodIDSource:this.state.selectedStorylineMood?this.state.selectedStorylineMood.source:null,style:o,transitionInMS:this.state.transitionInMS,onClose:this._onXout,onEdit:this._onShowDialog,onPreviewStateChange:this._onPreviewStateChange})));},render:function k(){return (c('React').createElement('div',null,this._renderPreview(),this.renderLayers()));},renderLayers:function k(){var l=null;if(this.state.dialogShown)l=c('React').createElement(c('ReactComposerSlideshowDialogContainer.react'),{dialogShown:this.state.dialogShown,maxSelectedImages:this.props.maxSelectedImages,mediaAcceptParam:this.props.mediaAcceptParam,pageID:this.props.pageID,showAudioRedesign:this.props.showAudioRedesign,onCloseDialog:this._onCloseDialog,onFilesSelected:this.props.onFilesSelected});return c('ReactFragment').create({dialog:l});},_onShowDialog:function k(){c('ReactComposerSlideshowActions').showEditSlideshowDialog(this.context.composerID);},_onPreviewStateChange:function k(l){c('ReactComposerSlideshowActions').previewStateChange(this.context.composerID,l);},_onXout:function k(){var l=c('ReactComposerSelectedImagesStore').getNumberOfImages(this.context.composerID);c('ReactComposerMediaUploadActions').removeAllPhotoUploads(this.context.composerID,c('ReactComposerMediaUploadStore').getUploadsOfType(this.context.composerID,c('ReactComposerMediaUploadType').PHOTO));c('ReactComposerSlideshowActions').hideSlideshowEditField(this.context.composerID,l);},_onCloseDialog:function k(){var l=c('ReactComposerSelectedImagesStore').getAddedUploadIDs(this.context.composerID);l.forEach(function(m){var n=c('ReactComposerMediaUploadStore').getMediaUpload(this.context.composerID,m);c('ReactComposerMediaUploadActions').removePhotoAndPhotoUpload(this.context.composerID,n);}.bind(this));c('ReactComposerSlideshowActions').closeEditSlideshowDialog(this.context.composerID);}});f.exports=j;}),null);
__d('ReactComposerAttachmentPreview.react',['DOMContainer.react','React'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;k.prototype.render=function(){'use strict';if(!this.props.markup)return c('React').createElement('noscript',null);return (c('React').createElement(c('DOMContainer.react'),null,this.props.markup));};function k(){'use strict';h.apply(this,arguments);}k.propTypes={markup:j.instanceOf(HTMLElement).isRequired};f.exports=k;}),null);
__d('ReactComposerAttachmentPreviewContainer.react',['csx','cx','ReactComposerEvents','ReactComposerLocationAttachmentActions','ReactComposerLocationAttachmentStore','ReactComposerLoggingName','ReactComposerMinutiaeAttachmentActions','ReactComposerMinutiaeAttachmentStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerAttachmentPreview.react','ReactComposerPrefillStore','ReactComposerScrapedAttachmentActions','ReactComposerScrapedAttachmentStore','Arbiter','DOM','Event','ReactComponentWithPureRenderMixin','React','ReactDOM','XUICloseButton.react'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerAttachmentPreviewContainer',_buttonEvent:undefined,_prefillSubscription:undefined,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerScrapedAttachmentStore'),c('ReactComposerMinutiaeAttachmentStore'),c('ReactComposerLocationAttachmentStore'))],propTypes:{markup:j.instanceOf(HTMLElement)},statics:{calculateState:function l(m,n){var o=c('ReactComposerScrapedAttachmentStore').getMarkup(m),p=c('ReactComposerScrapedAttachmentStore').isReadOnly(m),q=c('ReactComposerMinutiaeAttachmentStore').getMarkup(m),r=c('ReactComposerLocationAttachmentStore').getMarkup(m);return {markup:o||q||r,showRemoveButton:o&&p};}},componentDidMount:function l(){this._prefillSubscription=c('Arbiter').subscribe(c('ReactComposerEvents').SET_PREFILL_DATA+this.context.composerID,this._handlePrefill);this._cleanupButtonEvent();this._setButtonEvent();},componentDidUpdate:function l(){this._setButtonEvent();},componentWillUnmount:function l(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;this._cleanupButtonEvent();},render:function l(){var m=null;if(this.state.markup){var n=this.state.showRemoveButton?this._renderRemoveButton():null;m=c('React').createElement('div',{className:"_2ane"},c('React').createElement(c('ReactComposerAttachmentPreview.react'),{ref:'attachment',markup:this.state.markup}),n);}return (c('React').createElement('div',{'data-testid':'attachment-preview'},m));},_handlePrefill:function l(){var m=c('ReactComposerPrefillStore').getAndEraseField(this.context.composerID,'attachmentPreviewData');if(m)if(m.scrapedAttachment){if(m.scrapedAttachment.markup){c('ReactComposerScrapedAttachmentActions').setScrapedAttachmentWithoutLogging(this.context.composerID,m.scrapedAttachment.markup,m.scrapedAttachment.attachmentConfig);}else if(m.minutiaeAttachment.markup)c('ReactComposerMinutiaeAttachmentActions').setMarkup(this.context.composerID,m.minutiaeAttachment.markup);}else if(m.scrapedURL)c('ReactComposerScrapedAttachmentActions').scrapeAttachment(this.context.composerID,this.context.targetID,m.scrapedURL,this.context.composerType,this.context.actorID,c('ReactComposerLoggingName').INLINE_COMPOSER);},_renderRemoveButton:function l(){return (c('React').createElement('div',{className:"_2anf"},c('React').createElement(c('XUICloseButton.react'),{className:"_2anh",size:'medium',shade:'light',onClick:this._clearAttachment})));},_setButtonEvent:function l(){if(this.refs.attachment){var m=c('DOM').scry(c('ReactDOM').findDOMNode(this.refs.attachment),"._9s")[0];if(m)this._buttonEvent=c('Event').listen(m,'click',function(event){this._clearAttachment();this._buttonEvent&&this._buttonEvent.remove();this._buttonEvent=null;}.bind(this));c('Arbiter').inform('react_composer_dom_ready/'+this.context.composerID);}},_clearAttachment:function l(){c('ReactComposerScrapedAttachmentActions').setScrapedAttachment(this.context.composerID,null,{},c('ReactComposerLoggingName').LINK_REMOVE_BUTTON);c('ReactComposerMinutiaeAttachmentActions').setMarkup(this.context.composerID,null);c('ReactComposerLocationAttachmentActions').setMarkup(this.context.composerID,null);},_cleanupButtonEvent:function l(){this._buttonEvent&&this._buttonEvent.remove();}});f.exports=k;}),null);